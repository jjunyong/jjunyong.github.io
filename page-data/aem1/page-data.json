{"componentChunkName":"component---src-templates-blog-template-js","path":"/aem1/","result":{"data":{"cur":{"id":"385f5e04-75dc-546b-bf37-19032cb99613","html":"<blockquote>\n<p>AEM ì„ ì†Œê°œí•¨ì— ìˆì–´ í•´ë‹¹ ê³¼ì •ì€ Udemyì˜ <a href=\"https://www.udemy.com/course/adobe-experience-manager-63\">https://www.udemy.com/course/adobe-experience-manager-63</a> ê³¼ì •ì„\nì˜ì–´ê°€ ì–´ë ¤ìš´ ì‚¬ëŒë“¤ì„ ìœ„í•´ í•œêµ­ì–´ë¡œ ì •ë¦¬í•˜ëŠ” ë° ëª©ì ì´ ìˆìŒì„ ë°íŒë‹¤. AEM ê´€ë ¨í•´ì„œ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•´ë‘” ë¸”ë¡œê·¸ë¥¼ ì°¾ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì´ê¸°ë„ í•˜ë‹¤.</p>\n</blockquote>\n<br>\n<h2 id=\"aem-ì†Œê°œ\" style=\"position:relative;\"><a href=\"#aem-%EC%86%8C%EA%B0%9C\" aria-label=\"aem ì†Œê°œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AEM ì†Œê°œ</h2>\n<ul>\n<li>AEMì€ â€˜Adobe Experience Managerâ€™ ì˜ ì•½ì–´ì´ë©°, ì–´ë„ë¹„ ì‚¬ì—ì„œ ë§Œë“  Java ê¸°ë°˜ì˜ CMS ì†”ë£¨ì…˜ì´ë‹¤.\nAEMì€ ìƒìš© ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ë° ë§ì´ ì‚¬ìš©ë˜ë©° ì›¹ ì‚¬ì´íŠ¸ì˜ ì½˜í…ì¸ ì™€ asset ë“¤ì„ ê´€ë¦¬í•˜ê¸°ì— ìš©ì´í•˜ë©° ë°°í¬ê¹Œì§€ ì§€ì›í•œë‹¤.</li>\n</ul>\n<br>\n<blockquote>\n<h3 id=\"ì›¹ì‚¬ì´íŠ¸ì™€-cms\" style=\"position:relative;\"><a href=\"#%EC%9B%B9%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%99%80-cms\" aria-label=\"ì›¹ì‚¬ì´íŠ¸ì™€ cms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì›¹ì‚¬ì´íŠ¸ì™€ CMS</h3>\n<p>ì›¹ ì‚¬ì´íŠ¸ì—ëŠ” 3ê°€ì§€ ì¢…ë¥˜ê°€ ìˆë‹¤.</p>\n<ol>\n<li>Static ì›¹ ì‚¬ì´íŠ¸\n: ì •ì  ë¦¬ì†ŒìŠ¤ë¡œë§Œ ì´ë£¨ì–´ì§„ ì›¹ ì‚¬ì´íŠ¸ì´ë‹¤.</li>\n<li>Dynamic ì›¹ ì‚¬ì´íŠ¸\n: í´ë¼ì´ì–¸íŠ¸/ì„œë²„ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ë™ì ìœ¼ë¡œ ì›¹ ì‚¬ì´íŠ¸ì˜ ì½˜í…ì¸ ë¥¼ ê´€ë¦¬í•˜ëŠ” ì›¹ ì‚¬ì´íŠ¸ì´ë‹¤.</li>\n<li>CMS</li>\n</ol>\n<ul>\n<li>templateì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤</li>\n<li>ì¬ì‚¬ìš© ê°€ëŠ¥í•œ Componentë¥¼ ìƒì„±í•˜ê³  publishí•  ìˆ˜ ìˆë‹¤.\nAEMì€ CMSì˜ í•œ ì¢…ë¥˜ì´ë©° ì•„ë˜ì™€ ê°™ì€ êµ¬ì¡°ë¥¼ í†µí•´ í˜ì´ì§€ë¥¼ êµ¬ì„±í•œë‹¤.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACT0lEQVQoz22SS08TYRSGu/cGBS1VoEpbXJhojAoBKaALBDsirbTzzTedCuUSVIRw6Uyk1piQGLeEmOhClBDQICz8FwIuuIYoIPGXPGZGKCSweHOS93nPm7M4rkZhYEVqGIjWMxStYzhae6BICFNrxDSasZItpFvvOt7hjL1j76ajIWq1Llyp2AO+K2eZUS4wqZQwofj4tK9wCVP6TeaeNvCtT+Fz9LLj7XM7O6UU81U5z7ziIaIKXAHdpFSkKdZMFL0dQ8aRUuRkiFZqtG7CIomhxXK+JgVJGade76FIWPi0YewuV9Cw8OkmvmSWubYKduInWBOFbIgCZ+6KU7zujjPfUcUf9WSOrYpC/mqnedvZTL7M4k+YBBMWrmDC5KJM4zMyTLdVsy7PsSC8LKkeZ64LN5nOONOpEBvSw4JaxJLw8EP1sqkVMpp6iFu+xK+n9wstfNLEZ4wwkwrxq/8Wq5kway8aWR4JszVURSb1iC/dd/jdd+OAZRR2BisZ7ThSuHdhMsP040rWYmdYFF5+iiIWVQ8b8bz/F7ZXs36ILcQ9bAr3MRcaFqW6RWkyy2x7FVuam2XpZVV6WJFetmU+r7pUZjtusy3drMgih9mZXb2AN50t5MksZbpJwC4s14cJiAHKtEHqRIomVXJPTeTUpOpUaE+OsAaHSSq1HnxiyOko19O49FgLk+ES3itljIcDjCnBPZUzdt/PeOt1JnojfHweZTx61fEctpd7F/bzQbnk/KSi6riuyX7nw+1fs+exMp5Rl+yl9phM6NDuFX2AfzwwzD/XmbJ/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image2\"\n        title=\"image2\"\n        src=\"/static/5d1403cb60cf09bf19fc144ed762f88d/37523/image2.png\"\n        srcset=\"/static/5d1403cb60cf09bf19fc144ed762f88d/e9ff0/image2.png 180w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/f21e7/image2.png 360w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/37523/image2.png 720w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/302a4/image2.png 1080w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/07a9c/image2.png 1440w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/ce0a7/image2.png 1590w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</blockquote>\n<br>\n<h3 id=\"1-aemì˜-ì»¨ì…‰\" style=\"position:relative;\"><a href=\"#1-aem%EC%9D%98-%EC%BB%A8%EC%85%89\" aria-label=\"1 aemì˜ ì»¨ì…‰ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. AEMì˜ ì»¨ì…‰</h3>\n<ul>\n<li>íŒŒì¼ ì‹œìŠ¤í…œê³¼ ìœ ì‚¬í•œ JCR repositoryë¼ëŠ” ê³³ì— ëª¨ë“  ê²ƒì„ ì €ì¥í•˜ëŠ”ë° ì´ê²Œ ë¬´ì—‡ì¸ ì§€ëŠ” ì´í›„ì— ì‚´í´ë³´ì.</li>\n<li>2ê°€ì§€ ë°©ì‹ì˜ UIê°€ ìˆê³  ì£¼ë¡œ Touch UI ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.\n<ul>\n<li>Touch UI\n<ul>\n<li>ë””í´íŠ¸ UIì´ë©° ë°˜ì‘í˜• ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</li>\n</ul>\n</li>\n<li>Classic UI\n<ul>\n<li>ë°˜ì‘í˜•ì´ì§€ ì•Šê³  Desktop í˜ì´ì§€ë§Œì„ ì§€ì›í•œë‹¤ .</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>OSGI, JCR, Apache Sling ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.</li>\n</ul>\n<h3 id=\"2-authorì™€-publish\" style=\"position:relative;\"><a href=\"#2-author%EC%99%80-publish\" aria-label=\"2 authorì™€ publish permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Authorì™€ Publish</h3>\n<ul>\n<li>\n<p>Author</p>\n<ul>\n<li>ì½˜í…ì¸ ì™€ í˜ì´ì§€ë¥¼ CRUDí•  ìˆ˜ ìˆìœ¼ë©° í•´ë‹¹ ì‘ì—…ì´ Publishì— <strong>Activate</strong> í•˜ê¸° ì „ì—ëŠ” ì›¹ ì‚¬ì´íŠ¸ì— ì—°ë™ë˜ì§€ ì•ŠëŠ”ë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Publish</p>\n<ul>\n<li>Publicì— ê³µê°œëœ wasë¡œ ë³´ë©´ ë˜ë©°, publishì— ë°˜ì˜ëœ ë‚´ìš©ì€ ì›¹ ì‚¬ì´íŠ¸ì—ì„œ ë°”ë¡œ ë°˜ì˜ëœë‹¤.</li>\n<li>Authorì˜ ë‚´ìš©ì€ activateì„ í†µí•´ publishì— ë°˜ì˜ë˜ê³  deactivateì„ í†µí•´ ì‚­ì œëœë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Replication</p>\n<ul>\n<li>Contentë¥¼ Author -> Publisher ë¡œ ë³µì‚¬í•˜ëŠ” ê²ƒì¸ë° ê°œë… ìƒ Activateì„ í†µí•´ì„œ replicationì„ êµ¬í˜„ í•œë‹¤ê³  ë³´ë©´ ë  ê²ƒ ê°™ë‹¤.</li>\n<li>Publihser -> Authorë¡œ ë³µì‚¬í•˜ëŠ” ê²ƒì€ Reverse replicationì´ë¼ê³  í•œë‹¤.</li>\n<li>Replication Agent\n<ul>\n<li>replicationì„ ìë™í™” í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì¸ ê²ƒ ê°™ë‹¤. Authorì—ì„œ Activateì„ í•˜ë©´ Replication queueì— ìŒ“ì´ê³  publishëŠ” queueì— ìˆëŠ” ë³€ê²½ì‚¬í•­ì„ ê°€ì ¸ì™€ì„œ ë°˜ì˜í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-slingì´ë€\" style=\"position:relative;\"><a href=\"#3-sling%EC%9D%B4%EB%9E%80\" aria-label=\"3 slingì´ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Slingì´ë€?</h3>\n<p>AEMì—ì„œ ì½˜í…ì¸ ì˜ ì €ì¥ì†Œë¡œ ì‚¬ìš©ë˜ëŠ” JCRì„ ì´í•´í•˜ê¸°ì— ì•ì„œ Apache Sling(ì¤„ì—¬ì„œ ê·¸ëƒ¥ Sling)ì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ì•¼ í•œë‹¤.\nSlingì˜ ëª©í‘œëŠ” ì½˜í…ì¸  ì €ì¥ì†Œì˜ ì½˜í…ì¸ ë¥¼ HTTP ë¦¬ì†ŒìŠ¤ë¡œ ë‚˜íƒ€ë‚´ RESTfulí•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ëŠ” ê²ƒì´ë‹¤.\nAEMì—ì„œ JCRì€ Slingì„ í†µí•´ Webì— ë…¸ì¶œëœë‹¤ê³  ì´í•´í•  ìˆ˜ ìˆë‹¤.</p>\n<p>URLë¡œ AEMì— ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´, ( ex. req: /content/corporate/jobs/developer.html)</p>\n<ol>\n<li>ê°€ì¥ ë¨¼ì € JCRì˜ nodeë¥¼ ì°¾ê³ ,</li>\n<li>í•´ë‹¹ nodeì˜ sling:resourceType ê°’ì„ í†µí•´ ë Œë”ë§ ì‹œ ì‚¬ìš©í•  ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì°¾ëŠ”ë‹¤.</li>\n<li>ì°¾ì€ ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹¤í–‰ì„ ê±°ì³ ì½˜í…ì¸ ë¥¼ í™”ë©´ì— ë Œë”ë§í•œë‹¤.</li>\n</ol>\n<ul>\n<li>ëª¨ë“  Sling ìŠ¤í¬ë¦½íŠ¸ëŠ” /apps ë˜ëŠ” /libs í•˜ìœ„ í´ë”ì— ì €ì¥í•œë‹¤.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADAklEQVQoz12S3U9bBRiH+0945ZVeaLzwT/DCG5f4ETXGuGQXJmZmLm5zbtmiA2EXOpNZpFtjHC1DQbBA1A4LlBkwOGQdDVAKbra083BK6Wl7Sjk9p6c9n31Mi8bF9+q9evL83t/r8Q5FuOQd5lP/93xxY4JrN38kMBpheDLK5M8LTM3dYWFplTuxBLH4BllhF9elM61Wi/+PJydVSGVFcqUDippNQWlSUBoUlQYlRaes6FTUBlW1gVxVyTzcoVAsIysartvCcRy+Dt2myzfOyK1FPLRANy3MfBp5IURz41daqRhOZhV3ZxM3n6ZVEqBaALWCWpaoSbsc3I93DE3L4sjxz3nsufc5dsGPxzAtVN3AkPdID14m0/Uqsu8EtW+70X7wUo8G0X6bRF/7hWY6jiPncKW/MJKLnYimafLm2X6efuki7/UG8ZiWg6rV+ecs7MyFyP4URIx8gxAdo7A0jZFZx8ylsEoitiLjaAdY5d12OEzb4fXTfTx55DzHu28cArW6Tst1OkADKMRukxzp40F4COXeLGZqBUvYwpYe4ihlnJqMsZcFQ8fWVY6ev84zL1/k5OWOoY1S02g0Ddql1TWNvCiSXFsjuZ5AFARc28Y2LWzLxrZt/u1W35dZubfGmSvDvNM1QO/1cTyW7VCqHPB7QsA3Hsc7FiMQ+ZPgdJrB2W0CkRQ3ZzMMzWUIL+dY3a4gSDWKRRm9aSFK+7z1oY9nX/uYEz0BPO2mHLfVsVtPSVzyz3LKO0PP2AN6vtuiZ/Q+vaPt/Q/6b6WZjkssbeZZjG0eWjaavHHmS5544RzvfjLwKPAwSHavRp8vxGB/gAH/CBOjM0xNLROOrBCOJphZTDEfFxB28u3XRq03Oi0/9eKF/wzdR4DivkXU5+Vu1zHmPzvLRvAKyTE/29EJcnfnEdaWqcr72KaBbTtoeoNXTl7l8ec/4O2PvjoE2o6L47gdqFK32MrKbGVKbGZKJNJF1tNFNjJl0mIVUVJQdYt608IwbSzLotsX4ui5a1wNhvkbR9wyQdNn2OgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image4\"\n        title=\"image4\"\n        src=\"/static/1e12acb1d0569a4b5c10eaee0d3d8e95/37523/image4.png\"\n        srcset=\"/static/1e12acb1d0569a4b5c10eaee0d3d8e95/e9ff0/image4.png 180w,\n/static/1e12acb1d0569a4b5c10eaee0d3d8e95/f21e7/image4.png 360w,\n/static/1e12acb1d0569a4b5c10eaee0d3d8e95/37523/image4.png 720w,\n/static/1e12acb1d0569a4b5c10eaee0d3d8e95/302a4/image4.png 1080w,\n/static/1e12acb1d0569a4b5c10eaee0d3d8e95/105d8/image4.png 1170w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"4-jcr-java-content-repository-ë€\" style=\"position:relative;\"><a href=\"#4-jcr-java-content-repository-%EB%9E%80\" aria-label=\"4 jcr java content repository ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. JCR (Java Content Repository) ë€?</h3>\n<p>JCRì€ Contentsë¥¼ Repositoryë¡œì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Javaì—ì„œ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¼ê³  ì •ì˜í•  ìˆ˜ ìˆìœ¼ë©°,\nJCRì€ ì•„ë˜ì™€ ê°™ì€ íŠ¸ë¦¬êµ¬ì¡°ì˜ ì €ì¥ì†Œë¡œì„œ Nodeì™€ Propertyë¡œ êµ¬ì„±ëœë‹¤.\n/blog/jan/31/title/ ê³¼ ê°™ì´ urlë¡œì„œ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACbElEQVQ4y52S30sUURTH96/otf+h3oIQgiilMqKkl0DwB0S99eJDD5EUGAhlEFhawVIagRJh4VuQ/RDdfrimrkYluOvPnZ3d2dmZO/fHJ2Z229ZSIw+cOfeee+9nvufeE6NixpjIQ/MmBnFGOimO3qA42oUJStU9/7LYZqCOxs5QB9bNw1i9p8ndbkCX8rsFGqIjgUeQXyOX+QHCqYJ2BQxNLiZwPwyTG3+KmH6BUcH/AX+Va7SKkoWBi1jX9mHfPUP2+n60mysDtdqkdqsfxLZK6o1vrCdGyEy+xP8+8df6TkrLClWALtloZwPj2RQcl6IECViOh/YK6GIW7VqYwNtZYfgRqVdY3XU4j9rJdddRTAxVN4jsElbPUfLxFnI9R3BHuyrl6+2BweIkhXgrmYFL5ONtyK+vy4fC8t0szuPzOMMdFOJtlN7eryjcARiaXZLYRQ+rKKjdZjBb3KHeBKwFx7yxe9jvB3FdF7TC8zzsxDO8N/1oz6EqdRv789VjzvMrlMb6yvclRBRLE4NYw5dRuQV0sIH2V9D+6mYX6xgtwhcFIyOPgFu1QtiN6fUNgtkm5JfjyJmTyJkTNbEROVWH8lerBZhqH4bNGr5YDVRKyfpqBjF/AX+2GTHXgohiKyLVhki1R3OZ6UOtPUEt96OWH2CU91thrUqpFJn0EsFME3LuLHKhvaxq9hQydQ650Iqcby7Pw3zyEPLzQXRgbwOUZaA/VY94twfx8QD+dCN+sh4/2YCfPFYZ1yM+HUSM742i2g6otaGQt5HpXtTiVdTSLeRKHLnyMCpPVkpUy32o9B3UYidqqQetSvwEdYT0LNBCg9EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image3\"\n        title=\"image3\"\n        src=\"/static/d793f1e330910b0077d598dcca2aa1a3/37523/image3.png\"\n        srcset=\"/static/d793f1e330910b0077d598dcca2aa1a3/e9ff0/image3.png 180w,\n/static/d793f1e330910b0077d598dcca2aa1a3/f21e7/image3.png 360w,\n/static/d793f1e330910b0077d598dcca2aa1a3/37523/image3.png 720w,\n/static/d793f1e330910b0077d598dcca2aa1a3/302a4/image3.png 1080w,\n/static/d793f1e330910b0077d598dcca2aa1a3/07a9c/image3.png 1440w,\n/static/d793f1e330910b0077d598dcca2aa1a3/6568d/image3.png 1660w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>JCRì˜ Nodeì™€ PropertyëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ë¥¼ ì§€ë‹Œë‹¤.</p>\n<ul>\n<li>node type\n<ul>\n<li>ë…¸ë“œì˜ íƒ€ì…ì´ folderì¸ì§€, fileì¸ì§€, unstructured ì¸ì§€ë¥¼ ì •ì˜í•œë‹¤.</li>\n</ul>\n</li>\n<li>mixin type\n<ul>\n<li>versionable, lockable ê³¼ ê°™ì€ ë²„ì „ê³¼ ì ê¸ˆ ì—¬ë¶€ì— ëŒ€í•œ ì •ë³´</li>\n</ul>\n</li>\n<li>value property : 1ê°œì¼ ìˆ˜ë„ ìˆê³  ì—¬ëŸ¬ ê°œ ì¼ ìˆ˜ ìˆë‹¤.</li>\n<li>child nodes : ìì‹ ë…¸ë“œì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤.</li>\n</ul>\n<p>JCRì€ RDBMSì™€ File systemì˜ íŠ¹ì§•ì„ ëª¨ë‘ ê°€ì§€ê³  ìˆìœ¼ë©° ë‹¤ë¥¸ ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.</p>\n<ul>\n<li>RDBMSì˜ íŠ¹ì§•ì¸ Transaction, query, ì •í˜• ë°ì´í„° ì €ì¥, ë¬´ê²°ì„±</li>\n<li>File systemì˜ íŠ¹ì§•ì¸ ê³„ì¸µêµ¬ì¡°, ë¦¬ì†ŒìŠ¤ ì ê¸ˆ, ì ‘ê·¼ ì œì–´</li>\n<li>ë¿ë§Œ ì•„ë‹ˆë¼ í’€í…ìŠ¤íŠ¸ê²€ìƒ‰, ë²„ì ¸ë‹, ë¹„ì •í˜•ë°ì´í„° ì €ì¥ ë“±ì„ ì§€ì›í•œë‹¤.</li>\n</ul>\n<br>\n<h2 id=\"aem-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#aem-%EC%84%A4%EC%B9%98\" aria-label=\"aem ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AEM ì„¤ì¹˜</h2>\n<ul>\n<li>\n<p>AEMì€ Authorì™€ Publisheë¼ëŠ” ê²ƒì´ ìˆëŠ”ë°, ì´ì— ëŒ€í•´ì„œëŠ” ë‚˜ì¤‘ì— ë‹¤ë£° ê²ƒì´ë‹¤.\nì§€ê¸ˆì€ Authorì™€ PublisheëŠ” ë‘˜ë‹¤ AEM ì¸ìŠ¤í„´ìŠ¤ì´ì§€ë§Œ, ì—­í• ì„ ë‚˜ëˆˆ ê²ƒìœ¼ë¡œ ì´í•´í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.</p>\n</li>\n<li>\n<p>ì„œë²„ì— Author, Publisherë¥¼ ì„¤ì¹˜í•  ë•Œ\ncq-author-p4502.jar, cq-publish-p4503.jar ê³¼ ê°™ì€ /aem/author/ ë˜ëŠ” /aem/pubilhser ê²½ë¡œì— jaríŒŒì¼ì„ ì„¤ì¹˜í•œë‹¤.\nì´ë ‡ê²Œ í•˜ë©´ localhost:4502 ì—ëŠ” Authorê°€ ì‹¤í–‰ë˜ê³ , localhost:4503ì—ëŠ” publisherê°€ ì‹¤í–‰ëœë‹¤.</p>\n</li>\n<li>\n<p>ê° ì¸ìŠ¤í„´ìŠ¤ì˜ ë””ë ‰í† ë¦¬ì—ëŠ” ìœ„ì˜ jaríŒŒì¼ê³¼ í•¨ê»˜ license.propertiesê°€ ì¡´ì¬í•´ì•¼ í•˜ë©°, jaríŒŒì¼ì€ ì²˜ìŒ ì‹¤í–‰ë  ë•Œ crx-quickstartë¼ëŠ” ë””ë ‰í† ë¦¬ë¥¼ ìë™ìœ¼ë¡œ\nìƒì„±í•˜ê²Œ ëœë‹¤.</p>\n</li>\n<li>\n<p>jarê°€ ì‹¤í–‰ë˜ê³  crx-quickstart ë””ë ‰í† ë¦¬ê°€ ìƒì„±ë˜ì—ˆë‹¤ë©´ localhost:4502ì—ì„œ ì•„ë˜ì™€ ê°™ì´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOklEQVQoz12RXUiTYRiG368/BZMw2ydGppVrTttmlGauQZSpuECw6CCiP4jwwAgMNcs0KMJ06jeXI39CTYlCSgzppIQOg8iMbGnT0gSx6KigwO294tuGRgc3DzwHF9dzP2L203u+z8/yY2GOr9MTfPH7mJny/TM/LOVzaPcxvNenf5z5GR/f5iaZ8o3inxhD4Ekg4I5n0ROP9KrgNYTTrkJHAnSqyC4V2W2APpVgn8qf3o1w30CwfzMj9TaqTmdy/sh2XOdUhLwloF6ASyA1gXQLZLNANglkiyDoEeAVBPtNLDxystBj4XdfCr96jfi7rbzocvK0PY+hO0Ye3jAi5G0F6VKQmoJsW4m8G4v0rkVqK5A6rEPhp0cwpmXxoKOW4cEBRu6VMlCRwuNqI711e2m77qCuzERrZbYOFMjGiFWzAs1hM9mqEOiMhh7Bs/IYnA4zRYUHKT5cQJHdSF5OBtmZ6VisZkxpyayLiyHOEIeQDRGgK3K2DtMU0AQBbzR0CYYvxnCsOI+Tx0s4WmjHecjBvvwCKq/WcaWmlvKqai5V11By4iwiBGuMdNa0DNS7DGgCOgVDZWvItiaxf3cqdssmtljNpGbl8vLVGG/fjfP6zSiT/mkamlqXDUN2umVL+Dm4BYtuETIcvBDFLvN6Dlg2kJGWQpLVRkL6TvaUlGNL28aOZAOWrYmYkhP/Ay4Z6h2GQ7tgpkXheU0UTyozyD9TSlFFLTm5Nk5lxXLNsZqbuYJ6h+CyfRV/AXlbvlnap3yRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./image1\"\n        title=\"./image1\"\n        src=\"/static/d83e5f5216b453d8688952b57433b655/37523/image1.png\"\n        srcset=\"/static/d83e5f5216b453d8688952b57433b655/e9ff0/image1.png 180w,\n/static/d83e5f5216b453d8688952b57433b655/f21e7/image1.png 360w,\n/static/d83e5f5216b453d8688952b57433b655/37523/image1.png 720w,\n/static/d83e5f5216b453d8688952b57433b655/302a4/image1.png 1080w,\n/static/d83e5f5216b453d8688952b57433b655/07a9c/image1.png 1440w,\n/static/d83e5f5216b453d8688952b57433b655/90eea/image1.png 2254w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<h2 id=\"aem-ì½˜ì†”ì˜-ì¢…ë¥˜\" style=\"position:relative;\"><a href=\"#aem-%EC%BD%98%EC%86%94%EC%9D%98-%EC%A2%85%EB%A5%98\" aria-label=\"aem ì½˜ì†”ì˜ ì¢…ë¥˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AEM ì½˜ì†”ì˜ ì¢…ë¥˜</h2>\n<p>AEM ì½˜ì†”ì€ 5ê°€ì§€ ì¢…ë¥˜ê°€ ìˆìœ¼ë©° ê° ì½˜ì†”ì˜ ê²½ë¡œëŠ” <a href=\"https://localhost:4502/\">https://localhost:4502/</a> ì— ê° ì½˜ì†”ì˜ ê²½ë¡œë¥¼ ì¶”ê°€í•´ì£¼ë©´ ì ‘ì†í•  ìˆ˜ ìˆë‹¤.</p>\n<ol>\n<li>Admin ì½˜ì†”\n: /siteadmin</li>\n<li>CRX ì½˜ì†”\n: /crx/explorer/index.jsp</li>\n<li>OSGI management ì½˜ì†”\n: /system/console</li>\n<li>CRXDE Lite ì½˜ì†”\n<ul>\n<li>ê²½ë¡œ: /crx/de</li>\n<li>template, componentë¥¼ ìƒì„±í•˜ëŠ” ë“± ê°œë°œìê°€ ì‚¬ìš©í•˜ëŠ” AEMì˜ IDE ì—­í• ì„ í•œë‹¤.</li>\n</ul>\n</li>\n<li>Package ë§¤ë‹ˆì € ì½˜ì†”\n<ul>\n<li>ê²½ë¡œ : /crx/packmgr/index.jsp</li>\n<li>ë°°í¬ ê´€ë ¨í•˜ì—¬ íŒ¨í‚¤ì§€ë¥¼ ê´€ë¦¬í•˜ëŠ” ì½˜ì†”</li>\n<li>â€˜Upload packageâ€™ë¥¼ í†µí•´ zipíŒŒì¼ì¸ íŒ¨í‚¤ì§€ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆê³ , ì—…ë¡œë“œ ë˜ê³  ë‚˜ë©´ install ë²„íŠ¼ì„ ëˆŒëŸ¬ ì„¤ì¹˜ê°€ëŠ¥í•˜ë‹¤.</li>\n</ul>\n</li>\n</ol>","excerpt":"AEM ì„ ì†Œê°œí•¨ì— ìˆì–´ í•´ë‹¹ ê³¼ì •ì€ Udemyì˜ https://www.udemy.com/course/adobe-experience-manager-63 ê³¼ì •ì„\nì˜ì–´ê°€ ì–´ë ¤ìš´ ì‚¬ëŒë“¤ì„ ìœ„í•´ í•œêµ­ì–´ë¡œ ì •ë¦¬í•˜ëŠ” ë° ëª©ì ì´ ìˆìŒì„ ë°íŒë‹¤. AEM ê´€ë ¨í•´ì„œ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•´ë‘” ë¸”ë¡œê·¸ë¥¼ ì°¾ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì´ê¸°ë„ í•˜ë‹¤. AEM ì†Œê°œ AEMì€ â€˜Adobe Experience Managerâ€™ ì˜ ì•½ì–´ì´ë©°, ì–´ë„ë¹„ ì‚¬ì—ì„œ ë§Œë“  Java ê¸°ë°˜ì˜ CMS ì†”ë£¨ì…˜ì´ë‹¤.\nAEMì€ ìƒìš© ì›¹ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“œëŠ” ë° ë§ì´ ì‚¬ìš©ë˜ë©° ì›¹ ì‚¬ì´íŠ¸ì˜ ì½˜í…ì¸ ì™€ asset ë“¤ì„ ê´€ë¦¬í•˜ê¸°ì— ìš©ì´í•˜ë©° ë°°í¬ê¹Œì§€ ì§€ì›í•œë‹¤. ì›¹ì‚¬ì´íŠ¸ì™€ CMS ì›¹ ì‚¬ì´íŠ¸ì—ëŠ” 3ê°€ì§€ ì¢…ë¥˜ê°€ ìˆë‹¤. Static ì›¹ ì‚¬ì´íŠ¸\n: ì •ì  ë¦¬ì†ŒìŠ¤ë¡œë§Œ ì´ë£¨ì–´ì§„ ì›¹ ì‚¬ì´íŠ¸ì´ë‹¤. Dynamic ì›¹ ì‚¬ì´íŠ¸\n: í´ë¼ì´ì–¸íŠ¸/ì„œë²„ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ë™ì ìœ¼ë¡œ ì›¹ ì‚¬ì´íŠ¸ì˜ ì½˜í…ì¸ ë¥¼ ê´€ë¦¬í•˜ëŠ” ì›¹ ì‚¬ì´íŠ¸ì´ë‹¤. CMS templateì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ Componentë¥¼ ìƒâ€¦","frontmatter":{"date":"October 20, 2024","title":"[AEM] Adobe Experience Manager","categories":"WEB","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/aem1/"}},"next":{"id":"9882074b-675d-51f4-91ae-17e30d1eaa94","html":"<p>ê°œë°œ, ê²€ì¦ê³„ì™€ ë™ì¼í•œ prometheusì˜ yamlíŒŒì¼ë¡œ ìš´ì˜ì—ì„œ pod ìƒì„±ì‹œ CrashLoopbackOff ìƒíƒœì— ë¹ ì§€ê²Œ ëœë‹¤.\n<br>\nconfigmap-reload ì»¨í…Œì´ë„ˆë¥¼ ì œì™¸ì‹œí‚¤ê³  prometheus podì˜ ë¡œê·¸ë§Œ í™•ì¸ ì‹œ, â€˜/mnt/pv/â€¦ file not foundâ€™ ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.\nì‹¤ì œ podì—ì„œëŠ” ì»¨í…Œì´ë„ˆ ê¸°ë™ ì‹œì— í•´ë‹¹ tsdbë¥¼ ì°¾ìœ¼ë ¤ê³  í•˜ëŠ” ëª¨ì–‘ì¸ë° ì‹¤ì œ volumeì—ëŠ” í•´ë‹¹ íŒŒì¼ì´ ì—†ëŠ” ê²ƒìœ¼ë¡œ pv debuggerë¥¼ í™œìš©í•˜ì—¬ í™•ì¸í•˜ì˜€ë‹¤.</p>\n<blockquote>\n<h4 id=\"pv-debugger-í™œìš©\" style=\"position:relative;\"><a href=\"#pv-debugger-%ED%99%9C%EC%9A%A9\" aria-label=\"pv debugger í™œìš© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PV debugger í™œìš©</h4>\n<p>PVì— ì§ì ‘ ì ‘ê·¼í•  ë°©ë²•ì´ ë³„ë„ë¡œ ì—†ê¸° ë–„ë¬¸ì—, busybox ì´ë¯¸ì§€ë¥¼ í™œìš©í•˜ì—¬ ë¬¸ì œê°€ ë˜ëŠ” prometheusì˜ pvcë¥¼ volumeìœ¼ë¡œ ì„¤ì •, mountí•˜ì—¬ ì ‘ê·¼í•œë‹¤.</p>\n</blockquote>\n<ul>\n<li>ê²°êµ­ tsdbì˜ pathë¡œ ë§ˆìš´íŠ¸ëœ ë³¼ë¥¨ì—ì„œ í•´ë‹¹ ê²½ë¡œë¥¼ ë°±ì—…í•œ ë’¤ ëª¨ë‘ ë¹„ì›Œì£¼ê³  Podë¥¼ ê¸°ë™í•˜ë‹ˆ, ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ìŒ“ìœ¼ë©´ì„œ ì •ìƒì ìœ¼ë¡œ podê°€ ê¸°ë™ë¨ì„ í™•ì¸í•˜ì˜€ë‹¤.</li>\n</ul>","frontmatter":{"date":"October 14, 2024","title":"[Error] Prometheus CrashLoopbackOff","categories":"Error DevOps","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/error-prometheus/"}},"prev":{"id":"83b292de-808a-5f49-8884-5c21a31ca3d7","html":"<h2 id=\"1-ansible-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#1-ansible-%EC%84%A4%EC%B9%98\" aria-label=\"1 ansible ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Ansible ì„¤ì¹˜</h2>\n<ul>\n<li>â€˜Community Ansibleâ€™ì„ ë§ì´ë“¤ ì“°ì§€ë§Œ ì‹œí—˜ì€ ì»¨í…Œì´ë„ˆ ê¸°ë°˜ì˜ <code class=\"language-text\">Red hat Ansible Automatin Platform</code>ì„ ì‚¬ìš©í•œë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">dnf <span class=\"token parameter variable\">-y</span> <span class=\"token function\">install</span> ansible-*  <span class=\"token comment\"># ansible-navigatorë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•¨ </span>\n<span class=\"token function\">podman</span> login utility.lab.example.com\nansible-navigator images <span class=\"token comment\"># ì‹¤í–‰í™˜ê²½ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"2-ì¸ë²¤í† ë¦¬\" style=\"position:relative;\"><a href=\"#2-%EC%9D%B8%EB%B2%A4%ED%86%A0%EB%A6%AC\" aria-label=\"2 ì¸ë²¤í† ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. ì¸ë²¤í† ë¦¬</h2>\n<ul>\n<li>ì¸ë²¤í† ë¦¬ë¥¼ í†µí•´ ê´€ë¦¬ ëŒ€ìƒ í˜¸ìŠ¤íŠ¸ë¥¼ ì§€ì •í•œë‹¤.</li>\n<li>ì •ì  ì¸ë²¤í† ë¦¬ : ì§ì ‘ ip, hostname ë“±ë¡</li>\n<li>ë™ì  ì¸ë²¤í† ë¦¬ : ì§ì ‘ ë§Œë“¤ì§€ ì•Šê³  Inventory Providerì—ê²Œ ì§ˆì˜ë¥¼ í†µí•´ íŒŒì•…í•œë‹¤.\n<ul>\n<li>ex) vsphere(linux), AD(windows)ì— ansibleì´ ë¬¼ì–´ë´ì„œ í˜¸ìŠ¤íŠ¸ë¥¼ ì§€ì •í•¨</li>\n</ul>\n</li>\n<li>ëŒ€ê´„í˜¸ë¥¼ í†µí•´ ì¸ë²¤í† ë¦¬ ê·¸ë£¹ì„ ë¬¶ëŠ”ë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>webservers<span class=\"token punctuation\">]</span>\nweb1.example.com\nweb2.example.com\n<span class=\"token number\">192.0</span>.2.42\n<span class=\"token punctuation\">[</span>db-servers<span class=\"token punctuation\">]</span>\ndb1.example.com\ndb2.example.com</code></pre></div>\n</li>\n<li>ì¤‘ì²©ê·¸ë£¹ : ê·¸ë£¹ì„ ë¬¶ì€ ê·¸ë£¹ ( children keyword )\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>usa<span class=\"token punctuation\">]</span>\nwashington1.example.com\nwashington2.example.com\n<span class=\"token punctuation\">[</span>canada<span class=\"token punctuation\">]</span>\nontario01.example.com\nontario02.example.com\n<span class=\"token punctuation\">[</span>north-america:children<span class=\"token punctuation\">]</span>\ncanada\nusa</code></pre></div>\n</li>\n<li>ë²”ìœ„ë¥¼ ì‚¬ìš©í•œ ê°„ì†Œí™”\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>usa<span class=\"token punctuation\">]</span>\nwashington<span class=\"token punctuation\">[</span><span class=\"token number\">1</span>:2<span class=\"token punctuation\">]</span>.example.com\n\n<span class=\"token punctuation\">[</span>canada<span class=\"token punctuation\">]</span>\nontario<span class=\"token punctuation\">[</span>01:02<span class=\"token punctuation\">]</span>.example.com\n\n<span class=\"token punctuation\">[</span>korea<span class=\"token punctuation\">]</span>\n<span class=\"token number\">192.168</span>.<span class=\"token punctuation\">[</span><span class=\"token number\">4</span>:7<span class=\"token punctuation\">]</span>.<span class=\"token punctuation\">[</span><span class=\"token number\">0</span>:255<span class=\"token punctuation\">]</span> <span class=\"token comment\"># 192.168.4.0~192.168.7.255</span></code></pre></div>\n</li>\n<li>ì¸ë²¤í† ë¦¬ëŠ” ë°˜ë“œì‹œ ë“±ë¡ í›„ í™•ì¸í•˜ì—¬ì•¼ í•œë‹¤.\n<ul>\n<li>ansible ëª…ë ¹ì„ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ (êµ¬ë²„ì „)\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ansible <span class=\"token parameter variable\">-i</span> inventory<span class=\"token punctuation\">(</span>inventory <span class=\"token function\">file</span> name<span class=\"token punctuation\">)</span> --list-hosts web </code></pre></div>\n</li>\n<li>all ê·¸ë£¹, ungrouped ê·¸ë£¹ì´ë¼ëŠ” ê¸°ë³¸ ê·¸ë£¹ì´ ì¡´ì¬í•œë‹¤.</li>\n<li>ansible-navigatorë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">alias</span> <span class=\"token operator\">=</span> <span class=\"token string\">'ansible-navigator inventory -m stdout'</span>  <span class=\"token comment\"># ani alias ë§Œë“¤ì–´ ë‘ì–´ì•¼ í¸í•˜ë‹¤. </span>\nani <span class=\"token parameter variable\">-i</span> inventory<span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span> <span class=\"token parameter variable\">--graph</span> canada</code></pre></div>\n</li>\n</ul>\n</li>\n<li>ansible- ë¡œ ì‹œì‘í•˜ëŠ” ì—¬ëŸ¬ ëª…ë ¹ì–´ê°€ ë§ì´ ìˆì—ˆëŠ”ë°( ex. ansible-playbook. ansible-doc, ansible-inventory â€¦ ) ê·¸ê±¸ í†µì¼í•˜ê¸° ìœ„í•´ ansible-navigator ë„ì…í–ˆìœ¼ë‚˜, ì‹¤ìƒ ë˜ ê·¸ ë’¤ì— í•œ ë²ˆë” configre, playbook, inventory ë“±ì„ ë¶™ì—¬ì¤˜ì•¼ ë¨</li>\n</ul>\n<h2 id=\"3-ansible-êµ¬ì„±-íŒŒì¼-ê´€ë¦¬\" style=\"position:relative;\"><a href=\"#3-ansible-%EA%B5%AC%EC%84%B1-%ED%8C%8C%EC%9D%BC-%EA%B4%80%EB%A6%AC\" aria-label=\"3 ansible êµ¬ì„± íŒŒì¼ ê´€ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Ansible êµ¬ì„± íŒŒì¼ ê´€ë¦¬</h2>\n<h3 id=\"ansiblecfg\" style=\"position:relative;\"><a href=\"#ansiblecfg\" aria-label=\"ansiblecfg permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ansible.cfg</h3>\n<ul>\n<li>4êµ°ë°ì˜ ìœ„ì¹˜ì— ì¡´ì¬í•  ìˆ˜ ìˆìœ¼ë©° ì–´ë–¤ ê²½ë¡œì˜ ansible.cfgë¥¼ í˜„ì¬ ansible coreì—ì„œ ì°¸ì¡°í•˜ê³  ìˆëŠ” ì§€ëŠ” <code class=\"language-text\">ansible --version</code> ëª…ë ¹ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥\n<ul>\n<li>ê·¸ì¤‘ /etc/ansible/ansible.cfg -> ì œì¼ ë‚®ì€ ìš°ì„ ìˆœìœ„</li>\n<li>touch ~/.ansible.cfg ë¥¼ í•œ ì´í›„ì— <code class=\"language-text\">ansible --version</code>ë¥¼ í•´ë³´ë©´ config fileì„ ~/ ê²½ë¡œì—ì„œ ì°¾ìŒì„ ì•Œ ìˆ˜ ìˆìŒ</li>\n<li>touch ansible.cfg ë¥¼ í˜„ì¬ ë””ë ‰í† ë¦¬ì—ì„œ í•œ ì´í›„ì— <code class=\"language-text\">ansible --version</code>ì„ í•´ë³´ë©´ ansible.cfgë¥¼ í˜„ì¬ ë””ë ‰í† ë¦¬ì—ì„œ ì°¾ìŒì„ ì•Œ ìˆ˜ ìˆìŒ</li>\n<li>í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ì´ ê°€ì¥ ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤ ( ex. ANSIBLE_CONFIG=/tmp/ansible.cfg &#x26;&#x26; export ANSIBLE_CONFIG )</li>\n</ul>\n</li>\n<li>ê¸°ë³¸ì ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì•„ë˜ëŠ” ì˜ˆì‹œì´ë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">[</span>defaults<span class=\"token punctuation\">]</span>\ninventory = ./inventory  <span class=\"token comment\"># ì´ ì„¤ì •ì„ í•´ì£¼ê²Œ ë˜ë©´ ì´ì œ ani -i inventory ì™€ ê°™ì´ ì§ì ‘ inventory íŒŒì¼ ì„¤ì • ì•ˆí•´ì¤˜ë„ ë¨ </span>\nremote_user = user <span class=\"token comment\"># ssh ì¼ë°˜ user </span>\nask_pass = false <span class=\"token comment\"># ì‹œí—˜ì€ true ë¼ê³  í•´ì•¼ í•¨. falseëŠ” ê³µê°œí‚¤ ì„¤ì •ì„ í–ˆì„ ë•Œë§Œ ê°€ëŠ¥ </span>\n\n<span class=\"token punctuation\">[</span>privilege_escalation<span class=\"token punctuation\">]</span>\nbecome = true <span class=\"token comment\"># ê¶Œí•œìƒìŠ¹ ì—¬ë¶€</span>\nbecome_method = sudo <span class=\"token comment\"># sudoë¡œ ê¶Œí•œìƒìŠ¹ í•  ê²ƒì„</span>\nbecome_user = root \nbecome_ask_pass = false <span class=\"token comment\"># sudoers íŒŒì¼ì— NOPASSWD ì„¤ì •ì´ wheel groupì— ë˜ì–´ ìˆì„ ë•Œë§Œ false </span></code></pre></div>\n</li>\n</ul>\n<blockquote>\n<p>ì°¸ê³  1 : wheel group</p>\n<ul>\n<li>ê´€ë¦¬ì ê³„ì •</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>ì°¸ê³  2: Ansible ad-hoc</p>\n<ul>\n<li>playbook ì—†ì´ë„ ë‹¨ìˆœ ì‘ì—…ì„ í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ</li>\n<li>ad-hocì„ ë¬¸ì„œí™”í•œê²Œ playbookìœ¼ë¡œ ì´í•´í–ë©´ ë¨. ì•„ë˜ì™€ ê°™ì€ m(ëª¨ë“ˆ)ê³¼ a(ëª…ë ¹ì–´)ë¥¼ ì •ë¦¬í•œ ê²ƒ</li>\n</ul>\n<p>ex ) ansible lunch -m command -a â€˜df -hâ€™</p>\n</blockquote>\n<h3 id=\"ansible-navigatoryaml\" style=\"position:relative;\"><a href=\"#ansible-navigatoryaml\" aria-label=\"ansible navigatoryaml permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ansible-navigator.yaml</h3>\n<ul>\n<li>3êµ°ë°ì— ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.\n<ul>\n<li>ANSIBLE_NAVIGATOR_CONFIG í™˜ê²½ ë³€ìˆ˜</li>\n<li>í˜„ì¬ ë””ë ‰í† ë¦¬ì˜ ansible-navigator.yaml</li>\n<li>í™ˆ ë””ë ‰í† ë¦¬ì˜ .ansible-navigator.yaml</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>ì°¸ê³  3 : VI editor tab ì„¤ì •\n$HOME/.vimrc íŒŒì¼ì— <code class=\"language-text\">autocmd FileType yaml setlocal ai ts=2 sw=2 et sts=2 cuc</code>, <code class=\"language-text\">set nu</code> í–‰ ì¶”ê°€\n<code class=\"language-text\">set cc=</code>ë¥¼ vi ì—ë””í„° ì‚¬ìš© ì¤‘ì— ì…ë ¥í•˜ë©´ ë¹¨ê°„ ë¼ì¸ ì‚¬ë¼ì§</p>\n</blockquote>\n<h2 id=\"4-playbook\" style=\"position:relative;\"><a href=\"#4-playbook\" aria-label=\"4 playbook permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Playbook</h2>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> playbook ì „ì²´ ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> inventoryì— ë“±ë¡í•œ ê·¸ë£¹<span class=\"token punctuation\">,</span> hostëª…\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ì‘ì—…(ëª¨ë“ˆ) 1ì— ëŒ€í•œ ì„¤ëª…\n      <span class=\"token key atrule\">ëª¨ë“ˆëª…(FQDNí˜•ì‹ìœ¼ë¡œ ì ì–´ì•¼í•¨)</span><span class=\"token punctuation\">:</span> \n        <span class=\"token key atrule\">argument1</span><span class=\"token punctuation\">:</span> ê°’\n        <span class=\"token key atrule\">argument2</span><span class=\"token punctuation\">:</span> ê°’ \n    \n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ì‘ì—…(ëª¨ë“ˆ) 2ì— ëŒ€í•œ ì„¤ëª…\n      <span class=\"token key atrule\">ëª¨ë“ˆëª…</span><span class=\"token punctuation\">:</span> \n        <span class=\"token key atrule\">argument1</span><span class=\"token punctuation\">:</span> ê°’\n        <span class=\"token key atrule\">argument2</span><span class=\"token punctuation\">:</span> ê°’ </code></pre></div>\n<ul>\n<li><code class=\"language-text\">ansible-navigator doc -m stdout dnf</code> -> <code class=\"language-text\">/EXAMPLE</code> ì™€ ê°™ì´ ëª¨ë“ˆì˜ ì‚¬ìš©ë²• ì•Œì•„ë‚´ê¸°</li>\n<li>playbookì„ ì‹¤í–‰í•˜ê¸° ì „ ë¬¸ì œê°€ ì—†ëŠ”ì§€ í…ŒìŠ¤íŠ¸ë¥¼ í•´ì•¼ í•œë‹¤.\n<ul>\n<li>êµ¬ë¬¸ ì²´í¬ : <code class=\"language-text\">ansible-navigator run -m stdout webserver.yml --syntax-check</code> or <code class=\"language-text\">ansible-playbook --syntax-check webserver.yaml</code></li>\n<li>-C : <code class=\"language-text\">ansible-navigator run -C -m stdout last.yaml</code></li>\n</ul>\n</li>\n<li>ë©±ë“±ì„±ì´ ìˆê¸° ë•Œë¬¸ì— playbookì€ 1ë²ˆë§Œ ì‹¤í–‰í•˜ì§€ ì•Šê³  2ë²ˆ ì´ìƒ ì‹¤í–‰ì„ í†µí•´ì„œ changedì˜ ìƒíƒœ ê°’ì„ ì²´í¬í•œë‹¤.</li>\n</ul>\n<h3 id=\"ë‹¤ì¤‘-í”Œë ˆì´ë¶\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EC%A4%91-%ED%94%8C%EB%A0%88%EC%9D%B4%EB%B6%81\" aria-label=\"ë‹¤ì¤‘ í”Œë ˆì´ë¶ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë‹¤ì¤‘ í”Œë ˆì´ë¶</h3>\n<ul>\n<li>service ëª¨ë“ˆ\n<ul>\n<li>ì„œë¹„ìŠ¤ì˜ ì¤‘ì§€ ê¸°ë™ê³¼ ê´€ë ¨ëœ ëª¨ë“ˆ</li>\n<li>listì‚¬ìš©ì´ ì•ˆë˜ê¸° ë•Œë¬¸ì— ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì‘ì„±í•œë‹¤.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ì¸íŠ¸ë¼ë„· ì„œë¹„ìŠ¤ êµ¬ì„±í•˜ê¸° \n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> servera.lab.example.com\n  <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> httpd firewalld ì„¤ì¹˜ \n      <span class=\"token key atrule\">ansible.builtin.dnf</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">-</span> httpd\n          <span class=\"token punctuation\">-</span> firewalld\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> latest\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Test html í˜ì´ì§€ ì„¤ì •\n      <span class=\"token key atrule\">ansible.builtin.copy</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Welcome to the example.com intranet!\\n\"</span>\n        <span class=\"token key atrule\">dest</span><span class=\"token punctuation\">:</span> /var/www/html/index.html\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Firewall ì‹¤í–‰\n      <span class=\"token key atrule\">ansible.builtin.service</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> firewalld\n        <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> started\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Firewall http ì„¤ì • \n      <span class=\"token key atrule\">ansible.posix.firewalld</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> http\n        <span class=\"token key atrule\">permanent</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> enabled\n        <span class=\"token key atrule\">immediate</span><span class=\"token punctuation\">:</span> yes\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> httpd ì‹¤í–‰ \n      <span class=\"token key atrule\">ansible.builtin.service</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> httpd\n        <span class=\"token key atrule\">enabled</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> started\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ì›¹ì„œë²„ êµ¬ì„± test \n      <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> localhost\n      <span class=\"token key atrule\">become</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n      <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Connect to intranet web server\n      <span class=\"token key atrule\">ansible.builtin.uri</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> http<span class=\"token punctuation\">:</span>//servera.lab.example.com\n        <span class=\"token key atrule\">return_content</span><span class=\"token punctuation\">:</span> yes\n        <span class=\"token key atrule\">status_code</span><span class=\"token punctuation\">:</span> <span class=\"token number\">200</span>\n</code></pre></div>\n<h2 id=\"5-ë³€ìˆ˜-ë°-íŒ©íŠ¸\" style=\"position:relative;\"><a href=\"#5-%EB%B3%80%EC%88%98-%EB%B0%8F-%ED%8C%A9%ED%8A%B8\" aria-label=\"5 ë³€ìˆ˜ ë° íŒ©íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. ë³€ìˆ˜ ë° íŒ©íŠ¸</h2>\n<ul>\n<li>\n<p>ë³€ìˆ˜ì˜ ìš°ì„  ìˆœìœ„ gruop_vars &#x3C; host_vars &#x3C; playbook ì„ ì–¸(ì§ì ‘ &#x3C; íŒŒì¼) &#x3C; CLI ëª…ë ¹ ì´ë‹¤.</p>\n</li>\n<li>\n<p>group_vars, host_varsë¥¼ ì‚¬ìš©í•˜ì—¬ í˜¸ìŠ¤íŠ¸ì™€ ê·¸ë£¹ ë³„ë¡œ ë³€ìˆ˜ë¥¼ ì„¤ì •í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">group_vars/\nâ”œâ”€â”€ webservers/      <span class=\"token comment\"># webservers ê·¸ë£¹ìš© ë””ë ‰í† ë¦¬</span>\nâ”‚   â”œâ”€â”€ apache.yml\nâ”‚   â””â”€â”€ php.yml\nâ””â”€â”€ dbservers/       <span class=\"token comment\"># dbservers ê·¸ë£¹ìš© ë””ë ‰í† ë¦¬</span>\n    â”œâ”€â”€ mysql.yml\n    â””â”€â”€ backup.yml\n\nhost_vars/\nâ”œâ”€â”€ web01/           <span class=\"token comment\"># web01 í˜¸ìŠ¤íŠ¸ìš© ë””ë ‰í† ë¦¬</span>\nâ”‚   â”œâ”€â”€ main.yml\nâ”‚   â””â”€â”€ ssl.yml\nâ””â”€â”€ db01/            <span class=\"token comment\"># db01 í˜¸ìŠ¤íŠ¸ìš© ë””ë ‰í† ë¦¬</span>\n    â”œâ”€â”€ main.yml\n    â””â”€â”€ backup.yml</code></pre></div>\n</li>\n<li>\n<p>í”Œë ˆì´ë¶ì—ì„œì˜ ë³€ìˆ˜ ì‚¬ìš©\n: ì§ì ‘ ì„ ì–¸ ë˜ëŠ” íŒŒì¼ ì„ ì–¸</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> vars demo\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> all\n  <span class=\"token key atrule\">vars</span><span class=\"token punctuation\">:</span>   <span class=\"token comment\"># ì§ì ‘ ì„ ì–¸</span>\n    <span class=\"token key atrule\">user</span><span class=\"token punctuation\">:</span> joe\n    <span class=\"token key atrule\">my_color</span><span class=\"token punctuation\">:</span> black\n  \n  <span class=\"token key atrule\">vars_files</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># íŒŒì¼ ì„ ì–¸</span>\n    <span class=\"token punctuation\">-</span> myvar.yaml\n\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># This line will read: Creates the user joe</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Creates the user <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> user <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">user</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># This line will create the user named Joe</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ user }}\"</span></code></pre></div>\n</li>\n<li>\n<p>ëª…ë ¹ì–´ì—ì„œì˜ ì‚¬ìš©</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">an run myvar.yaml <span class=\"token parameter variable\">-e</span> <span class=\"token assign-left variable\">package</span><span class=\"token operator\">=</span>apache </code></pre></div>\n</li>\n</ul>\n<h3 id=\"vault\" style=\"position:relative;\"><a href=\"#vault\" aria-label=\"vault permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vault</h3>\n<p>: Ansibleì—ì„œ secretìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ê´€ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê°œë…ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ansible-vault create secret.yaml  <span class=\"token comment\"># ë¹„ë°€ë²ˆí˜¸ ì„¤ì •</span>\nansible-vault view secret.yaml <span class=\"token comment\"># ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ </span>\nansible-vault view --vault-password-file my.key secret.yaml <span class=\"token comment\"># key íŒŒì¼ë¡œ ê´€ë¦¬ </span></code></pre></div>\n<ul>\n<li>ë³´í†µì€ vault í‚¤ íŒŒì¼ì€ ansible.cfgì— ê²½ë¡œë¥¼ ì„¤ì •í•œë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>defaults<span class=\"token punctuation\">]</span>\ninventory <span class=\"token operator\">=</span> ./inventory\nremote_user <span class=\"token operator\">=</span> devops\nvault_password_file <span class=\"token operator\">=</span> ./my.key</code></pre></div>\n</li>\n<li>vaultë¥¼ í™œìš©í•œ user ìƒì„± playbook\n<ul>\n<li>nodeì˜ /etc/login.defsì˜ ENCRYPT_METHODì˜ ì•Œê³ ë¦¬ì¦˜ì´ ë¬´ì—‡ì¸ì§€ í™•ì¸ í›„ passwordì— ì•Œê³ ë¦¬ì¦˜ì„ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> create user by ansible vault\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> serverd.lab.example.com\n  <span class=\"token key atrule\">vars_files</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> secret.yaml \n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> create new user\n      <span class=\"token key atrule\">ansible.builtin.user</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{id}}\"</span>\n        <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> wheel\n        <span class=\"token key atrule\">password</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ password | password_hash('sha512') }}\"</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"íŒ©íŠ¸\" style=\"position:relative;\"><a href=\"#%ED%8C%A9%ED%8A%B8\" aria-label=\"íŒ©íŠ¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>íŒ©íŠ¸</h3>\n<p>: ê´€ë¦¬ ëŒ€ìƒ nodeì˜ ì‹œìŠ¤í…œ ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ëŠ” ë³€ìˆ˜</p>\n<ul>\n<li>\n<p>fact í™•ì¸í•˜ê¸°</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> collect fact\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> serverd.lab.example.com\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> show me fact\n      <span class=\"token key atrule\">debug</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">var</span><span class=\"token punctuation\">:</span> ansible_facts</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> show some facts \n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> all\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Prints various Ansible facts\n    <span class=\"token key atrule\">debug</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">msg</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">></span> <span class=\"token comment\"># '>'ì´ë©´ ë¯¸ê°œí–‰(í•œì¤„ì²˜ë¦¬)  '|' ì´ë©´ ì—¬ëŸ¬ ì¤„ ì“°ë©´ ì—¬ëŸ¬ì¤„ ëŒ€ë¡œ ì²˜ë¦¬ </span>\n        The default IPv4 address of <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> ansible_facts.fqdn <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        is <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> ansible_facts.default_ipv4.address <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p>ë§ì´ í™œìš©ë˜ëŠ” Facts</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 1. OS ë°°í¬íŒ ë° ë²„ì „ í™•ì¸</span>\n<span class=\"token comment\"># ì˜ˆ: Ubuntu 20.04, RHEL 8.4</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'distribution'</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\"># Ubuntu</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'distribution_version'</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># 20.04</span>\n\n<span class=\"token comment\"># 2. í˜¸ìŠ¤íŠ¸ëª… í™•ì¸</span>\n<span class=\"token comment\"># ì‹œìŠ¤í…œì˜ í˜„ì¬ í˜¸ìŠ¤íŠ¸ëª…</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'hostname'</span><span class=\"token punctuation\">]</span>            <span class=\"token comment\"># webserver01</span>\n\n<span class=\"token comment\"># 3. IP ì£¼ì†Œ í™•ì¸</span>\n<span class=\"token comment\"># ì‹œìŠ¤í…œì˜ ê¸°ë³¸ IPv4 ì£¼ì†Œ</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'default_ipv4'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'address'</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># 192.168.1.100</span>\n\n<span class=\"token comment\"># 4. ë©”ëª¨ë¦¬ ì •ë³´ í™•ì¸</span>\n<span class=\"token comment\"># ì „ì²´ ë° ê°€ìš© ë©”ëª¨ë¦¬ (MB)</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'memtotal_mb'</span><span class=\"token punctuation\">]</span>             <span class=\"token comment\"># 16384</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'memfree_mb'</span><span class=\"token punctuation\">]</span>              <span class=\"token comment\"># 8192</span>\n\n<span class=\"token comment\"># 5. CPU ì •ë³´</span>\n<span class=\"token comment\"># CPU ê°œìˆ˜ ë° ì½”ì–´ ìˆ˜</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'processor_count'</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\"># 2</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'processor_cores'</span><span class=\"token punctuation\">]</span>         <span class=\"token comment\"># 4</span>\n\n<span class=\"token comment\"># 6. OS ê³„ì—´</span>\n<span class=\"token comment\"># RedHat/Debian ê³„ì—´ êµ¬ë¶„</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'os_family'</span><span class=\"token punctuation\">]</span>              <span class=\"token comment\"># RedHat</span>\n\n<span class=\"token comment\"># 7. ë””ìŠ¤í¬ ë§ˆìš´íŠ¸ ì •ë³´</span>\n<span class=\"token comment\"># ë£¨íŠ¸ íŒŒí‹°ì…˜ ì •ë³´</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'mounts'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'mount'</span><span class=\"token punctuation\">]</span>      <span class=\"token comment\"># \"/\"</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'mounts'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'size_total'</span><span class=\"token punctuation\">]</span> <span class=\"token comment\"># 107374182400</span>\n\n<span class=\"token comment\"># 8. ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤</span>\n<span class=\"token comment\"># ì‹œìŠ¤í…œì˜ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ëª©ë¡</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'interfaces'</span><span class=\"token punctuation\">]</span>              <span class=\"token comment\"># [\"eth0\", \"lo\"]</span>\n\n<span class=\"token comment\"># 9. ì»¤ë„ ë²„ì „</span>\n<span class=\"token comment\"># í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì»¤ë„ ë²„ì „</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'kernel'</span><span class=\"token punctuation\">]</span>                  <span class=\"token comment\"># \"4.18.0-305.el8.x86_64\"</span>\n\n<span class=\"token comment\"># 10. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</span>\n<span class=\"token comment\"># x86_64, aarch64 ë“±</span>\nansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'architecture'</span><span class=\"token punctuation\">]</span>            <span class=\"token comment\"># \"x86_64\"</span></code></pre></div>\n</li>\n<li>\n<p>Factsì˜ í™œìš© ì˜ˆì‹œ</p>\n<ul>\n<li>OS ë³„ íŒ¨í‚¤ì§€ ì„¤ì¹˜\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> OSë³„ ì›¹ ì„œë²„ ì„¤ì¹˜\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> webservers\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> RHEL/CentOSì— Apache ì„¤ì¹˜\n      <span class=\"token key atrule\">yum</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> httpd\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> present\n      <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> ansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'os_family'</span><span class=\"token punctuation\">]</span> == \"RedHat\"\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Ubuntuì— Apache ì„¤ì¹˜\n      <span class=\"token key atrule\">apt</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> apache2\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> present\n      <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> ansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'os_family'</span><span class=\"token punctuation\">]</span> == \"Debian\"</code></pre></div>\n</li>\n<li>ë©”ëª¨ë¦¬ì— ë”°ë¥¸ Heap ë©”ëª¨ë¦¬ ì„¤ì •\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Java ì„¤ì •\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> application_servers\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Java í™ í¬ê¸° ì„¤ì •\n      <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">src</span><span class=\"token punctuation\">:</span> java.conf.j2\n        <span class=\"token key atrule\">dest</span><span class=\"token punctuation\">:</span> /etc/java/java.conf\n      <span class=\"token key atrule\">vars</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">heap_size</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ (ansible_facts['memtotal_mb'] * 0.6) | round | int }}\"</span></code></pre></div>\n</li>\n<li>CPU ì½”ì–´ ìˆ˜ì— ë”°ë¥¸ ì›¹ ì„œë²„ ì„¤ì •\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Nginx ì›Œì»¤ í”„ë¡œì„¸ìŠ¤ ì„¤ì •\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> webservers\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Nginx ì„¤ì • íŒŒì¼ ìƒì„±\n      <span class=\"token key atrule\">template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">src</span><span class=\"token punctuation\">:</span> nginx.conf.j2\n        <span class=\"token key atrule\">dest</span><span class=\"token punctuation\">:</span> /etc/nginx/nginx.conf\n      <span class=\"token key atrule\">vars</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">worker_processes</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ ansible_facts['processor_cores'] }}\"</span>\n        <span class=\"token key atrule\">worker_connections</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ ansible_facts['processor_cores'] * 1024 }}\"</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>factë¥¼ playbookì—ì„œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë‹¤ë©´ factìˆ˜ì§‘ì„ ë¹„í™œì„±í™” í•  ìˆ˜ ìˆë‹¤. playbook ì•ˆì—ì„œ <code class=\"language-text\">gather_facts: no</code>ë¥¼ ì„¤ì • í•´ì£¼ë©´ ë¨.</p>\n</li>\n</ul>\n<h2 id=\"6-ì‘ì—…-ì œì–´\" style=\"position:relative;\"><a href=\"#6-%EC%9E%91%EC%97%85-%EC%A0%9C%EC%96%B4\" aria-label=\"6 ì‘ì—… ì œì–´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. ì‘ì—… ì œì–´</h2>\n<h3 id=\"ë°˜ë³µë¬¸\" style=\"position:relative;\"><a href=\"#%EB%B0%98%EB%B3%B5%EB%AC%B8\" aria-label=\"ë°˜ë³µë¬¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë°˜ë³µë¬¸</h3>\n<p>: ì•ì„œ service ëª¨ë“ˆì— ëŒ€í•´ì„œëŠ” listë¥¼ ì“°ëŠ”ê²Œ ì•ˆë˜ì„œ taskë¥¼ ê°ê° ìƒì„±í•´ì¤˜ì•¼ í–ˆë‹¤. ì´ëŸ° ê²½ìš° ë°˜ë³µë¬¸ì´ í•„ìš”í•˜ë‹¤.\në°˜ë³µë¬¸ì„ ì‚¬ìš©í•  ë•ŒëŠ” **<u>loop í‚¤ì›Œë“œë¥¼ ê° task ë³„ë¡œ ì§€ì •</u>**í•´ì£¼ê²Œ ë˜ê³ , ë³´í†µì€ loopì— ì“°ì´ëŠ” ë°°ì—´ì„ ì•„ë˜ì™€ ê°™ì´ ë³€ìˆ˜ë¡œ ì„¤ì •í•˜ì—¬ì„œ ì‚¬ìš©í•œë‹¤.\nê¼­ playbook ë‚´ê°€ ì•„ë‹Œ group_vars, host_varsì—ì„œ ì„¤ì •í•´ë„ ë¨.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># variables.yaml</span>\n<span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">my_services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> postfix\n  <span class=\"token punctuation\">-</span> dovecot\n  <span class=\"token punctuation\">-</span> httpd\n\n<span class=\"token comment\"># playbook</span>\n<span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">vars_files</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> vars/variables.yaml\n\n<span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> services are running\n    <span class=\"token key atrule\">ansible.builtin.service</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ item }}\"</span>\n      <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> started\n    <span class=\"token key atrule\">loop</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ my_services }}\"</span></code></pre></div>\n<h3 id=\"ì¡°ê±´ë¬¸--when-\" style=\"position:relative;\"><a href=\"#%EC%A1%B0%EA%B1%B4%EB%AC%B8--when-\" aria-label=\"ì¡°ê±´ë¬¸  when  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¡°ê±´ë¬¸ ( when )</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Simple Boolean Task Demo\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> all\n  <span class=\"token key atrule\">vars</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">run_my_task</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> httpd package is installed\n      <span class=\"token key atrule\">ansible.builtin.dnf</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> httpd\n      <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> run_my_task</code></pre></div>\n<ul>\n<li>ì¡°ê±´ë¬¸ì„ ìœ„í•œ ì—°ì‚°ì\n<ul>\n<li>&#x3C;, >, &#x3C;=, >=, !=, <code class=\"language-text\">is defined</code>, <code class=\"language-text\">is not defined</code>, <code class=\"language-text\">not</code>, <code class=\"language-text\">in</code>, <code class=\"language-text\">and</code>, <code class=\"language-text\">or</code></li>\n<li>inì˜ ì˜ˆì‹œ ì¡°ê±´ë¬¸\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Demonstrate the \"in\" keyword\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> all\n  <span class=\"token key atrule\">gather_facts</span><span class=\"token punctuation\">:</span> yes\n  <span class=\"token key atrule\">vars</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">supported_distros</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> RedHat\n      <span class=\"token punctuation\">-</span> Fedora\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Install httpd using dnf<span class=\"token punctuation\">,</span> where supported\n      <span class=\"token key atrule\">ansible.builtin.dnf</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> http\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> present\n      <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> ansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'distribution'</span><span class=\"token punctuation\">]</span> in supported_distros and ansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'architecture'</span><span class=\"token punctuation\">]</span> == \"x86_64\"</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"2ê°€ì§€-ì´ìƒì˜-ì¡°ê±´ë“¤-ì²˜ë¦¬\" style=\"position:relative;\"><a href=\"#2%EA%B0%80%EC%A7%80-%EC%9D%B4%EC%83%81%EC%9D%98-%EC%A1%B0%EA%B1%B4%EB%93%A4-%EC%B2%98%EB%A6%AC\" aria-label=\"2ê°€ì§€ ì´ìƒì˜ ì¡°ê±´ë“¤ ì²˜ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2ê°€ì§€ ì´ìƒì˜ ì¡°ê±´ë“¤ ì²˜ë¦¬</h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># and ì¡°ê±´ë§Œ ì—¬ëŸ¬ ê°œì¼ ë•ŒëŠ” - ë¡œ ë‚˜ì—´í•  ìˆ˜ ìˆìŒ</span>\n<span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> ansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'distribution_version'</span><span class=\"token punctuation\">]</span> == \"9.0\"\n  <span class=\"token punctuation\">-</span> ansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'kernel'</span><span class=\"token punctuation\">]</span> == \"5.14.0<span class=\"token punctuation\">-</span>70.13.1.el9_0.x86_64\"\n\n<span class=\"token comment\"># 2ê°œ ì´ìƒì˜ and ì¡°ê±´ì„ orë¡œ ë¬¶ì„ ë•ŒëŠ” ( ) ì‚¬ìš©</span>\n<span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">></span><span class=\"token scalar string\">\n  ( ansible_facts['distribution'] == \"RedHat\" and\n    ansible_facts['distribution_major_version'] == \"9\" )\n  or\n  ( ansible_facts['distribution'] == \"Fedora\" and\n  ansible_facts['distribution_major_version'] == \"34\" )</span></code></pre></div>\n<ul>\n<li>íŒ¨í‚¤ì§€ ê·¸ë£¹ìœ¼ë¡œ ì„¤ì¹˜ (ë””ìŠ¤í¬ ìš©ëŸ‰ ê³ ë ¤)\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> example \n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> database_dev\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> when test \n      <span class=\"token key atrule\">dnf</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'@Container Management'</span>\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> present\n      <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> ansible_facts.mounts.0.mount == \"/\"\n        <span class=\"token punctuation\">-</span> ansible_facts<span class=\"token punctuation\">[</span><span class=\"token string\">'mount'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'size_available'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">></span>= 1000000000</code></pre></div>\n</li>\n</ul>\n<h3 id=\"register-ë³€ìˆ˜ë¥¼-í™œìš©í•œ-ë¶„ê¸°\" style=\"position:relative;\"><a href=\"#register-%EB%B3%80%EC%88%98%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%B6%84%EA%B8%B0\" aria-label=\"register ë³€ìˆ˜ë¥¼ í™œìš©í•œ ë¶„ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Register ë³€ìˆ˜ë¥¼ í™œìš©í•œ ë¶„ê¸°</h3>\n<p>: taskì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•˜ê¸° ìœ„í•¨. ê·¸ë¦¬ê³  ê·¸ ê²°ê³¼ì— ë”°ë¼ playbook ë‚´ì—ì„œ ë¶„ê¸°í•˜ê¸° ìœ„í•˜ì—¬ ì‚¬ìš©ë¨</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> register demo\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> localhost\n  <span class=\"token key atrule\">gather_facts</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> \n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> using command module\n      <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> date \n      <span class=\"token key atrule\">register</span><span class=\"token punctuation\">:</span> aaa\n\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> print aaa value\n      <span class=\"token key atrule\">debug</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">var</span><span class=\"token punctuation\">:</span> aaa</code></pre></div>\n<ul>\n<li>register ë³€ìˆ˜ë¥¼ ìœ„ì™€ ê°™ì´ ì¶œë ¥í–ˆì„ ë•Œ, ì•„ë˜ì™€ ê°™ì´ ë‚˜ì˜¤ë©° ë³´í†µ ê²°ê³¼ì˜ ì„±ê³µ ì—¬ë¶€ë¥¼ íŒë‹¨í•  ë•Œ rcê°’ì„ ê¸°ì¤€ìœ¼ë¡œ í•œë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">TASK <span class=\"token punctuation\">[</span>print aaa value<span class=\"token punctuation\">]</span> **********************************************\nok: <span class=\"token punctuation\">[</span>localhost<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"aaa\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"changed\"</span><span class=\"token builtin class-name\">:</span> true,\n        <span class=\"token string\">\"msg\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"All items completed\"</span>,\n        <span class=\"token string\">\"results\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"ansible_loop_var\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"item\"</span>,\n          <span class=\"token string\">\"changed\"</span><span class=\"token builtin class-name\">:</span> true,\n          <span class=\"token string\">\"cmd\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"echo This is my item: one\"</span>, <span class=\"token string\">\"delta\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"0:00:00.004519\"</span>,\n          <span class=\"token string\">\"end\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2022-06-29 17:32:54.065165\"</span>, <span class=\"token string\">\"failed\"</span><span class=\"token builtin class-name\">:</span> false,\n          <span class=\"token punctuation\">..</span>.output omitted<span class=\"token punctuation\">..</span>.\n          <span class=\"token string\">\"item\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"one\"</span>,\n          <span class=\"token string\">\"msg\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"\"</span>,\n          <span class=\"token string\">\"rc\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">0</span>,\n          <span class=\"token string\">\"start\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"2022-06-29 17:32:54.060646\"</span>, <span class=\"token string\">\"stderr\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"\"</span>,\n          <span class=\"token string\">\"stderr_lines\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>,\n          <span class=\"token string\">\"stdout\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">\"This is my item: one\"</span>, <span class=\"token string\">\"stdout_lines\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token punctuation\">[</span>\n                              <span class=\"token string\">\"This is my item: one\"</span>\n                          <span class=\"token punctuation\">]</span>\n          <span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># registerë¥¼ í†µí•œ ë¶„ê¸° ì˜ˆì‹œ</span>\n<span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Restart HTTPD if Postfix is Running\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> all\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Get Postfix server status\n      <span class=\"token key atrule\">ansible.builtin.command</span><span class=\"token punctuation\">:</span> /usr/bin/systemctl is<span class=\"token punctuation\">-</span>active postfix\n      <span class=\"token key atrule\">register</span><span class=\"token punctuation\">:</span> result\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Restart Apache HTTPD based on Postfix status\n      <span class=\"token key atrule\">ansible.builtin.service</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> httpd\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> restarted\n      <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> result.rc == 0</code></pre></div>\n</li>\n</ul>\n<h3 id=\"ì¡°ê±´ë¬¸ê³¼-ë°˜ë³µë¬¸ì˜-ê²°í•©\" style=\"position:relative;\"><a href=\"#%EC%A1%B0%EA%B1%B4%EB%AC%B8%EA%B3%BC-%EB%B0%98%EB%B3%B5%EB%AC%B8%EC%9D%98-%EA%B2%B0%ED%95%A9\" aria-label=\"ì¡°ê±´ë¬¸ê³¼ ë°˜ë³µë¬¸ì˜ ê²°í•© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¡°ê±´ë¬¸ê³¼ ë°˜ë³µë¬¸ì˜ ê²°í•©</h3>\n<p>: ì‚¬ìš© ê°€ëŠ¥í•œ ê³µê°„ì´ 300MiB ì´ìƒì¸ /ì— ë§ˆìš´íŠ¸ëœ íŒŒì¼ ì‹œìŠ¤í…œì´ ìˆëŠ” ê²½ìš°, ansible.builtin.dnf ëª¨ë“ˆì—ì„œ mariadb-server íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ëŠ” ì˜ˆì‹œ</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> install mariadb<span class=\"token punctuation\">-</span>server if enough space on root\n  <span class=\"token key atrule\">ansible.builtin.dnf</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> mariadb<span class=\"token punctuation\">-</span>server\n    <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> latest\n  <span class=\"token key atrule\">loop</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ ansible_facts['mounts'] }}\"</span>\n  <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">'mount'</span><span class=\"token punctuation\">]</span> == \"/\" and item<span class=\"token punctuation\">[</span><span class=\"token string\">'size_available'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">></span> 300000000</code></pre></div>\n<h3 id=\"í•¸ë“¤ëŸ¬\" style=\"position:relative;\"><a href=\"#%ED%95%B8%EB%93%A4%EB%9F%AC\" aria-label=\"í•¸ë“¤ëŸ¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•¸ë“¤ëŸ¬</h3>\n<ul>\n<li>ë‹¤ë¥¸ ì‘ì—…ì—ì„œ íŠ¸ë¦¬ê±°í•œ ì•Œë¦¼ì— ì‘ë‹µí•˜ëŠ” ì‘ì—…ì´ë‹¤.</li>\n<li>ì¼ë°˜ì ìœ¼ë¡œ ì£¼ìš” ì„¤ì •ì´ ë³€ê²½ëì„ ë•Œ í•¸ë“¤ëŸ¬ í˜¸ì¶œì„ í†µí•´ node ì¬ë¶€íŒ… ë° ì„œë¹„ìŠ¤ ì¬ì‹œì‘ì— ì‚¬ìš©ëœë‹¤.</li>\n<li>tasksê°€ ëª¨ë‘ ëë‚œ ë’¤ì— í•¸ë“¤ëŸ¬ì˜ ì‘ì—…ì´ ì‹¤í–‰ëœë‹¤.</li>\n<li>handlers ì‚¬ìš© ì˜ˆì‹œ\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> copy demo.example.conf configuration template\n      <span class=\"token key atrule\">ansible.builtin.template</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">src</span><span class=\"token punctuation\">:</span> /var/lib/templates/demo.example.conf.template\n        <span class=\"token key atrule\">dest</span><span class=\"token punctuation\">:</span> /etc/httpd/conf.d/demo.example.conf\n      <span class=\"token key atrule\">notify</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> restart mysql\n        <span class=\"token punctuation\">-</span> restart apache\n  <span class=\"token key atrule\">handlers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> restart mysql\n      <span class=\"token key atrule\">ansible.builtin.service</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> mariadb\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> restarted\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> restart apache\n      <span class=\"token key atrule\">ansible.builtin.service</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> httpd\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> restarted</code></pre></div>\n</li>\n<li>handlerëŠ” í˜¸ì¶œ ìˆœì´ ì•„ë‹ˆë¼ handlersì— ì„ ì–¸ëœ ìˆœì„œë¡œ ì‹¤í–‰ëœë‹¤.</li>\n</ul>\n<h3 id=\"ì‘ì—…-ì˜¤ë¥˜-ì²˜ë¦¬\" style=\"position:relative;\"><a href=\"#%EC%9E%91%EC%97%85-%EC%98%A4%EB%A5%98-%EC%B2%98%EB%A6%AC\" aria-label=\"ì‘ì—… ì˜¤ë¥˜ ì²˜ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‘ì—… ì˜¤ë¥˜ ì²˜ë¦¬</h3>\n<p>ì‘ì—…ì˜ ì‹¤íŒ¨í•˜ëŠ” ê²ƒì— ëŒ€í•´ì„œ ì–´ë–»ê²Œ ì œì–´í•  ê²ƒì¸ê°€.</p>\n<ul>\n<li>\n<p>ì‘ì—… ì‹¤íŒ¨ ë¬´ì‹œ</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Latest version of notapkg is installed\n<span class=\"token key atrule\">ansible.builtin.dnf</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> notapkg\n  <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> latest\n<span class=\"token key atrule\">ignore_errors</span><span class=\"token punctuation\">:</span> yes</code></pre></div>\n</li>\n<li>\n<p>ì‘ì—… ì‹¤í–‰ í›„ í•¸ë“¤ëŸ¬ ê°•ì œ ì‹¤í–‰</p>\n<ul>\n<li>ì•„ë˜ ì˜ˆì‹œì—ì„œ notapkgì˜ ì„¤ì¹˜ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒ¨í‚¤ì§€ì´ë¯€ë¡œ ì‹¤íŒ¨í•˜ì—¬ì„œ, ì›ë˜ë¼ë©´ <code class=\"language-text\">notify handler</code> taskë¡œ ì¸í•œ handlerê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•„ì•¼ í•˜ì§€ë§Œ, <code class=\"language-text\">force_handlers:yes</code>ë¥¼ ì„¤ì •í•¨ìœ¼ë¡œì¨ restart db í•¸ë“¤ëŸ¬ê°€ ì‹¤í–‰ë˜ê²Œ ëœë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"> <span class=\"token punctuation\">---</span>\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> all\n  <span class=\"token key atrule\">force_handlers</span><span class=\"token punctuation\">:</span> yes\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> notify handler\n      <span class=\"token key atrule\">ansible.builtin.command</span><span class=\"token punctuation\">:</span> /bin/true\n      <span class=\"token key atrule\">notify</span><span class=\"token punctuation\">:</span> restart db\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> a task which fails because the package doesn't exist\n      <span class=\"token key atrule\">ansible.builtin.dnf</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> notapkg\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> latest\n\n  <span class=\"token key atrule\">handlers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> restart db\n      <span class=\"token key atrule\">ansible.builtin.service</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> mariadb\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> restarted</code></pre></div>\n</li>\n<li>\n<p>failed_when</p>\n<ul>\n<li>ì‚¬ìš©ìê°€ ì§ì ‘ ì–´ë–¤ ê²½ìš°ì— ì‹¤íŒ¨ì¸ì§€ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ êµ¬ë¬¸</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run user creation script\n      <span class=\"token key atrule\">ansible.builtin.shell</span><span class=\"token punctuation\">:</span> /usr/local/bin/create_users.sh\n      <span class=\"token key atrule\">register</span><span class=\"token punctuation\">:</span> command_result\n      <span class=\"token key atrule\">failed_when</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"'Password missing' in command_result.stdout\"</span></code></pre></div>\n</li>\n<li>\n<p>fail ëª¨ë“ˆ</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Run user creation script\n      <span class=\"token key atrule\">ansible.builtin.shell</span><span class=\"token punctuation\">:</span> /usr/local/bin/create_users.sh\n      <span class=\"token key atrule\">register</span><span class=\"token punctuation\">:</span> command_result\n      <span class=\"token key atrule\">ignore_errors</span><span class=\"token punctuation\">:</span> yes\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Report script failure\n      <span class=\"token key atrule\">ansible.builtin.fail</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">msg</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"The password is missing in the output\"</span>\n      <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"'Password missing' in command_result.stdout\"</span></code></pre></div>\n</li>\n<li>\n<p>changed_when</p>\n<ul>\n<li>changed_when êµ¬ë¬¸ì€ ëª…ì‹œì ìœ¼ë¡œ taskê°€ changeë˜ì—ˆìŒì„ í‘œì‹œí•˜ê¸° ìœ„í•¨</li>\n<li>ì‹¤ì œ ì¡°ì¹˜ê°€ í•„ìš”í•œ ë³€í™”ê°€ nodeì—ì„œ ìˆëŠ” ê²½ìš°, ì´ë¥¼ ì¶”ì í•˜ê¸° ìœ„í•œ ì¤‘ìš”í•œ ë„êµ¬\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">ansible.builtin.shell</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">cmd</span><span class=\"token punctuation\">:</span> /usr/local/bin/upgrade<span class=\"token punctuation\">-</span>database\n      <span class=\"token key atrule\">register</span><span class=\"token punctuation\">:</span> command_result\n      <span class=\"token key atrule\">changed_when</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"'Success' in command_result.stdout\"</span>\n      <span class=\"token key atrule\">notify</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> restart_database\n  <span class=\"token key atrule\">handlers</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> restart_database\n      <span class=\"token key atrule\">ansible.builtin.service</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> mariadb\n        <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> restarted</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>block êµ¬ë¬¸</p>\n<ul>\n<li>blockë‚´ì— task ì—¬ëŸ¬ê°œë¥¼ í•˜ë‚˜ì˜ taskë¡œ ë¬¶ì„ ìˆ˜ ìˆê³ , ë”°ë¼ì„œ ì´ë¥¼ ë¬¶ì–´ì„œ ë¶„ê¸° ì²˜ë¦¬ ë“±ì„ í•  ìˆ˜ ìˆë‹¤. ( blockë¬¸ì— whenì„ ì ìš© )</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> block example\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> all\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> installing and configuring DNF versionlock plugin\n      <span class=\"token key atrule\">block</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> package needed by dnf\n        <span class=\"token key atrule\">ansible.builtin.dnf</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> python3<span class=\"token punctuation\">-</span>dnf<span class=\"token punctuation\">-</span>plugin<span class=\"token punctuation\">-</span>versionlock\n          <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> present\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> lock version of tzdata\n        <span class=\"token key atrule\">ansible.builtin.lineinfile</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">dest</span><span class=\"token punctuation\">:</span> /etc/yum/pluginconf.d/versionlock.list\n          <span class=\"token key atrule\">line</span><span class=\"token punctuation\">:</span> tzdata<span class=\"token punctuation\">-</span>2016j<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n          <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> present\n      <span class=\"token key atrule\">when</span><span class=\"token punctuation\">:</span> ansible_distribution == \"RedHat\"</code></pre></div>\n<ul>\n<li>rescue, alwaysì™€ í•¨ê»˜ blockë¬¸ ì‚¬ìš©í•˜ê¸°\n<ul>\n<li>rescueëŠ” blockë¬¸ì´ ì‹¤íŒ¨í–ˆì„ ë•Œ ì‹¤í–‰ë˜ê³ , alwaysëŠ” í•­ìƒ ì‹¤í–‰ëœë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Upgrade DB\n    <span class=\"token key atrule\">block</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> upgrade the database\n        <span class=\"token key atrule\">ansible.builtin.shell</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">cmd</span><span class=\"token punctuation\">:</span> /usr/local/lib/upgrade<span class=\"token punctuation\">-</span>database\n    <span class=\"token key atrule\">rescue</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> revert the database upgrade\n        <span class=\"token key atrule\">ansible.builtin.shell</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">cmd</span><span class=\"token punctuation\">:</span> /usr/local/lib/revert<span class=\"token punctuation\">-</span>database\n    <span class=\"token key atrule\">always</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> always restart the database\n        <span class=\"token key atrule\">ansible.builtin.service</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> mariadb\n          <span class=\"token key atrule\">state</span><span class=\"token punctuation\">:</span> restarted</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<p>ì‹œí—˜</p>\n<ul>\n<li>ì‹¤ìŠµ ìµìˆ™í•´ì§€ê³  9ì¥ì˜ ë¬¸ì œë¥¼ ì˜ ë³´ë©´ ë¨.</li>\n</ul>","frontmatter":{"date":"November 11, 2024","title":"Ansible ìë™í™”","categories":"Linux DevOps","author":"jjunyong","emoji":"ğŸ˜Œ"},"fields":{"slug":"/ansible1/"}},"site":{"siteMetadata":{"siteUrl":"https://jjunyong.github.io","comments":{"utterances":{"repo":"jjunyong/jjunyong.github.io"}}}}},"pageContext":{"slug":"/aem1/","nextSlug":"/error-prometheus/","prevSlug":"/ansible1/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}