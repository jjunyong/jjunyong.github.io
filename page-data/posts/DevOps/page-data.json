{"componentChunkName":"component---src-templates-category-template-js","path":"/posts/DevOps","result":{"pageContext":{"currentCategory":"DevOps","categories":["All","Linux","독서","Error","DevOps","AWS","DB","Spring","WEB","Java","디자인패턴","Git"],"edges":[{"node":{"id":"b0cc66a6-0bbd-58e7-83b6-6780b87f1a11","excerpt":"이벤트 뷰어 : OS 다운 관련 이벤트 확인하기 : https://m.blog.naver.com/toruin84/222376936262 윈도우 OS 자동 재부팅 방지 이벤트 1074 : OS 업데이트로 인한 자동 재시작 https://igotit.tistory.com/entry/%EC%9C%88%EB%8F%84%EC%9A%B0-10-%EC%9E%90%EB%8F%99%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8-%EC%9E%90%EB%8F%99%EC%9E%AC%EB%B6%80%ED%8C%85-%EB%B0%A9%EC%A7%80-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0 https://sunnyk.tistory.com/6 이벤트 41 : Kernel-power 이거는 파워 공급 불안정이 이유일 수도 있고, 다른 하드웨어적인 이유일 수도 있어서 원인 파악이 매우 어렵다.\n콘센트를 바꿔 꽂아보라는 얘기가 있는데 시도해봐야 할듯. 참고자료 https…","fields":{"slug":"/on-premise8/"},"frontmatter":{"categories":"DevOps","title":"On-premise 8. 호스트 서버 모니터링 및 꺼짐 방지","date":"July 17, 2023"}},"next":{"fields":{"slug":"/error-k8s-crash/"}},"previous":{"fields":{"slug":"/linux-w4/"}}},{"node":{"id":"126123b5-2406-51f1-a2ed-b243f2987459","excerpt":"Redis 설치 remmi repo를 사용하지 않고 그냥 yum install하게 되면 redis3버전이 latest이므로 반드시 remi repo를 사용해야 한다. Redis 실행 Redis 구축 개발계 Redis 설정 redis를 설치한 현 상태에서는 systemctl 명령어로 단일 ‘redis’ 서비스만 관리할 수 있다. 나는 개발계용 redisdev service부터 운영용 redis1, redis2, redis3 service를 관리하고 싶은 상황이다.\n따라서 최초에 실행 한 redis를 redisdev라는 서비스로 띄우고, 관련된 설정도 수정하고자 한다. 기존에 실행되고 있는 redis service를 내린다.  /usr/lib/systemd/system/redis.service -> redisdev.service로 명칭 변경 /etc/redis.conf의 이름을 redisdev.conf로 변경하고, 해당 파일 내에 redis 관련된 path를 변경한다. 변경 한 경로의…","fields":{"slug":"/on-premise7/"},"frontmatter":{"categories":"DevOps","title":"On-premise 7. Redis 구축하기","date":"July 11, 2023"}},"next":{"fields":{"slug":"/on-premise6/"}},"previous":{"fields":{"slug":"/linux-w3/"}}},{"node":{"id":"bc4fa07b-cdf1-5248-be3c-52af000a21a4","excerpt":"MySQL 8.0 설치 1. 설치가능한 MySQL repository 확인 www.mysql.com/products/community/ 2. MySQL Repository 설치 1에서 확인한 yum, CentOS 7버전에 해당하는 repository를 찾아서 설치한다. 직접 찾아서 설치하지 않으면 outdate 될 수 있기 때문에 반드시 mysql홈페이지에서 직접 repostiory찾아야 한다. 3. MySQL 설치 4. MySQL 서버 시작 및 셋팅 아래 명령을 통해 설치된 mysql서버의 root 계정 비밀번호를 알아 낼 수 있음  MySQL Secure installation : MySQL 보안 강화하기  명령을 통해 mysql이 권장하는 보안 관련된 기본 설정을 셋팅한다.\n이 과정에서 mysql에서는 root비밀번호 변경을 요청하니까 위에서 알아낸 password를 입력하고 변경하면 된다. 나중에 직접 root계정 비번만 변경하려면 아래와 같이 하면 됨 root계정 비밀번호…","fields":{"slug":"/on-premise6/"},"frontmatter":{"categories":"DevOps","title":"On-premise 6. DB 서버 구축하기","date":"July 10, 2023"}},"next":{"fields":{"slug":"/linux-w2/"}},"previous":{"fields":{"slug":"/on-premise7/"}}},{"node":{"id":"5ddab0e0-9d57-5cdc-bf2f-23512b7453bb","excerpt":"SSL 설정 K8S 네트워크 관련 에러 CNI 재설치 Calico Calico 제거 Calico 설치 On-premise2 k8s 구성 참조 Flannel Flannel 설치 pod-cidr 설정을 k8s cluster와 맞춰주도록 하자. Flannel 제거 참고자료 https://lcc3108.github.io/articles/2020-12/certmanager https://www.youtube.com/watch?v=BlzRx6ROiX0","fields":{"slug":"/on-premise5/"},"frontmatter":{"categories":"DevOps","title":"On-premise 5. 네트워크 설정","date":"July 02, 2023"}},"next":{"fields":{"slug":"/on-premise3/"}},"previous":{"fields":{"slug":"/linux-w2/"}}},{"node":{"id":"0c2b0a8f-e1ce-5168-9bb0-52991a15f6a9","excerpt":"무작위 접속 시도 차단을 위한 ipban 적용 github에서 https://github.com/DigitalRuby/IPBan/releases url로 ipban을 다운로드 한다. 로그인/로그오프 기록을 로깅하여 ‘이벤트뷰어’-’보안’ 에서 확인하도록 하기  서비스등록     ipban.config 수정 후 서비스 재기동하기 로그인 5회 실패시 등록 이벤트 뷰어 보는 법 [실행창] - “eventvwr” 입력하면 된다.\n생각보다 호스트 서버에 무작위로 접속 시도하는 경우가 많아서 윈도우 서버의 경우 이벤트 뷰어에 들어가서 누가 언제 호스트 서버에 접속했는지 확인할 수 있다.\n접속 시도와 관련된 이벤트 id 및 로그온 유형은 다음과 같다. Event ID 4624 성공적인 로그인을 뜻한다. 따라서 관리자가 접속한 시간이 아닌 경우에 4624가 발생했다면 외부 공격을 의심해야 한다. 4625 계정 로그온 실패로 분류되며, 나의 경우에는 이벤트 뷰어에서 4624 이벤트가 초 단위로 쌓…","fields":{"slug":"/on-premise3/"},"frontmatter":{"categories":"DevOps","title":"On-premise 서버 구축하기 3. 호스트 서버 보안","date":"July 02, 2023"}},"next":{"fields":{"slug":"/on-premise4/"}},"previous":{"fields":{"slug":"/on-premise5/"}}},{"node":{"id":"ca567892-1197-5142-89b7-611bdfc77df1","excerpt":"Istio 환경구성 Istio 설치 생각보다 istio 설치하는 것 자체는 간단하다. 아래와 같은 과정을 따라 하면 끝이다. Istioctl 다운로드 : controlplane에서 다운로드 한다.  istioctl 명령어 사용하기 위한 PATH 등록   istio 설치 ( https://istio.io/latest/docs/setup/install/istioctl/ ) istioctl로 바로 설치하기  default Profile으로 설치됨 설치 후 deployment에 istiod, istio-ingressgateway설치되었음을 확인 가능 istio-operator로 설치하기  : 이렇게 하면 istio-operator namespace와 함께 istio-operator pod가 생성된다. 그런 후 k apply -f 를 해서 아래 istio-operator 파일을 apply 해주면 istiod, istio-ingressgateway, egressgateway 등 istio가 …","fields":{"slug":"/on-premise4/"},"frontmatter":{"categories":"DevOps","title":"On-premise 4. Istio 환경 구축하기","date":"July 02, 2023"}},"next":{"fields":{"slug":"/on-premise2/"}},"previous":{"fields":{"slug":"/on-premise3/"}}},{"node":{"id":"83fbc418-ebe7-5158-a8e0-5f8d2d000eb0","excerpt":"1. 사전 설정 : 사전 설정은 모든 노드에서 실행해주어야 한다. cri-docker Install cri-docker Version Check cri-docker Active Check Docker cgroup Change Require to Systemd 2.  패키지 설치 : kubeadm, kubectl, kubelet 패키지 설치도 모든 노드에서 실행 해준다. Swap disable 처리  iptable이 bridged traffic 을 바라볼 수 있도록 설정.   컨테이너는 가상화된 네트워크 인터페이스를 사용하므로, 컨테이너 간의 통신 및 네트워크 기능을 지원하기 위해 호스트 단에서 커널 parameter를 위와 같이 변경하는 것이다. net.bridge.bridge-nf-call-ip6tables = 1: 이 설정은 IPv6 네트워크 트래픽이 브리지로 전달되어 IP 테이블에서 필터링될 수 있도록 한다. net.bridge.bridge-nf-call-iptables = …","fields":{"slug":"/on-premise2/"},"frontmatter":{"categories":"DevOps","title":"On-premise 2. K8S 클러스터 설치","date":"July 01, 2023"}},"next":{"fields":{"slug":"/on-premise1/"}},"previous":{"fields":{"slug":"/on-premise4/"}}},{"node":{"id":"db355e4e-68b0-52ba-bab3-1048577684ab","excerpt":"1. 서버/VM 구축 1. 서버 셋팅 1) 공유기 설정 공유기 어드민 콘솔에 접근하여 DDNS 설정, 포트포워딩, 고정IP 할당을 해준다. 공유기 콘솔에 접근 하는 방법은 공유기 제조사 마다 다른데, 나의 경우는 tplink라서 192.168.0.1로 접근 가능 고정 IP 설정 공유기 콘솔에 들어가면 연결된 서버에 고정 ip를 할당 포트포워딩 설정 할당된 고정 ip에 포트포워딩을 설정한다. 예를 들어 공유기로 8080 포트로 들어왔을 때 서버의 9090포트로 포워딩 되도록 설정하는 것이다. 동적 DNS 설정 ( DDNS ) 실제 공유기의 공인 ip는 변동되기 때문에 동적 DNS 설정을 통해 ‘aaa.tplinkdns.com’ 이런 도메인으로 외부에서 서버로 접속 할 수 있도록 해주어야 한다. 여기까지 하면 aaa.tplinikdns.com:8080으로 접속했을 때, 내 서버가 설치된 공유기의 8080포트로 접속이 되게 되고, 고정ip와 포트포워딩 설정을 통해 LAN내에 존재하는 내…","fields":{"slug":"/on-premise1/"},"frontmatter":{"categories":"DevOps","title":"On-premise 1. 공유기, 서버, 네트웍 설정","date":"July 01, 2023"}},"next":{"fields":{"slug":"/linux-w1/"}},"previous":{"fields":{"slug":"/on-premise2/"}}}]}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}