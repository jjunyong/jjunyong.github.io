{"componentChunkName":"component---src-templates-blog-template-js","path":"/on-premise2/","result":{"data":{"cur":{"id":"83fbc418-ebe7-5158-a8e0-5f8d2d000eb0","html":"<h2 id=\"1-ì‚¬ì „-ì„¤ì •\" style=\"position:relative;\"><a href=\"#1-%EC%82%AC%EC%A0%84-%EC%84%A4%EC%A0%95\" aria-label=\"1 ì‚¬ì „ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ì‚¬ì „ ì„¤ì •</h2>\n<p>: ì‚¬ì „ ì„¤ì •ì€ ëª¨ë“  ë…¸ë“œì—ì„œ ì‹¤í–‰í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-fsSL</span> <span class=\"token punctuation\">[</span>https://get.docker.com<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>https://get.docker.com/<span class=\"token punctuation\">)</span> <span class=\"token parameter variable\">-o</span> <span class=\"token punctuation\">[</span>get-docker.sh<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>http://get-docker.sh/<span class=\"token punctuation\">)</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">sh</span> <span class=\"token punctuation\">[</span>get-docker.sh<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>http://get-docker.sh/<span class=\"token punctuation\">)</span>\n<span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> <span class=\"token parameter variable\">--now</span> <span class=\"token function\">docker</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> systemctl status <span class=\"token function\">docker</span> --no-pager\n<span class=\"token function\">sudo</span> <span class=\"token function\">usermod</span> <span class=\"token parameter variable\">-aG</span> <span class=\"token function\">docker</span> onyouadmin\n<span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> container <span class=\"token function\">ls</span></code></pre></div>\n<h3 id=\"cri-docker-install\" style=\"position:relative;\"><a href=\"#cri-docker-install\" aria-label=\"cri docker install permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cri-docker Install</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">VER</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-s</span> <span class=\"token punctuation\">[</span>https://api.github.com/repos/Mirantis/cri-dockerd/releases/latest<span class=\"token operator\">|</span>grep<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>https://api.github.com/repos/Mirantis/cri-dockerd/releases/latest%7Cgrep<span class=\"token punctuation\">)</span> tag_name <span class=\"token operator\">|</span> <span class=\"token function\">cut</span> <span class=\"token parameter variable\">-d</span> <span class=\"token string\">'\"'</span> <span class=\"token parameter variable\">-f</span> <span class=\"token number\">4</span><span class=\"token operator\">|</span><span class=\"token function\">sed</span> <span class=\"token string\">'s/v//g'</span><span class=\"token variable\">)</span></span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">$VER</span>\n<span class=\"token function\">wget</span> <span class=\"token punctuation\">[</span>https://github.com/Mirantis/cri-dockerd/releases/download/v<span class=\"token variable\">${VER}</span>/cri-dockerd-<span class=\"token variable\">${VER}</span>.amd64.tgz<span class=\"token punctuation\">]</span><span class=\"token punctuation\">(</span>https://github.com/Mirantis/cri-dockerd/releases/download/v$%7BVER%7D/cri-dockerd-$%7BVER%7D.amd64.tgz<span class=\"token punctuation\">)</span>\n<span class=\"token function\">tar</span> xvf cri-dockerd-<span class=\"token variable\">${VER}</span>.amd64.tgz\n<span class=\"token function\">sudo</span> <span class=\"token function\">mv</span> cri-dockerd/cri-dockerd /usr/local/bin/</code></pre></div>\n<h3 id=\"cri-docker-version-check\" style=\"position:relative;\"><a href=\"#cri-docker-version-check\" aria-label=\"cri docker version check permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cri-docker Version Check</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">cri-dockerd <span class=\"token parameter variable\">--version</span>\n\n<span class=\"token function\">wget</span> https://raw.githubusercontent.com/Mirantis/cri-dockerd/master/packaging/systemd/cri-docker.service\n<span class=\"token function\">wget</span> https://raw.githubusercontent.com/Mirantis/cri-dockerd/master/packaging/systemd/cri-docker.socket\n<span class=\"token function\">sudo</span> <span class=\"token function\">mv</span> cri-docker.socket cri-docker.service /etc/systemd/system/\n<span class=\"token function\">sudo</span> <span class=\"token function\">sed</span> <span class=\"token parameter variable\">-i</span> <span class=\"token parameter variable\">-e</span> <span class=\"token string\">'s,/usr/bin/cri-dockerd,/usr/local/bin/cri-dockerd,'</span> /etc/systemd/system/cri-docker.service\n\n<span class=\"token function\">sudo</span> systemctl daemon-reload\n<span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> cri-docker.service\n<span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> <span class=\"token parameter variable\">--now</span> cri-docker.socket</code></pre></div>\n<h3 id=\"cri-docker-active-check\" style=\"position:relative;\"><a href=\"#cri-docker-active-check\" aria-label=\"cri docker active check permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cri-docker Active Check</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> systemctl restart <span class=\"token function\">docker</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> systemctl restart cri-docker\n<span class=\"token function\">sudo</span> systemctl status cri-docker.socket --no-pager</code></pre></div>\n<h3 id=\"docker-cgroup-change-require-to-systemd\" style=\"position:relative;\"><a href=\"#docker-cgroup-change-require-to-systemd\" aria-label=\"docker cgroup change require to systemd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker cgroup Change Require to Systemd</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">mkdir</span> /etc/docker\n<span class=\"token function\">cat</span> <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF<span class=\"token bash punctuation\"> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/docker/daemon.json</span>\n{\n\"exec-opts\": [\"native.cgroupdriver=systemd\"],\n\"log-driver\": \"json-file\",\n\"log-opts\": {\n\"max-size\": \"100m\"\n},\n\"storage-driver\": \"overlay2\"\n}\nEOF</span>\n``<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">bash</span>\n\n<span class=\"token variable\">`</span></span>``bash\n<span class=\"token function\">sudo</span> systemctl restart <span class=\"token function\">docker</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> systemctl restart cri-docker\n<span class=\"token function\">sudo</span> <span class=\"token function\">docker</span> info <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> Cgroup</code></pre></div>\n<h2 id=\"2--íŒ¨í‚¤ì§€-ì„¤ì¹˜--kubeadm-kubectl-kubelet\" style=\"position:relative;\"><a href=\"#2--%ED%8C%A8%ED%82%A4%EC%A7%80-%EC%84%A4%EC%B9%98--kubeadm-kubectl-kubelet\" aria-label=\"2  íŒ¨í‚¤ì§€ ì„¤ì¹˜  kubeadm kubectl kubelet permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.  íŒ¨í‚¤ì§€ ì„¤ì¹˜ : kubeadm, kubectl, kubelet</h2>\n<p>íŒ¨í‚¤ì§€ ì„¤ì¹˜ë„ ëª¨ë“  ë…¸ë“œì—ì„œ ì‹¤í–‰ í•´ì¤€ë‹¤.</p>\n<ol>\n<li>\n<p>Swap disable ì²˜ë¦¬</p>\n<p><code class=\"language-text\">swapoff -a &amp;&amp; sed -i '/swap/s/^/#/' /etc/fstab</code></p>\n</li>\n<li>\n<p>iptableì´ bridged traffic ì„ ë°”ë¼ë³¼ ìˆ˜ ìˆë„ë¡ ì„¤ì •.</p>\n<p><code class=\"language-text\">cat &lt;&lt;EOF > /etc/sysctl.d/k8s.conf</code></p>\n<p><code class=\"language-text\">net.bridge.bridge-nf-call-ip6tables = 1\n net.bridge.bridge-nf-call-iptables = 1\n EOF</code></p>\n<ul>\n<li>ì»¨í…Œì´ë„ˆëŠ” ê°€ìƒí™”ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, ì»¨í…Œì´ë„ˆ ê°„ì˜ í†µì‹  ë° ë„¤íŠ¸ì›Œí¬ ê¸°ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•´ í˜¸ìŠ¤íŠ¸ ë‹¨ì—ì„œ ì»¤ë„ parameterë¥¼ ìœ„ì™€ ê°™ì´ ë³€ê²½í•˜ëŠ” ê²ƒì´ë‹¤.\n<ol>\n<li>net.bridge.bridge-nf-call-ip6tables = 1: ì´ ì„¤ì •ì€ IPv6 ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì´ ë¸Œë¦¬ì§€ë¡œ ì „ë‹¬ë˜ì–´ IP í…Œì´ë¸”ì—ì„œ í•„í„°ë§ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</li>\n<li>net.bridge.bridge-nf-call-iptables = 1: ì´ ì„¤ì •ì€ IPv4 ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì´ ë¸Œë¦¬ì§€ë¡œ ì „ë‹¬ë˜ì–´ IP í…Œì´ë¸”ì—ì„œ í•„í„°ë§ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</li>\n</ol>\n</li>\n</ul>\n</li>\n<li>\n<p>ë°©í™”ë²½ í•´ì œ</p>\n<p><code class=\"language-text\">systemctl stop firewalld</code></p>\n<p><code class=\"language-text\">systemctl disable firewalld</code></p>\n</li>\n<li>\n<p>SELinuxë¥¼ permissive modeë¡œ ì„¤ì •</p>\n<p><code class=\"language-text\">setenforce 0</code></p>\n<p><code class=\"language-text\">sed -i 's/^SELINUX=enforcing$/SELINUX=permissive/' /etc/selinux/config</code></p>\n</li>\n<li>\n<p>kubeadm, kubelet, kubectl ì„¤ì¹˜</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> <span class=\"token operator\">&lt;&lt;</span><span class=\"token string\">EOF<span class=\"token bash punctuation\"> <span class=\"token operator\">></span> /etc/yum.repos.d/kubernetes.repo</span>\n\n[kubernetes]\nname=Kubernetes\nbaseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64\nenabled=1\ngpgcheck=1\nrepo_gpgcheck=1\ngpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg\nexclude=kubelet kubeadm kubectl\nEOF</span>\n\nyum <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> kubelet kubeadm kubectl <span class=\"token parameter variable\">--disableexcludes</span><span class=\"token operator\">=</span>kubernetes\n\nsystemctl start kubelet <span class=\"token operator\">&amp;&amp;</span> systemctl <span class=\"token builtin class-name\">enable</span> kubelet</code></pre></div>\n</li>\n</ol>\n<h2 id=\"3-ë§ˆìŠ¤í„°-ë…¸ë“œ-ì„¤ì •\" style=\"position:relative;\"><a href=\"#3-%EB%A7%88%EC%8A%A4%ED%84%B0-%EB%85%B8%EB%93%9C-%EC%84%A4%EC%A0%95\" aria-label=\"3 ë§ˆìŠ¤í„° ë…¸ë“œ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ë§ˆìŠ¤í„° ë…¸ë“œ ì„¤ì •</h2>\n<h3 id=\"controller-node\" style=\"position:relative;\"><a href=\"#controller-node\" aria-label=\"controller node permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Controller Node</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> kubeadm config images pull --cri-socket unix:///run/cri-dockerd.sock\n\n<span class=\"token function\">sudo</span> kubeadm init --ignore-preflight-errors<span class=\"token operator\">=</span>all --pod-network-cidr<span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.0.0/16 --apiserver-advertise-address<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>ë§ˆìŠ¤í„°ë…¸ë“œ IP<span class=\"token punctuation\">}</span> --cri-socket /var/run/cri-dockerd.sock</code></pre></div>\n<h3 id=\"ì„¤ì¹˜-ì‹œ-ì¶œë ¥ë˜ëŠ”-join-command-ë¥¼-ë³µì‚¬í•´ë‘”ë‹¤\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EC%B9%98-%EC%8B%9C-%EC%B6%9C%EB%A0%A5%EB%90%98%EB%8A%94-join-command-%EB%A5%BC-%EB%B3%B5%EC%82%AC%ED%95%B4%EB%91%94%EB%8B%A4\" aria-label=\"ì„¤ì¹˜ ì‹œ ì¶œë ¥ë˜ëŠ” join command ë¥¼ ë³µì‚¬í•´ë‘”ë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„¤ì¹˜ ì‹œ ì¶œë ¥ë˜ëŠ” join Command ë¥¼ ë³µì‚¬í•´ë‘”ë‹¤.</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubeadm <span class=\"token function\">join</span> <span class=\"token punctuation\">{</span>ë§ˆìŠ¤í„°ë…¸ë“œIP<span class=\"token punctuation\">}</span>:6443 <span class=\"token parameter variable\">--token</span> r8gfco.6s7f60dns4vgwcc0 <span class=\"token punctuation\">\\</span>\n--discovery-token-ca-cert-hash sha256:7b0f82be076748e67f8615eab0b86a61317bac397f94b2921810231ab14afdcc</code></pre></div>\n<h3 id=\"kubeadm-ì„-root-ì²˜ëŸ¼-ì‚¬ìš©í•˜ê¸°-ìœ„í•œ-ì¶”ê°€-ì„¤ì •\" style=\"position:relative;\"><a href=\"#kubeadm-%EC%9D%84-root-%EC%B2%98%EB%9F%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%9C-%EC%B6%94%EA%B0%80-%EC%84%A4%EC%A0%95\" aria-label=\"kubeadm ì„ root ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì¶”ê°€ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>kubeadm ì„ root ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì¶”ê°€ ì„¤ì •</h3>\n<div class=\"gatsby-highlight\" data-language=\"basn\"><pre class=\"language-basn\"><code class=\"language-basn\">mkdir -p $HOME/.kube\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nsudo chown $(id -u):$(id -g) $HOME/.kube/config</code></pre></div>\n<h3 id=\"ì„œë¹„ìŠ¤-í™•ì¸--ready--running-\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B9%84%EC%8A%A4-%ED%99%95%EC%9D%B8--ready--running-\" aria-label=\"ì„œë¹„ìŠ¤ í™•ì¸  ready  running  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì„œë¹„ìŠ¤ í™•ì¸ ( Ready , Running )</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl get nodes <span class=\"token parameter variable\">-o</span> wide\nkubectl get pod <span class=\"token parameter variable\">-A</span></code></pre></div>\n<h2 id=\"4-ì›Œì»¤-ë…¸ë“œ-ì„¤ì •\" style=\"position:relative;\"><a href=\"#4-%EC%9B%8C%EC%BB%A4-%EB%85%B8%EB%93%9C-%EC%84%A4%EC%A0%95\" aria-label=\"4 ì›Œì»¤ ë…¸ë“œ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. ì›Œì»¤ ë…¸ë“œ ì„¤ì •</h2>\n<h3 id=\"í´ëŸ¬ìŠ¤í„°-join\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-join\" aria-label=\"í´ëŸ¬ìŠ¤í„° join permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í´ëŸ¬ìŠ¤í„° join</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubeadm <span class=\"token function\">join</span> <span class=\"token number\">172.17</span>.255.172:6443 <span class=\"token parameter variable\">--token</span> te423w.tkhwpeau43rwafdg <span class=\"token punctuation\">\\</span>\n--discovery-token-ca-cert-hash sha256:6ec04d16b4695af8407ca7d0ac8dc0b88655b431156e2189da118d8a74e07778 --cri-socket /var/run/cri-dockerd.sock</code></pre></div>\n<h3 id=\"check\" style=\"position:relative;\"><a href=\"#check\" aria-label=\"check permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Check</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">systemctl status kubelet</code></pre></div>\n<h3 id=\"worker-ê³„ì •ì—-kubectl-ì‚¬ìš©-í™˜ê²½ë³€ìˆ˜-ì¶”ê°€\" style=\"position:relative;\"><a href=\"#worker-%EA%B3%84%EC%A0%95%EC%97%90-kubectl-%EC%82%AC%EC%9A%A9-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%B6%94%EA%B0%80\" aria-label=\"worker ê³„ì •ì— kubectl ì‚¬ìš© í™˜ê²½ë³€ìˆ˜ ì¶”ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>worker ê³„ì •ì— kubectl ì‚¬ìš© í™˜ê²½ë³€ìˆ˜ ì¶”ê°€</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> ~\n<span class=\"token function\">mkdir</span> <span class=\"token parameter variable\">-p</span> <span class=\"token environment constant\">$HOME</span>/.kube\n<span class=\"token function\">sudo</span> <span class=\"token function\">cp</span> <span class=\"token parameter variable\">-i</span>  /etc/kubernetes/admin.conf <span class=\"token environment constant\">$HOME</span>/.kube/config\n<span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">id</span> <span class=\"token parameter variable\">-u</span><span class=\"token variable\">)</span></span><span class=\"token builtin class-name\">:</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">id</span> <span class=\"token parameter variable\">-g</span><span class=\"token variable\">)</span></span> <span class=\"token environment constant\">$HOME</span>/.kube/config</code></pre></div>\n<p>ì—¬ê¸°ê¹Œì§€ í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ master ë…¸ë“œì™€ worker ë…¸ë“œ ì…‹íŒ…ì´ ì™„ë£Œëœ ê²ƒì´ì§€ë§Œ, ì„œë¡œ ë‹¤ë¥¸ ë…¸ë“œë“¤ì´ podê°„ í†µì‹ í•˜ê¸° ìœ„í•´ CNIë¥¼ ì„¤ì¹˜ í•´ì£¼ì–´ì•¼í•œë‹¤.\nCNI ì„¤ì¹˜ë¥¼ ì™„ë£Œí•˜ë©´ corednsê°€ pending -> runningìƒíƒœë¡œ ë³€ê²½ë˜ê²Œ ë  ê²ƒì´ë‹¤.</p>\n<h2 id=\"5-cni-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#5-cni-%EC%84%A4%EC%B9%98\" aria-label=\"5 cni ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. CNI ì„¤ì¹˜</h2>\n<ul>\n<li>Calico ì„¤ì¹˜\n: <a href=\"https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises\">https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises</a>\n<ul>\n<li>manifest ë°©ë²•ìœ¼ë¡œ ì„¤ì¹˜í•´ì£¼ë©´ ë˜ë©°, 192.168 ëŒ€ì—­ì´ ì•„ë‹Œ ë‹¤ë¥¸ ëŒ€ì—­ì„ podì˜ ëŒ€ì—­ìœ¼ë¡œ ì‚¬ìš©í–ˆë‹¤ë©´ ê°€ì´ë“œì— ë”°ë¼ì„œ ìˆ˜ì • í•„ìš”í•œ ë¶€ë¶„ ì ìš©í•´ì£¼ë©´ ëœë‹¤.</li>\n</ul>\n</li>\n</ul>","excerpt":"1. ì‚¬ì „ ì„¤ì • : ì‚¬ì „ ì„¤ì •ì€ ëª¨ë“  ë…¸ë“œì—ì„œ ì‹¤í–‰í•´ì£¼ì–´ì•¼ í•œë‹¤. cri-docker Install cri-docker Version Check cri-docker Active Check Docker cgroup Change Require to Systemd 2.  íŒ¨í‚¤ì§€ ì„¤ì¹˜ : kubeadm, kubectl, kubelet íŒ¨í‚¤ì§€ ì„¤ì¹˜ë„ ëª¨ë“  ë…¸ë“œì—ì„œ ì‹¤í–‰ í•´ì¤€ë‹¤. Swap disable ì²˜ë¦¬  iptableì´ bridged traffic ì„ ë°”ë¼ë³¼ ìˆ˜ ìˆë„ë¡ ì„¤ì •.   ì»¨í…Œì´ë„ˆëŠ” ê°€ìƒí™”ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, ì»¨í…Œì´ë„ˆ ê°„ì˜ í†µì‹  ë° ë„¤íŠ¸ì›Œí¬ ê¸°ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•´ í˜¸ìŠ¤íŠ¸ ë‹¨ì—ì„œ ì»¤ë„ parameterë¥¼ ìœ„ì™€ ê°™ì´ ë³€ê²½í•˜ëŠ” ê²ƒì´ë‹¤. net.bridge.bridge-nf-call-ip6tables = 1: ì´ ì„¤ì •ì€ IPv6 ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì´ ë¸Œë¦¬ì§€ë¡œ ì „ë‹¬ë˜ì–´ IP í…Œì´ë¸”ì—ì„œ í•„í„°ë§ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤. net.bridge.bridge-nf-call-iptables = â€¦","frontmatter":{"date":"August 01, 2024","title":"On-premise 2. K8S í´ëŸ¬ìŠ¤í„° ì„¤ì¹˜","categories":"DevOps","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/on-premise2/"}},"next":{"id":"db355e4e-68b0-52ba-bab3-1048577684ab","html":"<h1 id=\"1-ì„œë²„vm-êµ¬ì¶•\" style=\"position:relative;\"><a href=\"#1-%EC%84%9C%EB%B2%84vm-%EA%B5%AC%EC%B6%95\" aria-label=\"1 ì„œë²„vm êµ¬ì¶• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ì„œë²„/VM êµ¬ì¶•</h1>\n<h2 id=\"1-ì„œë²„-ì…‹íŒ…\" style=\"position:relative;\"><a href=\"#1-%EC%84%9C%EB%B2%84-%EC%85%8B%ED%8C%85\" aria-label=\"1 ì„œë²„ ì…‹íŒ… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ì„œë²„ ì…‹íŒ…</h2>\n<h3 id=\"1-ê³µìœ ê¸°-ì„¤ì •\" style=\"position:relative;\"><a href=\"#1-%EA%B3%B5%EC%9C%A0%EA%B8%B0-%EC%84%A4%EC%A0%95\" aria-label=\"1 ê³µìœ ê¸° ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) ê³µìœ ê¸° ì„¤ì •</h3>\n<ul>\n<li>ê³µìœ ê¸° ì–´ë“œë¯¼ ì½˜ì†”ì— ì ‘ê·¼í•˜ì—¬ DDNS ì„¤ì •, í¬íŠ¸í¬ì›Œë”©, ê³ ì •IP í• ë‹¹ì„ í•´ì¤€ë‹¤. ê³µìœ ê¸° ì½˜ì†”ì— ì ‘ê·¼ í•˜ëŠ” ë°©ë²•ì€ ê³µìœ ê¸° ì œì¡°ì‚¬ ë§ˆë‹¤ ë‹¤ë¥¸ë°, ë‚˜ì˜ ê²½ìš°ëŠ” tplinkë¼ì„œ 192.168.0.1ë¡œ ì ‘ê·¼ ê°€ëŠ¥</li>\n<li>ê³ ì • IP ì„¤ì •\n<ul>\n<li>ê³µìœ ê¸° ì½˜ì†”ì— ë“¤ì–´ê°€ë©´ ì—°ê²°ëœ ì„œë²„ì— ê³ ì • ipë¥¼ í• ë‹¹</li>\n</ul>\n</li>\n<li>í¬íŠ¸í¬ì›Œë”© ì„¤ì •\n<ul>\n<li>í• ë‹¹ëœ ê³ ì • ipì— í¬íŠ¸í¬ì›Œë”©ì„ ì„¤ì •í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê³µìœ ê¸°ë¡œ 8080 í¬íŠ¸ë¡œ ë“¤ì–´ì™”ì„ ë•Œ ì„œë²„ì˜ 9090í¬íŠ¸ë¡œ í¬ì›Œë”© ë˜ë„ë¡ ì„¤ì •í•˜ëŠ” ê²ƒì´ë‹¤.</li>\n</ul>\n</li>\n<li>ë™ì  DNS ì„¤ì • ( DDNS )\n<ul>\n<li>ì‹¤ì œ ê³µìœ ê¸°ì˜ ê³µì¸ ipëŠ” ë³€ë™ë˜ê¸° ë•Œë¬¸ì— ë™ì  DNS ì„¤ì •ì„ í†µí•´ â€˜aaa.tplinkdns.comâ€™ ì´ëŸ° ë„ë©”ì¸ìœ¼ë¡œ ì™¸ë¶€ì—ì„œ ì„œë²„ë¡œ ì ‘ì† í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ì–´ì•¼ í•œë‹¤.</li>\n</ul>\n</li>\n<li>ì—¬ê¸°ê¹Œì§€ í•˜ë©´ aaa.tplinikdns.com:8080ìœ¼ë¡œ ì ‘ì†í–ˆì„ ë•Œ, ë‚´ ì„œë²„ê°€ ì„¤ì¹˜ëœ ê³µìœ ê¸°ì˜ 8080í¬íŠ¸ë¡œ ì ‘ì†ì´ ë˜ê²Œ ë˜ê³ , ê³ ì •ipì™€ í¬íŠ¸í¬ì›Œë”© ì„¤ì •ì„ í†µí•´ LANë‚´ì— ì¡´ì¬í•˜ëŠ” ë‚´ ì„œë²„ì˜ 9090í¬íŠ¸ë¡œ ì ‘ì†ë˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.</li>\n</ul>\n<h2 id=\"2-hyper-vë¡œ-vm-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#2-hyper-v%EB%A1%9C-vm-%EC%84%A4%EC%B9%98\" aria-label=\"2 hyper vë¡œ vm ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Hyper-Vë¡œ VM ì„¤ì¹˜</h2>\n<p><a href=\"https://keyhyuk-kim.medium.com/hyper-v-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-master-worker-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-b7aead20132f\">https://keyhyuk-kim.medium.com/hyper-v-í™˜ê²½ì—ì„œ-ì¿ ë²„ë„¤í‹°ìŠ¤-master-worker-í´ëŸ¬ìŠ¤í„°-êµ¬ì¶•í•˜ê¸°-b7aead20132f</a></p>\n<h3 id=\"ê°€ìƒ-ìŠ¤ìœ„ì¹˜-ì„¤ì •í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EA%B0%80%EC%83%81-%EC%8A%A4%EC%9C%84%EC%B9%98-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"ê°€ìƒ ìŠ¤ìœ„ì¹˜ ì„¤ì •í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°€ìƒ ìŠ¤ìœ„ì¹˜ ì„¤ì •í•˜ê¸°</h3>\n<p>default switchëŠ” í˜¸ìŠ¤íŠ¸ ì„œë²„ê°€ ì¬ë¶€íŒ…ë  ë•Œ ë§ˆë‹¤ ipê°€ ë³€ê²½ë˜ë¯€ë¡œ, Hyper-Vì—ì„œ ìƒˆë¡œìš´ ê°€ìƒ ìŠ¤ìœ„ì¹˜ë¥¼ ìƒì„±í•˜ì—¬ VMë“¤ì´ í•´ë‹¹ ìŠ¤ìœ„ì¹˜ë¥¼ ì„ íƒí•˜ë„ë¡ í•´ì£¼ì–´ì•¼ í•œë‹¤. ë˜í•œ í˜¸ìŠ¤íŠ¸ ì„œë²„ì˜ ë„¤íŠ¸ì› ì„¤ì •ì—ì„œ ê°€ìƒ ìŠ¤ìœ„ì¹˜ì˜ ipì™€ subnet maskë¥¼ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>\n<ul>\n<li>\n<p>Hyper-V ê°€ìƒ ìŠ¤ìœ„ì¹˜ ì„¤ì •</p>\n<ul>\n<li>ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë¡œ ì„ íƒ</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 95%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACNklEQVQ4y42UyY7TQBCG/b5zQIK3QRy4IMQBpBGcOYDmwAWksUZJxo4z3tpuO17aS+whdn5UNbGVRImJpU+u3v7qqq5uzZEpgjBGGK2xTsiWSNIcTduiaRrUdc2QfQka32w2SNMUmlwnWPoBokCgVimwbQFs0VQlDGuF1WoF27bh+z48z7uIoHHfh/Z9JvHhl4v3Pyx8/JPhs17g032Jn2aOB/0eIghQliXyPJ9EqQJShtDe3fm4+eLi9a3Aq68R3nwLcXMr8fYuQBKFKMtqDPsSFG5VVQiEgJblBTyZwhcS6P4C6AD0eG5q9tx1Hfq+5/92u71I27bwXRcaKfd9x8ndNC2a9pmp6g1Mw8B8PsdsNoNlWWMuKflZlh1BzkMKmQTPfeQgDEMW03UdpmliuVyysOM4R5AjPhhxILjb7UYGQSEECxiGwYsGXNdlAfoHQcCOoyji+UeCh38StB0bpmng0TCQK4WyKFAUBZRSR9AY9QdSXhakJD/ta9Db1yDl71wOuU059NzpHdLiITzPc9kmqJ/CG8ONYxYle1JQSokkScZdDFDfwNher6dDJsE4jjlH50qEIJvGaacry4L7v0MhwWHhFDSHDiU83eFp2VwjOIy/FHZ0veA1wnEcTd+U0x2qPEdVFigLxTaF+fLSKH6RaL5GRrt/TAeoTY6GpBOFUgjjDIuVB8uLIKOYy4lEhvLim0K1Q6d0CvUfQm/d0hH4/WBCf7TxZDv8eFDh0z1fLBZ8Rf8BwZ+c/vC8/KQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image1.png\"\n        title=\"image1.png\"\n        src=\"/static/2d4f7180998ab040fc5e9ad289f70a39/37523/image1.png\"\n        srcset=\"/static/2d4f7180998ab040fc5e9ad289f70a39/e9ff0/image1.png 180w,\n/static/2d4f7180998ab040fc5e9ad289f70a39/f21e7/image1.png 360w,\n/static/2d4f7180998ab040fc5e9ad289f70a39/37523/image1.png 720w,\n/static/2d4f7180998ab040fc5e9ad289f70a39/302a4/image1.png 1080w,\n/static/2d4f7180998ab040fc5e9ad289f70a39/07a9c/image1.png 1440w,\n/static/2d4f7180998ab040fc5e9ad289f70a39/cb425/image1.png 1678w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n<li>\n<p>ì´ë”ë„· ì†ì„± - ê³µìœ  ì—ì„œ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•˜ì—¬ LANê³¼ ipëŒ€ì—­ì„ ê³ ìœµí•˜ë„ë¡ ì„¤ì •í•œë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABa0lEQVQoz41S7W6DMAzM+z/Zfm2rVKnSJFa0gkggkECSElrgJrsDdVM/Zskywrnz+RIRh4g+RnSuw/F4RNu28N5zds6BYpomADOuYxxHnE4nxvR9j3ma0HYdRKUbSFVCVRq6btAYy9XaFqrUUGUFF3p8ZhqyrKBrg7xQXGMcWIzzHi2dOSiILMuR5zmc8zyJJi5TQzhCKcX1ZbPH69s7ttstdrsd0jT9UQ5WR+GyDMJ7ByUlpJQsOXiPEAK6rkOMkS0g4DyNvOb5fMY4nvl7ni82LJWwgpSUZYkkSaC1XkFxGNgja+0KuBXUW/rOOQhSQ4SHw4FXJwJrDV8KES+E9/JaIWGY8OJX4B/DMDAReWeM4ZX/Am+pvBAGCLqAW7EMekZ4rZR8XwlvrULxbOVfHj4iXJIU/jeMtfRs/ONDxrCvdOOPsu8jCikhyPymaVDXNZq6Rq4qbD5SJF8F0nSPoijWp3QvqU+eS1ngGyKXpYRIVVfJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image2.png\"\n        title=\"image2.png\"\n        src=\"/static/a5b70267b8169b16bbcc0d659d80f5c7/37523/image2.png\"\n        srcset=\"/static/a5b70267b8169b16bbcc0d659d80f5c7/e9ff0/image2.png 180w,\n/static/a5b70267b8169b16bbcc0d659d80f5c7/f21e7/image2.png 360w,\n/static/a5b70267b8169b16bbcc0d659d80f5c7/37523/image2.png 720w,\n/static/a5b70267b8169b16bbcc0d659d80f5c7/f4281/image2.png 1016w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n</ul>\n<h3 id=\"vm-ìƒì„±í•˜ê¸°\" style=\"position:relative;\"><a href=\"#vm-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"vm ìƒì„±í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VM ìƒì„±í•˜ê¸°</h3>\n<p>Hyper-Vì—ì„œ â€˜ìƒˆë¡œ ë§Œë“¤ê¸°â€™ í†µí•´ì„œ VM ìƒì„±í•˜ë©´ ë¨.\nVM ìƒì„± ì‹œ,</p>\n<ul>\n<li>2ì„¸ëŒ€ VMìœ¼ë¡œ ìƒì„±</li>\n<li>VMë§ˆë‹¤ ì •ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ë¥¼ ì§€ì •í•´ì„œ í• ë‹¹í•˜ì˜€ìŒ.</li>\n<li>ê°€ìƒ ìŠ¤ìœ„ì¹˜ë¥¼ ìœ„ì—ì„œ ì„¤ì •í•œ â€˜ë‚´ë¶€â€™ ê°€ìƒ ìŠ¤ìœ„ì¹˜ ì„¤ì •</li>\n<li>controlplaneì€ VM, disk ëª¨ë‘ Cë“œë¼ì´ë¸Œì—ì„œ ì„¤ì¹˜í•˜ì˜€ìœ¼ë©°, worker ë…¸ë“œëŠ” hard diskëŠ” Dë“œë¼ì´ë¸Œì— .vhdx í• ë‹¹í•¨.</li>\n</ul>\n<h3 id=\"centos-79ì„¤ì¹˜í•˜ê¸°\" style=\"position:relative;\"><a href=\"#centos-79%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0\" aria-label=\"centos 79ì„¤ì¹˜í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CentOS 7.9ì„¤ì¹˜í•˜ê¸°</h3>\n<p>í•˜ê¸° ë§í¬ë¥¼ ë”°ë¼ ì„¤ì¹˜í•˜ë©´ ë¨ ì‹ ê²½ ì¨ì•¼ í•  ë¶€ë¶„ì€,</p>\n<ul>\n<li>Timezone ì„œìš¸ë¡œ ì„¤ì •</li>\n<li>Disk ì„¤ì •</li>\n<li>Network interface ì„¤ì •</li>\n<li>VMì— OS ì„¤ì¹˜ë˜ëŠ” ë™ì•ˆ root ë° ê¸°íƒ€ adminê³„ì • ì„¤ì • ê°€ëŠ¥.</li>\n</ul>\n<p><a href=\"https://da2uns2.tistory.com/entry/Hyper-V-Hyper-V%EC%97%90-CentOS-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0\">https://da2uns2.tistory.com/entry/Hyper-V-Hyper-Vì—-CentOS-ì„¤ì¹˜í•˜ê¸°</a></p>\n<h3 id=\"vm-ê³ ì •-ip-ì„¤ì •\" style=\"position:relative;\"><a href=\"#vm-%EA%B3%A0%EC%A0%95-ip-%EC%84%A4%EC%A0%95\" aria-label=\"vm ê³ ì • ip ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VM ê³ ì • IP ì„¤ì •</h3>\n<p>â€˜ë‚´ë¶€â€™ ê°€ìƒ ìŠ¤ìœ„ì¹˜ì˜ ip ë° ì„œë¸Œë„· ë§ˆìŠ¤í¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ì—¬ VMì— ë™ì (DHCP)ìœ¼ë¡œ ipê°€ í• ë‹¹ë˜ì§€ë§Œ, ë‚´ê°€ ì›í•˜ëŠ” ê²ƒì€ k8s í´ëŸ¬ìŠ¤í„° êµ¬ì¶•ì´ê³ \nì´ë¥¼ ìœ„í•´ì„œëŠ” ê° ë…¸ë“œì˜ ipëŠ” ê³ ì •ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. k8s apiserver ipê°€ ê³„ì† ë°”ë€Œë©´ ì•ˆë˜ë‹ˆê¹.\në”°ë¼ì„œ CentOS 7.9 ê¸°ì¤€ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì´ ê° VMì—ì„œ ipë¥¼ ì„¤ì •í•´ì£¼ì—ˆê³ , ì™¸ë¶€ì™€ì˜ ì—°ê²°ì„ ìœ„í•´ DNS ì„¤ì •ë„ í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>\n<ul>\n<li>sudo vi /etc/sysconfig/network-scripts/ifcfg-eth0 ì—ì„œ ì•„ë˜ì™€ ê°™ì´ ë‚´ìš© ì¶”ê°€ ( controlplane ê¸°ì¤€ )</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    BOOTPROTO=static\n    IPADDR=192.168.X.Y\n    NETMASK=255.255.255.0\n    GATEWAY=192.168.X.1\n    DNS1=8.8.8.8\n    DNS2=8.8.4.4</code></pre></div>\n<ul>\n<li>ìœ„ì™€ ê°™ì´ ì„¤ì • í›„ sudo systemctl restart network ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ê³ ì •ipê°€ VMì— í• ë‹¹ëœë‹¤.</li>\n</ul>\n<p>ì´ë ‡ê²Œ VM ì„¤ì •, OS ì„¤ì¹˜ ë° ë„¤íŠ¸ì› ì„¤ì •ì´ ëë‚˜ë©´ K8S ì„¤ì¹˜ë¥¼ ì‹œì‘í•œë‹¤.</p>","frontmatter":{"date":"August 01, 2024","title":"On-premise 1. ê³µìœ ê¸°, ì„œë²„, ë„¤íŠ¸ì› ì„¤ì •","categories":"DevOps","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/on-premise1/"}},"prev":{"id":"0c2b0a8f-e1ce-5168-9bb0-52991a15f6a9","html":"<h2 id=\"ë¬´ì‘ìœ„-ì ‘ì†-ì‹œë„-ì°¨ë‹¨ì„-ìœ„í•œ-ipban-ì ìš©\" style=\"position:relative;\"><a href=\"#%EB%AC%B4%EC%9E%91%EC%9C%84-%EC%A0%91%EC%86%8D-%EC%8B%9C%EB%8F%84-%EC%B0%A8%EB%8B%A8%EC%9D%84-%EC%9C%84%ED%95%9C-ipban-%EC%A0%81%EC%9A%A9\" aria-label=\"ë¬´ì‘ìœ„ ì ‘ì† ì‹œë„ ì°¨ë‹¨ì„ ìœ„í•œ ipban ì ìš© permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¬´ì‘ìœ„ ì ‘ì† ì‹œë„ ì°¨ë‹¨ì„ ìœ„í•œ ipban ì ìš©</h2>\n<p>githubì—ì„œ <a href=\"https://github.com/DigitalRuby/IPBan/releases\">https://github.com/DigitalRuby/IPBan/releases</a> urlë¡œ ipbanì„ ë‹¤ìš´ë¡œë“œ í•œë‹¤.</p>\n<ul>\n<li>\n<p>ë¡œê·¸ì¸/ë¡œê·¸ì˜¤í”„ ê¸°ë¡ì„ ë¡œê¹…í•˜ì—¬ â€˜ì´ë²¤íŠ¸ë·°ì–´â€™-â€™ë³´ì•ˆâ€™ ì—ì„œ í™•ì¸í•˜ë„ë¡ í•˜ê¸°</p>\n<p><code class=\"language-text\">auditpol.exe /set /category:\"{69979850-797A-11D9-BED3-505054503030}\" /success:enable /failure:enable</code></p>\n</li>\n<li>\n<p>ì„œë¹„ìŠ¤ë“±ë¡</p>\n<p><code class=\"language-text\">sc.exe create IPBAN type= own start= delayed-auto binPath= C:\\IPBan\\DigitalRuby.IPBan.exe DisplayName= IPBAN</code></p>\n<p><code class=\"language-text\">sc.exe description IPBAN \"Automatically builds firewall rules for abusive login attempts:https://github.com/DigitalRuby/IPBan\"</code></p>\n<p><code class=\"language-text\">sc.exe failure IPBAN reset= 9999 actions= \"restart/60000/restart/60000/restart/60000\"</code></p>\n<p><code class=\"language-text\">sc.exe start IPBAN</code></p>\n</li>\n<li>\n<p>ipban.config ìˆ˜ì • í›„ ì„œë¹„ìŠ¤ ì¬ê¸°ë™í•˜ê¸°</p>\n<ul>\n<li>ë¡œê·¸ì¸ 5íšŒ ì‹¤íŒ¨ì‹œ ë“±ë¡</li>\n</ul>\n  <add key=\"FailedLoginAttemptsBeforeBan\" value=\"5\"/>\n  - ipban ì‹œê°„ 15ì¼ë¡œ ìˆ˜ì •\n  <add key=\"BanTime\" value=\"15:00:00:00\"/>\n  - ì°¨ë‹¨í›„ ì œê±° ê¸°ì¤€ì¼ 15ì¼ë¡œ ìˆ˜ì •\n  <add key=\"ExpireTime\" value=\"15:00:00:00\"/>\n</li>\n</ul>\n<h2 id=\"ì´ë²¤íŠ¸-ë·°ì–´-ë³´ëŠ”-ë²•\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%B7%B0%EC%96%B4-%EB%B3%B4%EB%8A%94-%EB%B2%95\" aria-label=\"ì´ë²¤íŠ¸ ë·°ì–´ ë³´ëŠ” ë²• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì´ë²¤íŠ¸ ë·°ì–´ ë³´ëŠ” ë²•</h2>\n<p>[ì‹¤í–‰ì°½] - â€œeventvwrâ€ ì…ë ¥í•˜ë©´ ëœë‹¤.\nìƒê°ë³´ë‹¤ í˜¸ìŠ¤íŠ¸ ì„œë²„ì— ë¬´ì‘ìœ„ë¡œ ì ‘ì† ì‹œë„í•˜ëŠ” ê²½ìš°ê°€ ë§ì•„ì„œ ìœˆë„ìš° ì„œë²„ì˜ ê²½ìš° ì´ë²¤íŠ¸ ë·°ì–´ì— ë“¤ì–´ê°€ì„œ ëˆ„ê°€ ì–¸ì œ í˜¸ìŠ¤íŠ¸ ì„œë²„ì— ì ‘ì†í–ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\nì ‘ì† ì‹œë„ì™€ ê´€ë ¨ëœ ì´ë²¤íŠ¸ id ë° ë¡œê·¸ì˜¨ ìœ í˜•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ul>\n<li>\n<p>Event ID</p>\n<ul>\n<li>4624\n<ul>\n<li>ì„±ê³µì ì¸ ë¡œê·¸ì¸ì„ ëœ»í•œë‹¤. ë”°ë¼ì„œ ê´€ë¦¬ìê°€ ì ‘ì†í•œ ì‹œê°„ì´ ì•„ë‹Œ ê²½ìš°ì— 4624ê°€ ë°œìƒí–ˆë‹¤ë©´ ì™¸ë¶€ ê³µê²©ì„ ì˜ì‹¬í•´ì•¼ í•œë‹¤.</li>\n</ul>\n</li>\n<li>4625\n<ul>\n<li>ê³„ì • ë¡œê·¸ì˜¨ ì‹¤íŒ¨ë¡œ ë¶„ë¥˜ë˜ë©°, ë‚˜ì˜ ê²½ìš°ì—ëŠ” ì´ë²¤íŠ¸ ë·°ì–´ì—ì„œ 4624 ì´ë²¤íŠ¸ê°€ ì´ˆ ë‹¨ìœ„ë¡œ ìŒ“ì˜€ì—ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>ë¡œê·¸ì˜¨ ìœ í˜•</p>\n<ul>\n<li>ë¡œì»¬ ë¡œê·¸ì˜¨ (Logon Type 2): ì‚¬ìš©ìê°€ ì§ì ‘ ì»´í“¨í„°ì˜ í‚¤ë³´ë“œ ë˜ëŠ” ë§ˆìš°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸í•˜ëŠ” ê²½ìš°ì´ë‹¤.</li>\n<li>ì›ê²© ë°ìŠ¤í¬í†± ë¡œê·¸ì˜¨ (Logon Type 10): ì›ê²© ë°ìŠ¤í¬í†± ì—°ê²°(RDP)ë¥¼ í†µí•´ ì›ê²©ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ëŠ” ê²½ìš°ì´ë‹¤.</li>\n<li>ë„¤íŠ¸ì›Œí¬ ë¡œê·¸ì˜¨ (Logon Type 3): íŒŒì¼ ê³µìœ  ë“±ì˜ ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ë¡œê·¸ì¸í•˜ëŠ” ê²½ìš°ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´, íŒŒì¼ ê³µìœ ì— ì ‘ê·¼í•˜ê±°ë‚˜ ì¸í„°ë„· ê³µìœ  ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ì´ì— í•´ë‹¹í•œë‹¤.</li>\n<li>ì„œë¹„ìŠ¤ ë¡œê·¸ì˜¨ (Logon Type 5): ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ë˜ê¸° ìœ„í•´ ë¡œê·¸ì¸í•˜ëŠ” ê²½ìš°ì´ë‹¤. ì¼ë¶€ ë°±ê·¸ë¼ìš´ë“œ ì„œë¹„ìŠ¤ë‚˜ ì‹œìŠ¤í…œ í”„ë¡œì„¸ìŠ¤ê°€ ë¡œê·¸ì¸í•˜ì—¬ ì‘ë™í•˜ëŠ” ê²½ìš°ê°€ ì´ì— í•´ë‹¹í•œë‹¤.</li>\n<li>ì¼ì • ì‘ì—… ë¡œê·¸ì˜¨ (Logon Type 7): ì˜ˆì•½ëœ ì‘ì—…ì´ ì‹¤í–‰ë˜ê¸° ìœ„í•´ ë¡œê·¸ì¸í•˜ëŠ” ê²½ìš°ì´ë‹¤. ì¼ì •ì— ë”°ë¼ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…ì´ ì‹¤í–‰ë˜ë„ë¡ ì˜ˆì•½í•œ ê²½ìš°ê°€ ì´ì— í•´ë‹¹í•œë‹¤.</li>\n</ul>\n<p>type3ê³¼ type10ì´ ì™¸ë¶€ì—ì„œì˜ ê³µê²©ì´ ìˆì„ ë•Œ ë¹ˆë²ˆí•˜ê²Œ ë‚˜íƒ€ë‚œë‹¤ê³  í•œë‹¤.</p>\n</li>\n</ul>","frontmatter":{"date":"August 03, 2024","title":"On-premise ì„œë²„ êµ¬ì¶•í•˜ê¸° 3. í˜¸ìŠ¤íŠ¸ ì„œë²„ ë³´ì•ˆ","categories":"DevOps","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/on-premise3/"}},"site":{"siteMetadata":{"siteUrl":"https://jjunyong.github.io","comments":{"utterances":{"repo":"jjunyong/jjunyong.github.io"}}}}},"pageContext":{"slug":"/on-premise2/","nextSlug":"/on-premise1/","prevSlug":"/on-premise3/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}