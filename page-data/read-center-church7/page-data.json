{"componentChunkName":"component---src-templates-blog-template-js","path":"/read-center-church7/","result":{"data":{"cur":{"id":"86ba714a-339f-5d8c-8024-3a36dbcb1d8b","html":"<h1 id=\"part3-복음의-상황화-복음이-현실에-다가서게-하라\" style=\"position:relative;\"><a href=\"#part3-%EB%B3%B5%EC%9D%8C%EC%9D%98-%EC%83%81%ED%99%A9%ED%99%94-%EB%B3%B5%EC%9D%8C%EC%9D%B4-%ED%98%84%EC%8B%A4%EC%97%90-%EB%8B%A4%EA%B0%80%EC%84%9C%EA%B2%8C-%ED%95%98%EB%9D%BC\" aria-label=\"part3 복음의 상황화 복음이 현실에 다가서게 하라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Part3. 복음의 상황화: 복음이 현실에 다가서게 하라</h1>\n<h1 id=\"part4-도시-비전-복음으로-도시를-품으라\" style=\"position:relative;\"><a href=\"#part4-%EB%8F%84%EC%8B%9C-%EB%B9%84%EC%A0%84-%EB%B3%B5%EC%9D%8C%EC%9C%BC%EB%A1%9C-%EB%8F%84%EC%8B%9C%EB%A5%BC-%ED%92%88%EC%9C%BC%EB%9D%BC\" aria-label=\"part4 도시 비전 복음으로 도시를 품으라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Part4. 도시 비전: 복음으로 도시를 품으라</h1>\n<hr>\n<h2 id=\"3-4-도시-속으로-적극적으로-들어가라\" style=\"position:relative;\"><a href=\"#3-4-%EB%8F%84%EC%8B%9C-%EC%86%8D%EC%9C%BC%EB%A1%9C-%EC%A0%81%EA%B7%B9%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%93%A4%EC%96%B4%EA%B0%80%EB%9D%BC\" aria-label=\"3 4 도시 속으로 적극적으로 들어가라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-4. 도시 속으로 적극적으로 들어가라</h2>\n<p>적극적인 상황화는 세 가지 과정을 거친다.</p>\n<ul>\n<li>문화 속에 들어가는 것</li>\n<li>문화에 맞서는 것</li>\n<li>청자에 호소하는 것</li>\n</ul>\n<h3 id=\"문화-속에-들어가-적응하기\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%ED%99%94-%EC%86%8D%EC%97%90-%EB%93%A4%EC%96%B4%EA%B0%80-%EC%A0%81%EC%9D%91%ED%95%98%EA%B8%B0\" aria-label=\"문화 속에 들어가 적응하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문화 속에 들어가 적응하기</h3>\n<ul>\n<li>청중을 이해하고 그들과 공감대를 형성해야 한다.</li>\n<li>문화가 던지는 질문, 희망, 신념들 속으로 들어가는 것이 상황화의 첫 번째 작업이다.\n<ul>\n<li>웨스트민스터 신앙고백서는 17세기 영국인들에 의해 만들어졌기에 20세기 한국인들이 궁금한 질문들에 대한 내용을 담지 못했던 것을 생각해보자.</li>\n<li>지역에 있는 사람들의 삶을 이해하고 그들의 목회적 필요를 깨닫게 되는 것이 가장 중요하다.</li>\n</ul>\n</li>\n<li>복음을 상황화해서 전달할 때 3가지 논증의 방식\n<ul>\n<li>개념적 논증 : 논리적 전제와 분석 등이 설득력을 지닌다.</li>\n<li>구체적/관계적 논증 : 어떤 원리가 어떻게 실제로 삶에 작동되는 지가 설득력을 지닌다.</li>\n<li>직관적 논증 : 이야기와 서사가 설득력을 지닌다.</li>\n</ul>\n</li>\n<li>A신념 ( 문화에서 긍정하는 신념 ) 과 B신념 ( 문화에서 반박하는 신념 )\n<ul>\n<li>A신념을 긍정하면서 성경이 제시하는 더 강력한 교리, 또는 진정한 A를 제시하기. 바울이 아테네에서 그랬던 것처럼</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"문화에-직면하여-맞서기\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%ED%99%94%EC%97%90-%EC%A7%81%EB%A9%B4%ED%95%98%EC%97%AC-%EB%A7%9E%EC%84%9C%EA%B8%B0\" aria-label=\"문화에 직면하여 맞서기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문화에 직면하여 맞서기</h3>\n<p>앞서 말한 B신념에 성경적으로 맞서는 것이다.</p>\n<ul>\n<li>그러나 A교리 위에 B교리를 올려두어야 한다. 즉 A교리에 근거하여 B교리의 논거를 제시해야 한다.</li>\n<li>특정 문화가 내재적으로 가진 모순에 대해 지적한다. 예를 들어 A신념을 가지고 있다면 B신념을 어떻게 가질 수 있는 지에 대해 말한다.\n<ul>\n<li>이런 과정을 통해 현실의 문화적 신념과 가정 안에 있는 비일관성을 드러내게 된다.</li>\n</ul>\n</li>\n<li>하나님의 사랑과 심판\n<ul>\n<li>하나님이 사랑의 하나님이시라면(A교리) 하나님은 마땅히 정의로우셔서 죄에 대해 진노하시는 하나님(B교리)이심도 믿어야 한다. 이것은 문화에 따라 A,B 교리가 사랑, 공의 중 어디에 해당 하는 지는 뒤 바뀔 수 있다.</li>\n</ul>\n</li>\n<li>우상숭배로서의 죄\n<ul>\n<li>맨해튼에서 죄에 대해 말하기 위해 팀 켈러는 우상숭배로서의 죄를 말하였고 이는 그들에게 철학적 이슈를 논하지 않으면서도 그들이 그리스도를 필요로 함을 느끼게 하는데 도움이 되었다.\n<ul>\n<li>이 접근법은 ‘당신은 자유로운 존재로 창조되었다’ 라는 A교리에 기초하여 ‘당신은 하나님 앞에서 죄인이다’ 라는 B교리를 지지하는 시범 케이스가 된다.</li>\n</ul>\n</li>\n<li>서구 사회의 문화적 서사는 ‘자유로운 사람이 되는 것’이 가장 중요하다고 말한다. 그리고 사람들은 자유롭기 위해 애써 살아가지만 결국엔 그 대상을 우상으로서 예배하게 될 뿐, 진정한 자유를 얻을 수 없다.\n<ul>\n<li>이런 관점에서 죄를 ‘법을 어긴 것’ 으로 표현하기 보다 ‘대상이 잘못된 사랑’ 이라고 설명하는 것은 현대 서구 문화의 많은 사람들에게 설득력이 있다.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"다른-중요한-지점들\" style=\"position:relative;\"><a href=\"#%EB%8B%A4%EB%A5%B8-%EC%A4%91%EC%9A%94%ED%95%9C-%EC%A7%80%EC%A0%90%EB%93%A4\" aria-label=\"다른 중요한 지점들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>다른 중요한 지점들</h4>\n<p>서구 문화의 세속적이고 다원주의적 문화에 맞서기 위한 몇 가지 급소들이 존재한다.</p>\n<ul>\n<li>성의 상품화에 대한 비판\n<ul>\n<li>서구 문화는 공동체와 정의를 갈망하지만 성의 성품화로 대표되는 인간을 소비하는 문화는 정의로운 인간 공동체를 파괴하는데 기여한다.</li>\n</ul>\n</li>\n<li>인권의 문제에 대한 비판\n<ul>\n<li>인권은 유몰론, 진화론과 같은 무신론적 세계관에서 보다 성경적 관점에서 정의될 수 있고 더 의미가 있다.</li>\n</ul>\n</li>\n<li>문화적 희망의 상실\n<ul>\n<li>개인이 스스로를 정의하고 창조할 자유를 부여받게 되는 것은 개인보다 크고 영속적인 것의 끈을 잃어버리게 만들며, 그것의 결과는 의미 없음과 근원의 상실, 미래에 대한 절망의 가속화이다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"청중을-위로하며-호소하기\" style=\"position:relative;\"><a href=\"#%EC%B2%AD%EC%A4%91%EC%9D%84-%EC%9C%84%EB%A1%9C%ED%95%98%EB%A9%B0-%ED%98%B8%EC%86%8C%ED%95%98%EA%B8%B0\" aria-label=\"청중을 위로하며 호소하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>청중을 위로하며 호소하기</h3>\n<p>바울이 문화 속으로 들어가 문화의 우상에 맞선 후에 청중들이 궁극적으로 찾던 것이 그리스도임을 제시함으로써 그들을 위로하여야 한다.</p>\n<ul>\n<li>속죄의 문법</li>\n</ul>\n<p>속죄는 아래와 같은 다양한 용례가 있다. 각 문화에서 특별히 잘 공감되는 용례를 찾아서 속죄를 설명하면 좋다. 그러나 모든 문화를 관통하는 속죄의 핵심은 바로 ‘대속’이다. 그리스도께서 대신하여 우리가 할 수 없는 것을 그분께서 성취하였음을 말해주는 것이다.</p>\n<ul>\n<li>전쟁터의 언어</li>\n<li>시장의 언어</li>\n<li>추방의 언어</li>\n<li>성전의 언어</li>\n<li>법정의 언어</li>\n</ul>\n<p>해피엔딩은 존재하지 않는 것 같은 현대사회에, 그리스도 안으로 들어온다면 우리가 동화 속에서 열망하던 해피엔딩이 실재가 된다는 메시지로 세상을 위로할 수 있다.</p>\n<hr>\n<h2 id=\"4-1-도시를-중심-기점으로-하라\" style=\"position:relative;\"><a href=\"#4-1-%EB%8F%84%EC%8B%9C%EB%A5%BC-%EC%A4%91%EC%8B%AC-%EA%B8%B0%EC%A0%90%EC%9C%BC%EB%A1%9C-%ED%95%98%EB%9D%BC\" aria-label=\"4 1 도시를 중심 기점으로 하라 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4-1. 도시를 중심 기점으로 하라</h2>\n<p>성경 속에서 도시는 하나님을 높이는 모습이 드러나기도 하고 하나님에 반역하여 인간을 높이는 모습이 묘사되기도 한다. 도시는 인간 본성의 최선과 최악이라는 이중적 특성이 드러나는 공간이다.</p>\n<h3 id=\"도시의-정의\" style=\"position:relative;\"><a href=\"#%EB%8F%84%EC%8B%9C%EC%9D%98-%EC%A0%95%EC%9D%98\" aria-label=\"도시의 정의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>도시의 정의</h3>\n<p>도시는 사람들이 밀도있게 모여 사는 사회적 형태이다. 대부분의 고대도시들 또한 현대의 도시들에 못지 않게, 아니 그보다도 더 고밀화된 도시를 이루었다.\n그리고 이러한 도시는 3가지 특징들이 형성된다.</p>\n<ul>\n<li>안전과 안정</li>\n<li>다양성</li>\n<li>생산성과 창조성</li>\n</ul>\n<h3 id=\"구약성경-속-도시의-모습\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%EC%95%BD%EC%84%B1%EA%B2%BD-%EC%86%8D-%EB%8F%84%EC%8B%9C%EC%9D%98-%EB%AA%A8%EC%8A%B5\" aria-label=\"구약성경 속 도시의 모습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구약성경 속 도시의 모습</h3>\n<p>구속사가 진전됨에 따라 성경은 도시에 대한 부정적 관점에서 긍정적 관점으로 시선이 옮겨 간다.</p>\n<h4 id=\"초기의-도시\" style=\"position:relative;\"><a href=\"#%EC%B4%88%EA%B8%B0%EC%9D%98-%EB%8F%84%EC%8B%9C\" aria-label=\"초기의 도시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>초기의 도시</h4>\n<ul>\n<li>도시라는 단어(Ir, 이르)는 창4:17 에 처음 쓰인다. 농업, 건축, 기술, 예술 등의 인간의 생산성의 결집이 도시에서 출발한다.</li>\n<li>그러나 라멕의 노래에서 보듯, 도시인들은 자신들의 힘을 사용해서 하나님을 반역하고 사망의 문화를 만든다.\n<ul>\n<li>문화와 문명의 발달이 죄의 결과라는 이원론에 빠지지 않고 도시의 문화적 에너지와 죄의 잠재력 모두를 인정하여야 한다.</li>\n</ul>\n</li>\n<li>바벨탑 사건에서 어떻게 사람들이 도시로서 모여 자기 영광과 구원을 위해 죄의 동력을 극대화했는지를 볼 수 있다.</li>\n</ul>\n<h4 id=\"족장들과-도시\" style=\"position:relative;\"><a href=\"#%EC%A1%B1%EC%9E%A5%EB%93%A4%EA%B3%BC-%EB%8F%84%EC%8B%9C\" aria-label=\"족장들과 도시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>족장들과 도시</h4>\n<ul>\n<li>소돔과 고모라와 같은 도시의 어두운 측면이 더 부각된다.</li>\n<li>그러나 아브라함은 하나님의 도시를 소망하였다.(히11:8~10)</li>\n</ul>\n<h4 id=\"이스라엘과-도시\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%8A%A4%EB%9D%BC%EC%97%98%EA%B3%BC-%EB%8F%84%EC%8B%9C\" aria-label=\"이스라엘과 도시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이스라엘과 도시</h4>\n<ul>\n<li>이스라엘이 가나안 땅에 거주하면서 도시에 대한 성경의 묘사가 긍정적으로 바뀐다.\n<ul>\n<li>도피성은 범죄자들을 보호하였고, 법과 제도로 인해 도시 속에서 사람들은 보호받을 수 있었다.</li>\n</ul>\n</li>\n<li>하나님의 도시는 도시의 문화적 부요함이 생산자들의 영광을 위해서가 아니라 하나님의 영광을 위해서 만들어진다.\n<ul>\n<li>예루살렘이 발전하며 하나님의 이름이 거하는 곳이 되었고, 도시의 가장 높은 곳에 성전이 우뚝 솟았던 것처럼</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"선지서와-도시\" style=\"position:relative;\"><a href=\"#%EC%84%A0%EC%A7%80%EC%84%9C%EC%99%80-%EB%8F%84%EC%8B%9C\" aria-label=\"선지서와 도시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>선지서와 도시</h4>\n<ul>\n<li>다윗 시대 이후 선지자들은 하나님의 미래 세계를 도시 사회라고 말한다.</li>\n<li>이사야서에서 예루살렘, 시온, 산, 도시 라는 표현은 모두 서로 호환 가능한 용어이며 하나님의 생각과 계획에서 도시의 중요성을 반영하는 것이다.’</li>\n<li>영적 전쟁의 두 계보는 도시vs시골이 아니라 인간의 도시 vs 하나님의 도시 이다.</li>\n<li>계시록에서는 거대한 도시 바벨론과 하나님의 도시 예루살렘을 계속해서 비교하고 있는데, 계시록을 맺으면서 요한은 하나님의 말씀을 멀리하는 사람들은 “생명나무와 거룩한 도시에 참여함”으로부터 제외 될 것임에 대해 경고한다.</li>\n</ul>\n<h4 id=\"유배지로서의-도시\" style=\"position:relative;\"><a href=\"#%EC%9C%A0%EB%B0%B0%EC%A7%80%EB%A1%9C%EC%84%9C%EC%9D%98-%EB%8F%84%EC%8B%9C\" aria-label=\"유배지로서의 도시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>유배지로서의 도시</h4>\n<ul>\n<li>하나님이 니느웨라는 도시의 중요성을 거주민의 수로 옹호하는 것은 오늘날의 도시가 왜 중요한지에 대한 매우 중요한 근거이다.</li>\n<li>하나님은 왜 이스라엘 선지자 요나를 이교들의 도시로 보내셨을까? 왜 이스라엘 백성을 바벨론에 포로로 잡히게 하셨으면서도 그곳에서 도시를 섬기라고 하셨을까?(렘29, “그 성읍의 평안을 구하고 그를 위하여 여호와께 기도하라”)\n<ul>\n<li>바벨론에 거주하며 이스라엘 백성은 단순히 게토된 채 숫자만 늘리는 것이 아니라 공동선의 유익을 끼치도록 부름받았다.</li>\n</ul>\n</li>\n<li>이기심, 교만, 폭력이라는 가치 위에 세워진 인간의 문명으로 대표되는 바벨론에서 하나님의 도시의 시민들은 인간 도시의 최고의 거주민이 되라는 사명을 받는다. 하나님의 시민들은 ‘유배자’ 이지만, 오히려 도시의 평화를 구하며 도시를 사랑하며 숫자를 확장하라고 말씀하신다. 이는 하나님의 구원 계획이다.</li>\n<li>도시를 사랑하고 섬기는 것은 단순히 사랑과 자비를 나타내는 것이 아니라 하나님의 사람들의 손을 강하게 하는 것이다.</li>\n</ul>\n<p>모임 준비</p>\n<p>a. 인상 깊었던 부분</p>\n<p>b. 생각/고민 해 볼만한 부분</p>","excerpt":"Part3. 복음의 상황화: 복음이 현실에 다가서게 하라 Part4. 도시 비전: 복음으로 도시를 품으라 3-4. 도시 속으로 적극적으로 들어가라 적극적인 상황화는 세 가지 과정을 거친다. 문화 속에 들어가는 것 문화에 맞서는 것 청자에 호소하는 것 문화 속에 들어가 적응하기 청중을 이해하고 그들과 공감대를 형성해야 한다. 문화가 던지는 질문, 희망, 신념들 속으로 들어가는 것이 상황화의 첫 번째 작업이다. 웨스트민스터 신앙고백서는 17세기 영국인들에 의해 만들어졌기에 20세기 한국인들이 궁금한 질문들에 대한 내용을 담지 못했던 것을 생각해보자. 지역에 있는 사람들의 삶을 이해하고 그들의 목회적 필요를 깨닫게 되는 것이 가장 중요하다. 복음을 상황화해서 전달할 때 3가지 논증의 방식 개념적 논증 : 논리적 전제와 분석 등이 설득력을 지닌다. 구체적/관계적 논증 : 어떤 원리가 어떻게 실제로 삶에 작동되는 지가 설득력을 지닌다. 직관적 논증 : 이야기와 서사가 설득력을 지닌다. A신…","frontmatter":{"date":"October 02, 2023","title":"[독서 모임] 도시를 사랑할 수 있을까 - 센터처치 Week7","categories":"독서","author":"jjunyong","emoji":"🧢"},"fields":{"slug":"/read-center-church7/"}},"next":{"id":"4fa327e2-34c6-5b05-9c04-378e99ff5edf","html":"<h3 id=\"kubeconfig\" style=\"position:relative;\"><a href=\"#kubeconfig\" aria-label=\"kubeconfig permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>KubeConfig</h3>\n<p>~/.kube/config 에 config 파일로서 certification 에 대한 경로 등을 저장하는 것을 통해 kubectl 시 별도의 인증서 명시 또는 apiserver에 대한 주소 명시 등을 할 필요가 없게 된다. KubeConfig 파일은 세 부분으로 구성된다.</p>\n<ul>\n<li>Cluster</li>\n<li>Contexts : Context는 어떤 유저가 어떤 Cluster를 사용할 것인지에 대해 정의한다.</li>\n<li>Users</li>\n</ul>\n<h3 id=\"api-groups\" style=\"position:relative;\"><a href=\"#api-groups\" aria-label=\"api groups permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>API Groups</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACLElEQVQoz12RS08TURiG5+/qQuPKJcYlEmNi8LIigUTZEUi4tZQWsSiXcinSlqql0+tMW+Z+PTPTRzsVMS6e75yTL++TNzmSqRuYms7dafxzt2wLvdJBXivRzZSxVA3TNKf7/3J3SJpno0cummuhC3eK72AIFxPB4MsPOm+L9JeO0UYahvAwonsmeU04KROP1CvdoG5eMThromQqqPkawwsZNVNlsFNjWGrSLDWpb1foF+qMyi3UbBU1V0PdqTI4b6Lu1lByVZTNK6T2ehn5eQYlX6O7cEh38Rglf01rLk9rroCy/g11s0J3vkhv8Rh1r07nTZHOuwPak+a5Kq3X+8izu7TnPyOpG5fIj1dR9q/T+lbo4hIxXD6j93QDq6HiaBaeCPCJ8eIQn3GKR4JDxODDCb2ZbQxdR7p1LJSjBjdP1mg8WmXwtYEjK7gjHT3/nf6zLP2ZLPpOnSAR+HGInq/Tny2gzBfpv9xjsHyKZVnpB0maa3N72KD7cIXWgxWGBw3Mj0XsbJlwHBPGgjCJCCNBGATp25VHmEdNzPM2+kkT/bI9FZomkubYKBctfr4oIL/6hFbuMFjIoW+dIsYJYRAiQoEQU8IwJBxHhCT4CLyxwIl8bNtOpZJumCiaQde0GPoujuWivM+gbZ0SM04lcRQRxzFRFCGiqTTwA3zPw3NcHNu5F06GY9t4toPneQSWi7pUQC9cpsKJLEmSv6TSP02DIEgzruumQvO38BfaZNxcmpUzPwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image1\"\n        title=\"image1\"\n        src=\"/static/b986b73108885dfe03dfcde7e2d1c3ec/37523/image1.png\"\n        srcset=\"/static/b986b73108885dfe03dfcde7e2d1c3ec/e9ff0/image1.png 180w,\n/static/b986b73108885dfe03dfcde7e2d1c3ec/f21e7/image1.png 360w,\n/static/b986b73108885dfe03dfcde7e2d1c3ec/37523/image1.png 720w,\n/static/b986b73108885dfe03dfcde7e2d1c3ec/302a4/image1.png 1080w,\n/static/b986b73108885dfe03dfcde7e2d1c3ec/07a9c/image1.png 1440w,\n/static/b986b73108885dfe03dfcde7e2d1c3ec/36405/image1.png 2486w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<br>\n아래 명령을 통해 어떤 리소스가 어떤 API Group에 속했는지 확인 가능하다. RBAC에서 리소스에 대한 apiGroup을 명시해야 하는데, 이 때 아래 명령을 활용하여 참고하면 좋다. 또한 어떤 리소스가 namespace에 국한되지 않는 cluster 리소스인지도 확이할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">kubectl api-resources </code></pre></div>\n<h3 id=\"authorization\" style=\"position:relative;\"><a href=\"#authorization\" aria-label=\"authorization permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Authorization</h3>\n<ul>\n<li>\n<p>Node Authorizor</p>\n<ul>\n<li>kubelet과 같이 <strong>system:node</strong>:node01 ‘system:node’라는 이름이 client certificate에 명시되어 있으면 Node Authorizor가 승인한다.</li>\n</ul>\n</li>\n<li>\n<p>ABAC</p>\n<ul>\n<li>일일히 유저 별로 권한 나열</li>\n</ul>\n</li>\n<li>\n<p>RBAC\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACD0lEQVQoz22SXW/TMBSG+/9vuEZCSPwBuNodAqQhtAqkgfbRrkm6dEnTJmnjc44du2m7vchOuw9YpEcnjuPHPud4EGUl/sQZrm/nSOclmAj0D8z8CL0y/5zB6dUdToZjnAxHuEoLyMY8SXwk7uH/eVVotMBqgXMGuqghn34/LhBrIK7to9EQrSEiAfZ4qRGQFhATiBkDb1VKgVqNJspRvP0KahQoKaAuUqjLGSiaQ6oG0hC01tCiw7vfTJ9G4GGCRhi0anphSNHvuFJQP5P+NOUaPF2A0yVoMkdzFoFGGYyz0CRYlTWyLEc8vMDyZgbTGqij0NdInAHFBao3nyGKg4zGOTguIPGiJ6tgnYURjbKqcDkZ49foAtd3CVaswIowONZLGwNa1CjPY+g1wbCGTkvIzbxnlEPPKrhuAyMmpO1rtspKLGcF6mYNbg5C8ULX9qf5cAZTKbTZCi5foyPzhLHYdBs462ClhWWDtiK4mmGUhLoOjl1rjUFDhC/fhmitBfsxCxT7DvZRtEHXdQFrLbpth+vxFN9/nIdSKHomdM5hUZR4/+4jlGLk2QKTmymSeIYkuUM0SZHnS+z2O2y3W7RtG5qZ3s4QTZJQNtWoXuivgv/BGAMRDind3+8BPBw4Pg9BttvtwgmJGLfTFFGUoK5XYfxCGNI4pNTTL97v9y/w3/yctQ5tayG+Sf5+ao2/5u6KN4iRlBYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image2\"\n        title=\"image2\"\n        src=\"/static/f6de89b06d18db01fa1e29247d5a6544/37523/image2.png\"\n        srcset=\"/static/f6de89b06d18db01fa1e29247d5a6544/e9ff0/image2.png 180w,\n/static/f6de89b06d18db01fa1e29247d5a6544/f21e7/image2.png 360w,\n/static/f6de89b06d18db01fa1e29247d5a6544/37523/image2.png 720w,\n/static/f6de89b06d18db01fa1e29247d5a6544/302a4/image2.png 1080w,\n/static/f6de89b06d18db01fa1e29247d5a6544/07a9c/image2.png 1440w,\n/static/f6de89b06d18db01fa1e29247d5a6544/2b36a/image2.png 2268w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>권한 체크 명렁어\n<ul>\n<li>kubectl auth can-i\n<ul>\n<li>ex) kubectl auth can-i create deployments</li>\n</ul>\n</li>\n<li>kubectl auth can-i —as ‘{username}’</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Webhook</p>\n<ul>\n<li>써드파티 인증을 위해 사용</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"authorization-mode\" style=\"position:relative;\"><a href=\"#authorization-mode\" aria-label=\"authorization mode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Authorization Mode</h4>\n<ul>\n<li>kube-apiserver의 Authorization mode 설정에 명시한 순서대로 인증한다. 아래의 경우 Node Authorizor -> RBAC -> Webhook 순서로 인증한다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACaElEQVQ4y52SS0hUURiAbwS2tVWNGDPbpChaFmREGyOC2gRBD4ZAV7ZIyJF04aq2rYsCg9oELiJKxIRQyUW+ZiZKnUkcHRzHO+dxz713nNEv7h3H1E3QgY///OdwvvP4j7W4WmQivcTX2cWQyfRvJlJZvkzNM57MMD2/zOj0AmPJLCNT82RyazhaIYRAShnGvVjLBZu5zApzCzl+ZFdJZ1dJZVZCUdBfyBX4uZQnuTOWWyuGwkC2l12hVhLXUXiOxt3BMxrfNWE0UuC5JszLnsE4GqXULgelligJSkpSqu8STJYE0i4hCuvIjQ3kehElJEoqtFJoUSPID4otoSViLVhko7QK0ZRRFQdd8XDKPrpqcKhgqj5m08dQxVDBqfpopVH676ktUXURz0eRA5PILQ+ZL1LseMf6rdfYT4eQ37PY8bds3HyFfD+FHEpRvPuG4p0B7JdjOBWvduodqSWDij0bRr4YR7kOyhbI4TTqYxL9LYPJ28jPKdSHOcyvPCZbQH9K1ZhdxvgejuOEwgArvHvZUHQFUkmMMXhs4bGNRxVddtFU8IEyVcrbFcoQ5h4VXOOGa+rSUFh/cFuWQmT4xwRCCbRx8Ixbw3VxAxyDq4OK/xXtvmG9Ewz6frAvbLHN/zarXvLNzU1mZmboetRF4nE3ie4EPYkeep/00tfbF+YPOzvp6OjYR3t7exjj8Tj9/f01YfD/gjY4OIh1+BBNzU0cixyn+UQzjUcbaTjSgGVZ/yQWi2HV7x+0kdERTl5r4fKDK1y810rr/Uucv32B09fPcPbGOVquniIaixKN7icQRSIR2tra+ANwH2wrflEtrgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image3\"\n        title=\"image3\"\n        src=\"/static/8bd564524b915e03905ed14e917496e7/37523/image3.png\"\n        srcset=\"/static/8bd564524b915e03905ed14e917496e7/e9ff0/image3.png 180w,\n/static/8bd564524b915e03905ed14e917496e7/f21e7/image3.png 360w,\n/static/8bd564524b915e03905ed14e917496e7/37523/image3.png 720w,\n/static/8bd564524b915e03905ed14e917496e7/302a4/image3.png 1080w,\n/static/8bd564524b915e03905ed14e917496e7/07a9c/image3.png 1440w,\n/static/8bd564524b915e03905ed14e917496e7/098d4/image3.png 2142w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"roles--rolebinding--clusterrole--clusterrolebinding\" style=\"position:relative;\"><a href=\"#roles--rolebinding--clusterrole--clusterrolebinding\" aria-label=\"roles  rolebinding  clusterrole  clusterrolebinding permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Roles &#x26; Rolebinding / ClusterRole &#x26; ClusterRoleBinding</h3>\n<h3 id=\"kubelet-보안\" style=\"position:relative;\"><a href=\"#kubelet-%EB%B3%B4%EC%95%88\" aria-label=\"kubelet 보안 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kubelet 보안</h3>\n<p>K8S 아키텍처와 kubelet\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACh0lEQVQoz13SS28TZxjF8fmO/R5dtR+gBaT0ogoqaLupetsWVEDqgnJxAEVJCDEmIcH2+DLj8Xgu7/2diz0G/lWC1EUXz/anc3SeoCwFT05mPBjMefwm5ekw5+HJkt1XY/ZPQ3b7I3ovxxwMIgZnKf3TJbao0FJSlCXl/y4ohCIenhA9/JXZX9+S3LlGfP86k9mcJCuIlxnPJ32uPv+BL5/d5PPe11w5/J4kWyKFREiBlAIhBEVZEAghkfMz8t0/MI9u4f+5gX/yE7pIMdZijeY4HvDdwY98s3+Trw6us3Nwg0WWkJc5w2hMuJgS5wnCSYIyXSDKnHlacjRKOB4v6YcpssgRskQYiXeGtWuoTIOQDVo15LJgVWaM4wmjKKQwAtt6gmKV4Izl5ZsRV3/+k51fbrPz212yQiCKBa+HIc8mGuM8vUnOJ/cmfPooIpeSTGSX2DgKCeMJ02RGsJpHhK9jzvoz3k4WjKMl4WKFMQYlM5alYpRXKNdgnSfTjnlpyJRAaUkhCrIyZ5WnjOOUIJ1HHO4OOdkLsUJReUddeSrnMEZiKov1CuU00iqaxrI3HHEaRzSVx1qL0QajNWkuCfLhjGU/YjXN0a5G+RZbb6jrFnsJGpq1xzUOW1t0ZbBeI6zAOfcRvGij1OXaQXarR/bZA9TTAdX53+T7dzBHt2njV1hdcjaZc7TwmLrjXdexXm/YbjpsZXHe4Z2//AatNVJeJPx9j+yLHmr/LdXimCo8pJm+oM2nVJUlNTWjosG1He+2W7quw9Yt0lt85fH+Y+0L0GhFIJIFKskxymCrFt9sqNdb1nVNVTvaruXD+45u29Fu1nx4v+VFGHG+TFi3zX+gt4bzVPAvFYohlvnbVVMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image4\"\n        title=\"image4\"\n        src=\"/static/d85cf4be275cefcc7c934ee9897be0f5/37523/image4.png\"\n        srcset=\"/static/d85cf4be275cefcc7c934ee9897be0f5/e9ff0/image4.png 180w,\n/static/d85cf4be275cefcc7c934ee9897be0f5/f21e7/image4.png 360w,\n/static/d85cf4be275cefcc7c934ee9897be0f5/37523/image4.png 720w,\n/static/d85cf4be275cefcc7c934ee9897be0f5/302a4/image4.png 1080w,\n/static/d85cf4be275cefcc7c934ee9897be0f5/07a9c/image4.png 1440w,\n/static/d85cf4be275cefcc7c934ee9897be0f5/900ee/image4.png 2544w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>\n<p>kubelet 설치 시에 kubeadm이 kubelet을 설치해주지 않으며 직접 kubelet을 설치해야 한다.</p>\n</li>\n<li>\n<p>그러나 kubeadm join 명령을 통해 node들에 kubelet-config 파일을 자동 설정해주는 역할은 한다. 과거에는 kubelet.service에 직접 config를 설정해야 했지만 1.10버전 이후로 kubelet-config파일로서 대체되고 config파일 경로만 명시해주게 되었다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAACAUlEQVQoz3WQz0+SARjH37sQmsDoByDY69owxlioc85eaElWhzqEWIsFLSceckHqbNVwy007pL5AWzgL6C/IP0G0O7c4KJ4N2HAJNIefxtvs5rN99t338jzf7yMk0p+IxWIsxGKsfFwhm8mS/pohk86QzXxTSCaSyGtxZDmOvCb/Jy7HScSTJOIJlpeXSX1OIYRCISRJ4sbwMOP+cWZezTD9Yprg0yB+/ziBJwEKhQLHx8fUjmrUaqfUqVarVCoVhXK5TLlURnA6nej1erq7uzGbzBgvGblguIhKpUYQBIVcLsfBwS92d/fYL+5T3CtS+FmgVCrzp9Hg6Oi3cuTw8BBhYGCArq4ubDYbPWIPxstGVCoVavU5Rdva2tjObfN6bo7HY2MEgyFCwWf4HvpYfL/IxsYX1lPrrK6usvl9899CtVqNTqtFo9Gg7dTSeb6TjvYONJp2Jf3Ozg8CD+7hcfYyKg0xOnIL74iXPlcf4hVRCWMwGJicDCO0zGm1s9jayvH8kY+7/Xa8Q/3cdEu4rrtwOBzY7XZFRVEkGo0iTExMMDg4iNvtRpLcirbweDyKbyXJ5/Pcv3MbV+9VnNdsiFYLFosFk8mE2WzGarWi0+kIh8MIjUaDZrPJyckJZ029Xkf+sMTifJSld/MsvH3D7OwskUiEyMsI0UiUqakp5Z9/AewAb9Bf5RSvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image5\"\n        title=\"image5\"\n        src=\"/static/bd27f560d171c61d51d39d5830481cf9/37523/image5.png\"\n        srcset=\"/static/bd27f560d171c61d51d39d5830481cf9/e9ff0/image5.png 180w,\n/static/bd27f560d171c61d51d39d5830481cf9/f21e7/image5.png 360w,\n/static/bd27f560d171c61d51d39d5830481cf9/37523/image5.png 720w,\n/static/bd27f560d171c61d51d39d5830481cf9/302a4/image5.png 1080w,\n/static/bd27f560d171c61d51d39d5830481cf9/07a9c/image5.png 1440w,\n/static/bd27f560d171c61d51d39d5830481cf9/8078c/image5.png 2218w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</li>\n<li>\n<p><code class=\"language-text\">ps -aux | grep kubelet</code> 명령을 통해 각 노드에서 kubelet의 config.yaml파일이 어디 존재하는지 알 수 있다.</p>\n</li>\n</ul>\n<h4 id=\"kubelet-authentication\" style=\"position:relative;\"><a href=\"#kubelet-authentication\" aria-label=\"kubelet authentication permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kubelet Authentication</h4>\n<p>kubelet이 어떻게 Kube-apiserver로부터만 통신하도록 설정할 수 있는가?</p>\n<ul>\n<li>기본적으로 kubelet은 해당 노드의 10250, 10255 포트에서 누구나 접속 가능하도록 api 서버를 열고 있다.</li>\n<li>따라서 kubelet-config.yaml에서 authentication.anonymous.enabled = false로 설정해주어야 한다.</li>\n<li>그리고 앞서 공부한 것처럼 kube-apiserver는 kubelet client certificate,key를 가지고 있어서 그것으로 인증하게 된다.</li>\n</ul>\n<h4 id=\"kubelet-authorization\" style=\"position:relative;\"><a href=\"#kubelet-authorization\" aria-label=\"kubelet authorization permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kubelet Authorization</h4>\n<ul>\n<li><code class=\"language-text\">authorization.mode : Webhook</code>으로 설정하여 kube-apiserver의 RBAC와 통합할 수 있다</li>\n<li><code class=\"language-text\">readOnlyPort: 0</code> 으로 설정하여 10255(read-only port)로의 접근을 막을 수 있다.</li>\n</ul>\n<h3 id=\"kubectl-proxy\" style=\"position:relative;\"><a href=\"#kubectl-proxy\" aria-label=\"kubectl proxy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kubectl Proxy</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACD0lEQVQoz2WRvU9TURjGWz5aCgkfpbQLA3+BUTQxsFB1kMWQfsysLroZJ6VI3ByMi4l/gMaBRBcXY1RYRDAiBqJSpe0l9N7e9vae20O5JZb8zDkGE2R4cp7hnN953ucN2NUqNcehUqkgXMHnrQ1u3blNbi5HLjfH/YV75ObnmZ2dJZ1Ok81mSaVS2qtTKZPJMDMzo+8E9swKvwolypaNWaliWTYFo4yxZ7L502D1e4mSYXDp8hUGBgYIh8OEQiGCwSCBQOC0CsU8N25exxVVhBB4wqVaF7RbB7z9ZvHoXZG2Lzk7foH+/n5iIyP09PTQ1dVFR0cHnZ2dJ+ELd59w/sw1Hj54qtMZpV22DYsv2wbP3qzx+NVHtvI7nBsf16Dh4WEikYj2Ssor6D/g4vP3vFxc4cXiMqZpYZQMDMvh684eS6vrLK9tsJkvcnV6mt7eXvr6+jToOJlK2d3drWtQPmA7NmufVhBS4HkenidwPUljv0n7sAVHvzn0D7g4MalBiUSCWCzG4OAg0WhUf3Lcq076Y2eX10sf2C6V8RoNmvuSuiepCUnLP2DX2We9aJOcmiIejzM2NqY1Ojqq4SrxiQ7LtqMfFy0Hs+YiPInjSSxXUnElhaokb7pMTkzox6pDpaGhIZ3u1JZrNYd6vf53w40GDSlpNpv4vo/vtzhqt3XSZDKpN6tGUyMqqe7+B/4BMqGvYo/WuagAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image6\"\n        title=\"image6\"\n        src=\"/static/7e9829e16bc498c64a34c671d8656557/37523/image6.png\"\n        srcset=\"/static/7e9829e16bc498c64a34c671d8656557/e9ff0/image6.png 180w,\n/static/7e9829e16bc498c64a34c671d8656557/f21e7/image6.png 360w,\n/static/7e9829e16bc498c64a34c671d8656557/37523/image6.png 720w,\n/static/7e9829e16bc498c64a34c671d8656557/302a4/image6.png 1080w,\n/static/7e9829e16bc498c64a34c671d8656557/07a9c/image6.png 1440w,\n/static/7e9829e16bc498c64a34c671d8656557/91a65/image6.png 2476w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li><code class=\"language-text\">kubectl proxy &amp;</code> 명령 실행하면 해당 localhost:8001에서 kubectl proxy가 실행된다.</li>\n</ul>\n<h3 id=\"kubectl-port-forward\" style=\"position:relative;\"><a href=\"#kubectl-port-forward\" aria-label=\"kubectl port forward permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kubectl Port Forward</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACJklEQVQoz2WSTWsTURSGJ2livigNhbqumxZXlYJ/QtAfIFZp/RHuRFptm103onQRGhJ0pbYqChVUEOpOhFKqSdN20kwyM/feTOajoW2ER+Yu3Hjg4YXLveec9+UaHdtFyB5d28V2BI6QOK7EFRJbCI47Do5UuFIihMB1Y1wcx9HYtq3pdrtajZOOxbPnT1GewmxZNOpNdhsnNNouey2Xxfd7/Bme8/LtK5aWFlldXWVlZUWzvLystVQqadbW1jBqtS2uTl9n8/U2QigO6g0O2w5HlsuXnw2ebP3A6joEQUQYhgRB8I9+v4/v+3Q6HUzTpNVqYTx+VOXhgzKlpReYZpvDgyMOWg7f9002P+/w+tM3dnYbfPy6TblcplqtUtnYoFKpUKvVWF9fp9ls6gFSSgzLtqnXfyOUpOd5KCno+QH9ICTwfX0prtt358jn8+TzBdLpNOn0JVKpFIaRYGpqmtnZWWZmrmHsN4958+4DRycWfd/nNAxR/QDVDxmenxFGp0RDuDN3j+JYkbFiUTeOmxqG8T9mx6XtKJqWwJaezilu5ngh0o/4ZSl2xQU3bt5iZGSEyckrjI6Oks3myOXy5HI5stksiURCY8TfQ6keQnnIno+n7Ub40SleNMCPBtrywsJ9/TiTyWhiy/GWqVRaW08mkySTCQylFJ7n6bzCMCCKIgaDAednZwwvLrTGNT8/r/ObmLjM+Pi4th1vmM1k9XmhUNAD/wI9kggnFHIXzQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image7\"\n        title=\"image7\"\n        src=\"/static/d08a73246f4ebf82631cf79bf30dbb2b/37523/image7.png\"\n        srcset=\"/static/d08a73246f4ebf82631cf79bf30dbb2b/e9ff0/image7.png 180w,\n/static/d08a73246f4ebf82631cf79bf30dbb2b/f21e7/image7.png 360w,\n/static/d08a73246f4ebf82631cf79bf30dbb2b/37523/image7.png 720w,\n/static/d08a73246f4ebf82631cf79bf30dbb2b/302a4/image7.png 1080w,\n/static/d08a73246f4ebf82631cf79bf30dbb2b/07a9c/image7.png 1440w,\n/static/d08a73246f4ebf82631cf79bf30dbb2b/1cab1/image7.png 2444w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"kubernetes-dashboard\" style=\"position:relative;\"><a href=\"#kubernetes-dashboard\" aria-label=\"kubernetes dashboard permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Kubernetes Dashboard</h3>\n<ul>\n<li>k8s dasahboard service는 ClusterIP 타입이다.\n<ul>\n<li>따라서 외부에서 접근이 불가능하며 kubectl proxy를 통해 신뢰할 수 있는 사용자들만 접근하도록 설정한다.</li>\n</ul>\n</li>\n<li>kuberenetes dashboard authentication\n<ul>\n<li>kubeconfig</li>\n<li>node port open</li>\n<li>auth proxy</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"플랫폼-바이너리-verification\" style=\"position:relative;\"><a href=\"#%ED%94%8C%EB%9E%AB%ED%8F%BC-%EB%B0%94%EC%9D%B4%EB%84%88%EB%A6%AC-verification\" aria-label=\"플랫폼 바이너리 verification permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>플랫폼 바이너리 verification</h3>\n<ul>\n<li>다운로드 받은 파일과 다운로드 페이지의 체크섬 비교를 통한 검증</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABi0lEQVQoz5XP0W6TUBzHcZ5hZm2hne+gPtHahi5ZO73zndqkJUKTvYN6pU2neGHrzQp0FA4FCpTvcpiZmgyNJJ/8+f3C4Zyj7OMUX6SEccY+LRBJRpQUBFHKXRjj/xRGCdsgZicSsiyrpQRhyM1Xm0+LJYvlDV/sb3xeLAnFnqKELD+SFSXFseSQH8ll+ZdH8bwt7z98xLZtRBgiREgQ7CjyvHZRWZa1lDjN2IZpdYr/WVj7w0gI7jyXzeYW13EJggDHcf95tdor74KA76sfiGiP53ms12t83ydOEpInpGn6ZC8dDgeUPD9yuxWIOMdxHFarFa7rVu+S6zp/ZLmpJLvfbTYboihCeXdtYsxmzIwZhmFUTMtiPp9jWRamaVadzJLM0+mUyWTyaDweP1JGb99woV9weTnk6uo1o9GI4XDIYDBA13V0/WH+yjr9fr/S6/Uq3W63cn7eRXnx6iVnZ89pt9t0Oh00TUNVVVqtFq3Ww5S50Whwetqg2WxWvZyyV1Wt+kbT2pycPOMeZamhpn69IRIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image8\"\n        title=\"image8\"\n        src=\"/static/4dba12b2a95343134a579e1014a157ef/37523/image8.png\"\n        srcset=\"/static/4dba12b2a95343134a579e1014a157ef/e9ff0/image8.png 180w,\n/static/4dba12b2a95343134a579e1014a157ef/f21e7/image8.png 360w,\n/static/4dba12b2a95343134a579e1014a157ef/37523/image8.png 720w,\n/static/4dba12b2a95343134a579e1014a157ef/302a4/image8.png 1080w,\n/static/4dba12b2a95343134a579e1014a157ef/07a9c/image8.png 1440w,\n/static/4dba12b2a95343134a579e1014a157ef/f60cd/image8.png 2318w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"클러스터-업그레이드\" style=\"position:relative;\"><a href=\"#%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EC%97%85%EA%B7%B8%EB%A0%88%EC%9D%B4%EB%93%9C\" aria-label=\"클러스터 업그레이드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>클러스터 업그레이드</h3>\n<ul>\n<li>kube-apiserver 보다 controller-manager, kube-scheduler, kubelet, kube-proxy, kubectl의 버전이 높을 수 없고, -1 또는 -2가 낮거나 같아야 한다.</li>\n<li>언제 업그레이드 해야 하는가?\n<ul>\n<li>최근 3개 minor 버전까지만 지원한다. 즉 1.25가 최신 버전이라면 공식 지원 버전은 1.23~1.25이다.</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"업그레이드-방법\" style=\"position:relative;\"><a href=\"#%EC%97%85%EA%B7%B8%EB%A0%88%EC%9D%B4%EB%93%9C-%EB%B0%A9%EB%B2%95\" aria-label=\"업그레이드 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>업그레이드 방법</h4>\n<ul>\n<li>마스터 노드 먼저 다운하여 업그레이드 하고, 워커 노드를 업그레이드 한다.</li>\n<li>워커 노드 업그레이드 방법\n<ul>\n<li>워커 노드 drain 후  1개 씩 업그레이드 하기</li>\n<li>새로운 노드를 추가하는 방식으로 업그레이드 하기</li>\n</ul>\n</li>\n<li>kubeadm을 활용한 업그레이드\n<ul>\n<li>마스터 노드\n<ul>\n<li><code class=\"language-text\">kubeadm upgrade plan</code>\n<ul>\n<li>upgrade에 필요한 정보를 알려준다.</li>\n</ul>\n</li>\n<li><code class=\"language-text\">apt-get upgrade -y kubeadm=1.12.0-00</code></li>\n<li><code class=\"language-text\">kubeadm upgrade apply v1.12.0</code></li>\n<li><code class=\"language-text\">apt-get upgrade -y kubelet=1.12.0-00</code></li>\n<li><code class=\"language-text\">systemctl restart kubelet</code></li>\n</ul>\n</li>\n<li>워커 노드\n<ul>\n<li><code class=\"language-text\">kubectl drain node01</code></li>\n<li><code class=\"language-text\">apt-get upgrade -y kubeadm=1.12.0-00</code></li>\n<li><code class=\"language-text\">apt-get upgrade -y kubelet=1.12.0-00</code></li>\n<li><code class=\"language-text\">kubeadm upgrade node config --kubelet-version v1.12.0</code></li>\n<li><code class=\"language-text\">systemctl restart kubelet</code></li>\n<li><code class=\"language-text\">kubectl uncordon node01</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"network-policy-ingress\" style=\"position:relative;\"><a href=\"#network-policy-ingress\" aria-label=\"network policy ingress permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Network Policy, Ingress</h3>\n<p>내용 스킵</p>\n<h3 id=\"docker-service-configuration\" style=\"position:relative;\"><a href=\"#docker-service-configuration\" aria-label=\"docker service configuration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker Service Configuration</h3>\n<ul>\n<li>도커 CLI는 도커를 호스팅하고 있는 서버의 /var/run/docker.sock이라는 유닉스 소켓을 통해서 도커 데몬에 명령을 전달하게 되는데, 도커 데몬 실행 시 이를 야래와 같이 외부 환경(예를 들어 개발자의 노트북) 의 docker CLI에서 접근 가능하도록 인터페이스를 만들어 줄 수 있고 tls설정도 여기에 할 수 있다. 원래는 host 서버에서만 도커 데몬에 접근 가능하다.</li>\n<li>export DOCKER_HOST, export DOCKER_TLS=true 설정을 해줘야 한다.</li>\n<li>dockerd 실행 시 아래와 같이 설정해줘도 되지만 /etc/docker/daemon.json에 설정을 명세할 수도 있다. 이는 디폴트로 생성되지 않는 파일이기에 직접 생성해주어야 한다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACpUlEQVQoz02RS28bZRSGvzSNx3aS5lYnsWfmm/uM52JPHDu2p07qNjGkjmPXJoUiZVGpKyTUTSXEDgQSsECVkAApG7rhFyAWiB1/gt/zIDtQsXikV2fx6Jz3iG29hi272LKDlEcERg9XZmxoMYrmUjSrFP5D+gvWZPCOVRncztQq62oVUdQCNrV4IdjSEkp6yraWUJQxBTelaESsahFFGZHXqyh6FaF7CN1dsKT5FGWAYibkrDpCUT1yqoeieeQ0jxXNJae5FPSQO07Ig8oZX+19wqx0SU5GbLptvnRH/ODPuPGvGJs9luyIYjVDCbqIvOazoroslx3u7jss/4+7msd6JWG/fMSWlaEYEff0GhN9zEfGjGt5xaHWJ+fWWIuPWY17iLls32zgJG3MegsnbWPXj7DjFLd2gJMeYBx2MJt9ClbIjtHlWetnnrdvuD7+lZPa5+SNgFKSsZseI5ZVm8Q5ZdC/oPf4MdnJIzq9EzrdLt2sS5Z1yNodOs0Om1bEih4gdIlQDYQ0WZIORTNE0fzbfufCYrnKlpVwzw5Z1f1bZMC6GbImq//mKor02a2kfJq74nX5JZ9tvGC8MUSxAvJGjDJ/yq48RA2b3PdqlM2UHTtmx4nZtmPue8kiz5lLVyoOm26LRuM5cTkj2X+AWW6yZsUU5huqHuIwfcT4yYjzs/e5PnvGdPKUi+GQ0cUFwydDzs/PGZyeYtUa5FSXvBcjWi2EVBGmhjB1hNS5o1oLqQgaTR72T+gf9/nw4ZTZcMpk+pTJZMJ4znjCe4MBRniA2NNpRjN+Gf3J2+lf/DT6nZvLP/jt47+5bL5C7JUR68a8v4gtK6RkJpScGiW//o5dP12cPO9SVCzq1ilv6t/xffINX8df8Kb2LW/THxk4HyAqkn8AQCRKsFptwIUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image9\"\n        title=\"image9\"\n        src=\"/static/50df97b964ca68114a8409d16b5f37f9/37523/image9.png\"\n        srcset=\"/static/50df97b964ca68114a8409d16b5f37f9/e9ff0/image9.png 180w,\n/static/50df97b964ca68114a8409d16b5f37f9/f21e7/image9.png 360w,\n/static/50df97b964ca68114a8409d16b5f37f9/37523/image9.png 720w,\n/static/50df97b964ca68114a8409d16b5f37f9/302a4/image9.png 1080w,\n/static/50df97b964ca68114a8409d16b5f37f9/07a9c/image9.png 1440w,\n/static/50df97b964ca68114a8409d16b5f37f9/8579d/image9.png 2412w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"docker--데몬-보안\" style=\"position:relative;\"><a href=\"#docker--%EB%8D%B0%EB%AA%AC-%EB%B3%B4%EC%95%88\" aria-label=\"docker  데몬 보안 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker : 데몬 보안</h3>\n<p>도커 데몬에 공격자가 접근이 가능해진다면,</p>\n<ul>\n<li>appication container, volume 삭제 가능</li>\n<li>bitcoin miner와 같은 공격자의 container 실행 가능</li>\n<li>privileged container 실행을 통해 서버의 root 권한 획득 가능</li>\n</ul>\n<br>\n- 그러므로 도커 데몬을 host 서버가 아닌 외부에서 접근 가능하도록 해주려고 한다면 해당 host 서버는 반드시 인터넷이 아닌 내부망에 있는 서버여야 한다.\n- 또한 tls 인증을 통해 보호해야 한다. tls 옵션만 해서는 안되고 tlsverify 설정을 client/server 양측에 모두 해줘야 인증서 기반의 authentication이 된다. \n  - tlsverify: true\n  - export DOCKER_TLS_VERIFY=true\n- client에서는 ~/.docker 디렉토리에 client certificate을 위치 시켜야 한다. \n![image10](./image10.png)","frontmatter":{"date":"September 26, 2023","title":"[CKS] Cluster setup & hardening 2","categories":"DevOps","author":"jjunyong","emoji":"🧢"},"fields":{"slug":"/cks2/"}},"prev":{"id":"11f79497-43e4-585c-abec-62a94a0210e3","html":"<p>System Hardening 섹션에서는 하기의 내용들에 대해 다룬다.</p>\n<ul>\n<li>host OS foorprint 최소화</li>\n<li>Node 접근 제한</li>\n<li>SSH hardening</li>\n<li>Linux privilege escalation</li>\n<li>불필요 패키지/서비스 제거</li>\n<li>커널 모듈 제한</li>\n<li>오픈 포트 제한</li>\n<li>IAM role</li>\n<li>UFW 방화벽</li>\n<li>Seccomp</li>\n<li>AppArmor</li>\n</ul>\n<h3 id=\"least-privilege-principal\" style=\"position:relative;\"><a href=\"#least-privilege-principal\" aria-label=\"least privilege principal permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Least privilege principal</h3>\n<p>: 각 모듈은 필요한 최소한의 권한만을 지녀야 한다는 원칙으로, 리눅스, k8s를 포함한 모든 컴퓨터 시스템에 적용되는 원칙이며 k8s에서는 아래와 같은 작업에 충실함으로써 이 원칙을 지키게 된다.</p>\n<ul>\n<li>노드 접근 제한</li>\n<li>RBAC</li>\n<li>불필요 패키지/서비스 제거</li>\n<li>네트웍 접근 제한</li>\n<li>불필요 커널 모듈 제거</li>\n<li>오픈 포트 제한</li>\n</ul>\n<h2 id=\"host-os-foorprint-최소화\" style=\"position:relative;\"><a href=\"#host-os-foorprint-%EC%B5%9C%EC%86%8C%ED%99%94\" aria-label=\"host os foorprint 최소화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Host OS foorprint 최소화</h2>\n<p>곧, attack surface를 최소화하는 것이다.</p>\n<h3 id=\"1-노드-접근-제한\" style=\"position:relative;\"><a href=\"#1-%EB%85%B8%EB%93%9C-%EC%A0%91%EA%B7%BC-%EC%A0%9C%ED%95%9C\" aria-label=\"1 노드 접근 제한 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 노드 접근 제한</h3>\n<ul>\n<li>인터넷 접근이 안되는 환경을 택하고, VPN과 같은 솔루션을 통해 내부망에 접근하게 한다.</li>\n<li>방화벽에서 지정된 ip, ip range만 접근가능하도록 설정한다.</li>\n<li>OS 계정으로 제한\n<ul>\n<li>리눅스 계정은 4가지가 존재한다.\n<ul>\n<li>user account\n<ul>\n<li>bob, john …</li>\n</ul>\n</li>\n<li>superuser account</li>\n<li>system account\n<ul>\n<li>ssh, mail</li>\n</ul>\n</li>\n<li>service account\n<ul>\n<li>nginx, http</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>리눅스의 접근 컨트롤 파일\n<ul>\n<li>/etc/passwd : 유저의 이름, uid, gid, 홈 디렉토리, bash shell 에 대한 정보</li>\n<li>/etc/shadow : 유저의 패스워드가 hash로 저장됨</li>\n<li>/etc/group : OS 내 모든 그룹과 그룹에 속한 유저들에 대한 정보</li>\n</ul>\n</li>\n<li><code class=\"language-text\">usermod -s /bin/nologin michael</code>과 같이 쉘 정보를 바꿈으로써 해당 유저가 로긴이 불가하게 만들 수도 있고 <code class=\"language-text\">userdel micheal</code> 과 같이 유저를 삭제할 수도 있다.</li>\n<li>sam이라는 유저를 생성하되, /opt/sam을 홈 디렉토리로 하고, /bin/bash를 로그인 쉘로 하고, admin 그룹에 속하면서 uid는 2328인 유저로 생성하는 명령어\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">  <span class=\"token function\">useradd</span> <span class=\"token parameter variable\">-d</span> /opt/sam <span class=\"token parameter variable\">-s</span> /bin/bash <span class=\"token parameter variable\">-G</span> admin <span class=\"token parameter variable\">-u</span> <span class=\"token number\">2328</span> sam</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"2-ssh-hardening\" style=\"position:relative;\"><a href=\"#2-ssh-hardening\" aria-label=\"2 ssh hardening permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. SSH hardening</h3>\n<ul>\n<li>개인키/공개키 기반 authentication\n<ul>\n<li><code class=\"language-text\">ssh-copy-id -i &lt;로컬 인증서 경로> {username}@{host server}</code> 명령으로 공개키 서버로 전송</li>\n</ul>\n</li>\n<li>root계정으로 ssh를 막아두기\n<ul>\n<li>/etc/ssh/sshd_config에서 <code class=\"language-text\">PermitRootLogin no</code> 로 설정하기</li>\n</ul>\n</li>\n<li>패스워드 기반 로그인 막아두기\n<ul>\n<li>/etc/ssh/sshd_config에서 <code class=\"language-text\">PasswordAuthentication no</code> 로 설정하기</li>\n</ul>\n</li>\n<li><code class=\"language-text\">systemctl reload sshd</code> 명령을 통해 sshd_config의 변경사항을 적용</li>\n</ul>\n<h3 id=\"3-privilege-escalation\" style=\"position:relative;\"><a href=\"#3-privilege-escalation\" aria-label=\"3 privilege escalation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Privilege Escalation</h3>\n<p>privilege escalation (권환 확대)는 취약점이다. Linux에서는 sudo와 같은 명령을 통해 관리자 권한을 가져올 수 있다.</p>\n<ul>\n<li>/etc/sudoers 파일</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2UlEQVQoz1WQwWuSYRyAv8Ng0+nwA/WT2bevT/0226pjf8AoZ1MZkYdwVH9CdGmHTtFtsuYImoegSwwZKw91DHSHLTfD8JggmOacbFlT54glT/hCQS88vL/3PTw8/KSXb16ReL7G+ot1kskkiUSClZUV4vH4fyzH46yuPmMtvc3jrX2W3+V58naPB693xP00vc/DjV2k68EbKE6FKWOKSWMSr9eLoiiYTCZGRkYEZrOZ4eFhRkdHSW6keZ//QurDR7a2C6Syn9nMfGIzkyeVKSDN3Qqi+ifQ/BfRZ3Q8Pg+qqqLrOpqmidnn8+F2u5Flmb3dHfq/ejRqX/l51KT745jvzQOODr5xctxECkQDaJc0pq9No15WMa4aGH4DxaGIcofD8U9ms9koFAoMzmmvx/n5b3pnZ7Q7HU7abTrdLtJcJIDmG4i8+K54MGa8aB4N94Qbq82KdcyKxWIR2O12stksrVaLSqVCvV7n8PCQcrlMqVSi0Wggzc7NMu4dF5X2C3acmoJDd+LSXcgumTF5TIiGhobEHnO5HP1+X0jbg6pOR8x/39LSoyXu373HYmyR6O0osTsxFiILhG7OE5oPCSKRCMFgkHA4TLFYFJJarSbqBlXValUw+PsD0kdN1oov9/wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image1\"\n        title=\"image1\"\n        src=\"/static/7ff24e8fd6eab1a10c6850c2a32b0eb8/37523/image1.png\"\n        srcset=\"/static/7ff24e8fd6eab1a10c6850c2a32b0eb8/e9ff0/image1.png 180w,\n/static/7ff24e8fd6eab1a10c6850c2a32b0eb8/f21e7/image1.png 360w,\n/static/7ff24e8fd6eab1a10c6850c2a32b0eb8/37523/image1.png 720w,\n/static/7ff24e8fd6eab1a10c6850c2a32b0eb8/302a4/image1.png 1080w,\n/static/7ff24e8fd6eab1a10c6850c2a32b0eb8/07a9c/image1.png 1440w,\n/static/7ff24e8fd6eab1a10c6850c2a32b0eb8/daf70/image1.png 2464w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li><code class=\"language-text\">jim    ALL=(ALL:ALL) ALL</code> 과 같이 sudoers 파일에 설정하면 jim이라는 유저에게 sudoer 권한을 줄 수 있다.</li>\n<li><code class=\"language-text\">jim  ALL=(ALL) NOPASSWD:ALL</code> 과 같이 설정하면 jim이라는 유저가 sudo 명령 사용시 비밀번호 입력을 하지 않게 설정할 수 있다.</li>\n<li><code class=\"language-text\">usermod jim -G admin</code> 과 같이 설정하면 sudoer 그룹인 admin에 jim이라는 유저를 등록할 수 있다.</li>\n</ul>\n<h3 id=\"4-불필요-패키지서비스-제거\" style=\"position:relative;\"><a href=\"#4-%EB%B6%88%ED%95%84%EC%9A%94-%ED%8C%A8%ED%82%A4%EC%A7%80%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%A0%9C%EA%B1%B0\" aria-label=\"4 불필요 패키지서비스 제거 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 불필요 패키지/서비스 제거</h3>\n<ul>\n<li>systemctl stop {서비스}</li>\n<li>systemctl disable {서비스}</li>\n<li>apt remove {서비스}</li>\n<li><code class=\"language-text\">systemctl list-units --type service</code> 명령은 서비스 중 active 한 것에 대해서 모두 리스트해주는 명령어이다.</li>\n<li><code class=\"language-text\">apt install {패키지명} -y</code> 명령은 해당 패키지를 최신 버전으로 업데이트 또는 설치한다.</li>\n</ul>\n<h3 id=\"5-커널-모듈-제한-restritiction\" style=\"position:relative;\"><a href=\"#5-%EC%BB%A4%EB%84%90-%EB%AA%A8%EB%93%88-%EC%A0%9C%ED%95%9C-restritiction\" aria-label=\"5 커널 모듈 제한 restritiction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 커널 모듈 제한 (restritiction)</h3>\n<ul>\n<li>OS 부팅 시에 특정 커널 모듈을 로드 되지 않게 하려면 /etc/modprobe.d/blacklist.conf 파일에 <code class=\"language-text\">blacklist sctp</code>와 같이 blacklist 등록을 하면 된다.\n<ul>\n<li>등록 후 재부팅하면 <code class=\"language-text\">lsmod</code> 명령을 실행했을 때 커널 모듈이 존재하지 않음을 확인할 수 있다.</li>\n<li>k8s에서는 sctp와 dccp 프로토콜이 blacklist에 추가되어야 한다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"6-오픈-포트\" style=\"position:relative;\"><a href=\"#6-%EC%98%A4%ED%94%88-%ED%8F%AC%ED%8A%B8\" aria-label=\"6 오픈 포트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 오픈 포트</h3>\n<ul>\n<li>netstat 명령을 통해 OS가 어떤 포트가 오픈 되어 있는 지를 확인할 수 있다.\n<ul>\n<li>`netstat -an | grep -w LISTEN</li>\n</ul>\n</li>\n<li><code class=\"language-text\">cat /etc/services | grep -w {port번호}</code> 명령을 통해 특정 포트가 어떤 서비스에서 사용 중인 지 확인할 수 있다.</li>\n<li>k8s의 각 컴포넌트가 필요로 하는 port 정보는 아래와 같다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABuklEQVQ4y52T4ZKDIAyE+/7PWbWCAiqo1ba5+WKhdebuzzGTQQPZbLLhEkKQznZijBFrjTjXS11VEsYkL/ms1+tV7C8f+yWlJLfbTaZp0p0EwzBIdb3q3nWd9H0v34v/pmlOQHldxnEU55ywW2MVkADXHz4AMfwYib33Mg6jzPOstu/7hyEXMJhe36wABCSlKG3bKpts3HPOlwTYtm8fQDIsyyLbtunhuq6SYlLW+GOMypREMU7yeDyUAOe5PfgKII58WF0r8c6pQLAksK5rqetGS8zgtIZ+N3UjpjVKpgDC4n6/ax8ok2+ACH4+n5pIE3pfms85IJzD7qQyDIMPmjmrfCjrtERrrTJWa01R/WhBLOAFcF0WyX3kEt80HqOfJMIIHIehCJgr486ph847ZRGCVxZk/c/KZavKAKYYFRCWjIs1RtnmucsB85y0bPr3/VpOPWTWhhBUUQQggOenilqrfsqkRPpX8TRDkDjFE/D7pUylRwxuHmyAAQEQsfjP88c5AlHRd/+UIQpl5zGku5blvZN1PQZbBzgcgiBCZvXbuhCgb3kYdXymMcowrZLSXaaIgs9fBfjLfgCJLIdzcxL2BAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image2\"\n        title=\"image2\"\n        src=\"/static/9bd73c084a60d1790f7616a0ba23a181/37523/image2.png\"\n        srcset=\"/static/9bd73c084a60d1790f7616a0ba23a181/e9ff0/image2.png 180w,\n/static/9bd73c084a60d1790f7616a0ba23a181/f21e7/image2.png 360w,\n/static/9bd73c084a60d1790f7616a0ba23a181/37523/image2.png 720w,\n/static/9bd73c084a60d1790f7616a0ba23a181/302a4/image2.png 1080w,\n/static/9bd73c084a60d1790f7616a0ba23a181/c65fa/image2.png 1434w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></li>\n</ul>","frontmatter":{"date":"October 09, 2023","title":"[CKS] System Hardening 1","categories":"DevOps","author":"jjunyong","emoji":"🧢"},"fields":{"slug":"/cks3/"}},"site":{"siteMetadata":{"siteUrl":"https://jjunyong.github.io","comments":{"utterances":{"repo":"jjunyong/jjunyong.github.io"}}}}},"pageContext":{"slug":"/read-center-church7/","nextSlug":"/cks2/","prevSlug":"/cks3/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}