{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/rest-httpcode-exception/",
    "result": {"data":{"cur":{"id":"a4372864-4ae0-5bc1-8534-1f5c8d770858","html":"<h2 id=\"http-status-code-제어\" style=\"position:relative;\"><a href=\"#http-status-code-%EC%A0%9C%EC%96%B4\" aria-label=\"http status code 제어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Http Status Code 제어</h2>\n<p>REST API를 통해 User를 생성하는 API를 만드는 상황을 가정해보자.\n좀 더 나은 API 설계를 고려한다면 단순히 User를 생성만 하는 것에서 그칠 것이 아니라 요청자에게 response로 결과 데이터를 반환해주어야 할 것이다.\n가령 사용자에게 요청 값을 반환해 주기 위해 ServletUriComponentsBuilder 라는 클래스를 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/users\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">createUser</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">User</span> user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">User</span> savedUser <span class=\"token operator\">=</span> <span class=\"token class-name\">UserService</span><span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">URI</span> location <span class=\"token operator\">=</span> <span class=\"token class-name\">ServletUriComponentsBuilder</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromCurrentRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">path</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{id}\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">buildAndExpand</span><span class=\"token punctuation\">(</span>savedUser<span class=\"token punctuation\">.</span>ge\n        <span class=\"token punctuation\">.</span><span class=\"token function\">toUri</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">.</span><span class=\"token function\">created</span><span class=\"token punctuation\">(</span>location<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>이렇게 하면 클라이언트는 Header로부터 200을 받는 것이 아니라 201 created 값을 반환받을 수 있게 되며\nheader의 Key값 중 location값에서 POST의 URI value를 알 수 있다.</p>\n<ul>\n<li>여기선 <a href=\"http://localhost:8080/users/10\">http://localhost:8080/users/10</a> 이 될 것이다.</li>\n</ul>\n<p>이렇듯 200 OK로만 보내는 것이 아니라 CRUD에 따라, 그리고 여러가지 상황에 따라 서로 다른 HTTP status code값으로 응답해주는 것이 좋고, location값을 반환 해 줌에 따라 클라이언트는 자기가 방금 생성한 user의 id값도 알 수 있게 되므로 자신이 생성한 user의 id를 서버에 물어보는 불필요한 traffic낭비를 방지할 수 있다.</p>\n<ul>\n<li>\n<p>참고로 HTTP status 코드는 대역대로 어떤 상태인지를 대략적으로 알 수 있다.</p>\n<ul>\n<li>\n<p>2xx : 정상 동작( OK )</p>\n</li>\n<li>\n<p>4xx : 클라이언트의 잘못된 요청에 대한 것</p>\n</li>\n<li>\n<p>5xx : 서버의 문제</p>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>이와 같이 REST API 설계 시 다양한 Http status code 를 활용하여 상황에 맞는 response로 요청자에게 응답해주는 것이 보다 나은 API를 만들기 위해\n매우 중요한 부분이다.</p>\n</blockquote>\n<hr>\n<h2 id=\"예외-핸들링\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%99%B8-%ED%95%B8%EB%93%A4%EB%A7%81\" aria-label=\"예외 핸들링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예외 핸들링</h2>\n<p>: <strong>@ResponseStatus, @ControllerAdvice(+@RestControllerAdvice)</strong></p>\n<p>REST API에서 request에 대한 예외가 발생 시 핸들링 하는 방법에 대해서 알아보자.</p>\n<p>아래와 같이 로직 처리 시 user가 존재하지 않을 때 UserNotFoundException을 throw하도록 하고,</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>user <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">UserNotFoundException</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token function\">format</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ID[%s] not found\"</span><span class=\"token punctuation\">,</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>UserNotFoundException 클래스를 따로 만들어 준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">\b<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserNotFoundException</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">RunTimeException</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">UserNotFoundException</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>이렇게 구현 후 클라이언트에서 <a href=\"http://localhost:8080/users/1000\">http://localhost:8080/users/1000</a> 를 다시 호출하면,</p>\n<p>500 Internal server error와 함께 message, trace값들을 response받을 수 있는데 이 때 2가지 문제가 있다.</p>\n<ul>\n<li><strong>trace값에 문제가 되는 코드들이 그대로 노출되는 보안 상의 이슈가 있을 수 있다.</strong></li>\n<li><strong>정확히 어떤 에러인지에 대한 HTTP 코드를 명확하게 해줄 필요가 있다.</strong></li>\n</ul>\n<p>이 2가지 문제를 해결하기 위해 먼저 상황에 맞게 HTTP code를 반환하도록 설정해보자.\n위의 경우는 서버 측의 문제라기 보다는 클라이언트가 없는 사용자를 잘못 요청한 경우에 해당 함으로 Exception클래스를 아래와 같이 바꿔서 404 Not Found로 response 해주도록 변경하자. 이렇게 하면 클라이언트가 없는 user를 요청했을 때</p>\n<blockquote>\n<p>404, ID[1000] Not Found</p>\n</blockquote>\n<p>로 응답받게 되는 것을 확인할 수 있다.</p>\n<h3 id=\"responsestatus-사용\" style=\"position:relative;\"><a href=\"#responsestatus-%EC%82%AC%EC%9A%A9\" aria-label=\"responsestatus 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@ResponseStatus 사용</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@ResponseStatus</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>NOT_FOUND<span class=\"token punctuation\">)</span> <span class=\"token comment\">// 404 NOT FOUND\b</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UserNotFoundException</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">RunTimeException</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">UserNotFoundException</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> message<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>이렇듯 @ResponseStatus 를 사용하면 원하는 예외 상황에 대해서 HTTP 상태코드와 error message를 설정하는 것이 가능하다. 그러나 각 예외 상황에 대해서 예외클래스를 설정해주어야 한다는 점, 그리고 response의 payload를 변경할 수 없다는 한계가 있다.</p>\n<h3 id=\"controlleradvicerestcontrolleradvice-사용\" style=\"position:relative;\"><a href=\"#controlleradvicerestcontrolleradvice-%EC%82%AC%EC%9A%A9\" aria-label=\"controlleradvicerestcontrolleradvice 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>@ControllerAdvice(@RestControllerAdvice) 사용</h3>\n<p>@RestController + @ControllerAdvice인 @RestControllerAdvice 어노테이션을 사용하여 예외처리하는 방법에 대해서 알아보자. 이 방법은 Spring5에서 가장 많이 사용되고 있는 방법이다.</p>\n<p>exception 패키지 아래에 GloabalExceptionHandler와 ErrorResponse 클래스를 아래와 같이 설정하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestControllerAdvice</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GlobalExceptionHandler</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ResponseEntityExceptionHandler</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@ExceptionHandler</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">handleAllExceptions</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exceptions</span> ex<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Webrequest</span> request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">ExceptionResponse</span> exceptionResponse <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ExceptionResponse</span><span class=\"token punctuation\">(</span>\n            <span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ex<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getDescription</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">(</span>exceptionResponse<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>INTERNAL_SERVER_ERROR<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@ExceptionHandler</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">UserNotFoundException</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">handleUserNotFoundExceptions</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exceptions</span> ex<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Webrequest</span> request<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">ExceptionResponse</span> exceptionResponse <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ExceptionResponse</span><span class=\"token punctuation\">(</span>\n            <span class=\"token class-name\">LocalDateTime</span><span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ex<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getDescription</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ResponseEntity</span><span class=\"token punctuation\">(</span>exceptionResponse<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpStatus</span><span class=\"token punctuation\">.</span>NOT_FOUND<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Data</span>\n<span class=\"token annotation punctuation\">@AllArgsConstructor</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ErrorResponse</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">LocalDateTime</span> timestamp<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> message<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> details<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>이렇게 하게 되면 GlobalExceptionHandler가 어플리케이션 전역에서 발생하는 예외상황에 대해서 예외처리를 하게 되고, 개발자 입장에서는 예외처리하고자 하는 케이스가 늘어날 때마다 해당 클래스에 메소드만 UserNotFoundExceptions 메소드와 같이 추가해주면 된다.</p>\n<blockquote>\n<p>만약에 설정되지 않은 예외가 발생 시 handleAllExceptions메소드가 500으로 response해주게 될 것이다.</p>\n</blockquote>\n<p>그리고 ErrorReponse 클래스를 설정함으로써 @ResponseStatus만 사용했던 때와 달리 reponseBody를 커스터마이징 할 수 있게 되었을 뿐만 아니라 trace가 response에 노출되던 보안상의 이슈까지 극복할 수 있게 되었다.</p>\n<blockquote>\n<p>만약에 trace를 response해주고 싶은 예외상황이 있다면 해당 메소드에서만 응답하도록 설정해주면 될 것이다.</p>\n</blockquote>\n<hr>\n<p>참고자료</p>\n<ul>\n<li>\n<p><a href=\"https://mangkyu.tistory.com/204\">https://mangkyu.tistory.com/204</a>, <a href=\"https://mangkyu.tistory.com/205\">https://mangkyu.tistory.com/205</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/MangKyu/InterviewSubscription/tree/master/src/main/java/com/mangkyu/employment/interview/erros\">https://github.com/MangKyu/InterviewSubscription/tree/master/src/main/java/com/mangkyu/employment/interview/erros</a></p>\n</li>\n<li>\n<p><a href=\"https://bcp0109.tistory.com/303\">https://bcp0109.tistory.com/303</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/edowon/restful-web-service/blob/master/src/main/java/com/example/restfulwebservice/user/UserNotFoundException.java\">https://github.com/edowon/restful-web-service/blob/master/src/main/java/com/example/restfulwebservice/user/UserNotFoundException.java</a></p>\n</li>\n</ul>","excerpt":"Http Status Code 제어 REST API를 통해 User를 생성하는 API를 만드는 상황을 가정해보자.\n좀 더 나은 API 설계를 고려한다면 단순히 User를 생성만 하는 것에서 그칠 것이 아니라 요청자에게 response로 결과 데이터를 반환해주어야 할 것이다.\n가령 사용자에게 요청 값을 반환해 주기 위해 ServletUriComponentsBuilder 라는 클래스를 사용할 수 있다. 이렇게 하면 클라이언트는 Header로부터 200을 받는 것이 아니라 201 created 값을 반환받을 수 있게 되며\nheader의 Key값 중 location값에서 POST의 URI value를 알 수 있다. 여기선 http://localhost:8080/users/10 이 될 것이다. 이렇듯 200 OK로만 보내는 것이 아니라 CRUD에 따라, 그리고 여러가지 상황에 따라 서로 다른 HTTP status code값으로 응답해주는 것이 좋고, location값을 반환 해 줌에 따라 …","frontmatter":{"date":"February 04, 2022","title":"[REST API] HTTP Status Code 제어와 예외 해들링(Exception handling)","categories":"WEB","author":"jjunyong","emoji":"😌"},"fields":{"slug":"/rest-httpcode-exception/"}},"next":{"id":"c2fcb249-3189-5828-b2e1-d04bc2273100","html":"<h2 id=\"1-aws에서-프리티어로-ec2와-rds-발급하기\" style=\"position:relative;\"><a href=\"#1-aws%EC%97%90%EC%84%9C-%ED%94%84%EB%A6%AC%ED%8B%B0%EC%96%B4%EB%A1%9C-ec2%EC%99%80-rds-%EB%B0%9C%EA%B8%89%ED%95%98%EA%B8%B0\" aria-label=\"1 aws에서 프리티어로 ec2와 rds 발급하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. AWS에서 프리티어로 EC2와 RDS 발급하기</h2>\n<h3 id=\"1-ec2-인스턴스-발급\" style=\"position:relative;\"><a href=\"#1-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EB%B0%9C%EA%B8%89\" aria-label=\"1 ec2 인스턴스 발급 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) EC2 인스턴스 발급</h3>\n<p>AWS 에 들어가서 EC2 인스턴스 생성하기로 가서 생성하면 된다. 프리티어로 발급 가능한 인스턴스를 발급 받았다.</p>\n<p>발급 시 신경 써 주어야 할 부분은 프리티어에서 사용 가능한 최대 스토리지 설정(30GB)과 보안그룹에서 규칙을 설정하는 것이다.</p>\n<p>보안그룹을 설정하지 않으면 생성한 EC2 서버로 모든 통신이 불가능하기 때문에 필요한 port와 사용자에 대해 꼭 설정해주어야 함!</p>\n<p>나는 Front/Back-end를 위해 각각 3000,8080포트를 모든 사용자에게 허용하고 http,https를 통한 접근 허용을 위해 80,443 포트도 열어두었다.</p>\n<h3 id=\"2-ec2-ssh-접속-테스트\" style=\"position:relative;\"><a href=\"#2-ec2-ssh-%EC%A0%91%EC%86%8D-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"2 ec2 ssh 접속 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) EC2 ssh 접속 테스트</h3>\n<p>Windows에선 putty 설치해서, Mac에선 ssh 커맨드라인 툴을 이용해서 ssh priavte key를 사용해서 접속하면 된다.\n계정명은 ubuntu로 초기 로그인이 되며 su 명령어를 통해 root로 유저를 변경하여 root 및 ubuntu 계정의 비밀번호를 내가 원하는 대로 변경해두는 것이 좋다.</p>\n<h3 id=\"3-rds-발급\" style=\"position:relative;\"><a href=\"#3-rds-%EB%B0%9C%EA%B8%89\" aria-label=\"3 rds 발급 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) RDS 발급</h3>\n<p>rds 발급도 ‘데이터베이스 생성’을 클릭하여 간단하게 생성 가능하다. MySQL을 선택하여 생성하면 되고, 보안규칙에 MySQL port인 3306을 허용시켜주면 된다.</p>\n<h3 id=\"4-dbeaver에서-rds로-접속-테스트\" style=\"position:relative;\"><a href=\"#4-dbeaver%EC%97%90%EC%84%9C-rds%EB%A1%9C-%EC%A0%91%EC%86%8D-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"4 dbeaver에서 rds로 접속 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4) DBeaver에서 RDS로 접속 테스트</h3>\n<p>Server Host에는 엔드포인트 값을, Port에는 3306, Username/Password에는 RDS 생성 시 입력한 값을 넣으면 된다. 여기서 헷갈렸던 부분이 RDS db 인스턴스의 db식별자 명을 예를 들어 ‘abc’라고 했는데 Database이름에 계속 ‘abc’를 입력하고 test connection을 하니 연결이 되지 않았다. 알고 보니 <strong>Database이름은 비워둔 상태에서 접속한 후에 DB를 ‘abc’라는 이름으로 생성</strong>해주어야 했던 것임.</p>\n<p>이로써, aws의 도움을 받아 간단하게 백엔드를 위한 인프라 설정은 끝났다.</p>\n<hr>\n<h2 id=\"2-spring-boot-프로젝트-생성-및-db-연동\" style=\"position:relative;\"><a href=\"#2-spring-boot-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1-%EB%B0%8F-db-%EC%97%B0%EB%8F%99\" aria-label=\"2 spring boot 프로젝트 생성 및 db 연동 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Spring boot 프로젝트 생성 및 DB 연동</h2>\n<h3 id=\"1-프로젝트-생성\" style=\"position:relative;\"><a href=\"#1-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\" aria-label=\"1 프로젝트 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) 프로젝트 생성​</h3>\n<p>IntelliJ에서 ‘New project’ - Spring intializr에서 원하는 jdk, spring boot 버전, 빌드 도구(maven,gradle) 등 선택해서 프로젝트 생성하면 된다.(너무 불친절한가…)</p>\n<h3 id=\"2-jpa-사용을-위해-gradle에-jpa-의존성-추가\" style=\"position:relative;\"><a href=\"#2-jpa-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%9C%84%ED%95%B4-gradle%EC%97%90-jpa-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%B6%94%EA%B0%80\" aria-label=\"2 jpa 사용을 위해 gradle에 jpa 의존성 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) JPA 사용을 위해 gradle에 JPA 의존성 추가</h3>\n<p>Mybatis와 같은 sqlmapper를 사용해서 DB와 연동할 수도 있지만 Java진영의 ORM 표준인 JPA를 사용하여 DB와 연동할 것임.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">dependencies {\nimplementation 'mysql:mysql-connector-java'\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n}</code></pre></div>\n<h3 id=\"3-applicationproperties\" style=\"position:relative;\"><a href=\"#3-applicationproperties\" aria-label=\"3 applicationproperties permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) application.properties</h3>\n<p>Mysql을 사용하기 위한 드라이버 설정, datasource 설정, DB계정 설정을 해주면 됨.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># MySQL 설정\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n# Datasource 설정(aws)\nspring.datasource.url=jdbc:mysql://{aws RDS endpoint값}:3306/{DB 스키마명}?useSSL=false&amp;useUnicode=true&amp;serverTimezone=Asia/Seoul\n# DB username\nspring.datasource.username=&lt;username>\n# DB password\nspring.datasource.password=&lt;password></code></pre></div>\n<hr>\n<h2 id=\"3spring-boot-어플리케이션-ec2-배포하기\" style=\"position:relative;\"><a href=\"#3spring-boot-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-ec2-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\" aria-label=\"3spring boot 어플리케이션 ec2 배포하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.Spring boot 어플리케이션 EC2 배포하기</h2>\n<h3 id=\"1-ssh로-접속하여-git-clone하기\" style=\"position:relative;\"><a href=\"#1-ssh%EB%A1%9C-%EC%A0%91%EC%86%8D%ED%95%98%EC%97%AC-git-clone%ED%95%98%EA%B8%B0\" aria-label=\"1 ssh로 접속하여 git clone하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) ssh로 접속하여 git clone하기</h3>\n<p>1에서 ssh 접속 테스트를 성공했다면 무리없이 EC2에 접속해서 2에서 생성한 Spring boot 프로젝트의 git repo를 clone하자. 2에서 생성한 프로젝트를 git에 push하는 것은 설명하지 않았지만, 구글링하면 바로 나온다.</p>\n<p>아니면 winscp나 Filezilla와 같은 sftp툴을 사용해서 로컬에서 빌드한 jar파일을 EC2에 업로드 해도 된다.</p>\n<p><strong>EC2에 git과 jdk가 설치되어있지 않다면 git clone하기 전에 해주어야 함</strong></p>\n<h3 id=\"2-소스코드-빌드-및-빌드된-jar-실행하기\" style=\"position:relative;\"><a href=\"#2-%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C-%EB%B9%8C%EB%93%9C-%EB%B0%8F-%EB%B9%8C%EB%93%9C%EB%90%9C-jar-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0\" aria-label=\"2 소스코드 빌드 및 빌드된 jar 실행하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) 소스코드 빌드 및 빌드된 jar 실행하기</h3>\n<ul>\n<li>\n<p>gradlew 실행 권한 부여</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ sudo chmod 777 ./gradlew</code></pre></div>\n</li>\n<li>\n<p>빌드하기</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ ./gradlew build</code></pre></div>\n</li>\n<li>\n<p>실행하기</p>\n<p>빌드하기에서BUILD SUCCESSFUL이 되었다면 build/libs/ 아래의 SNAPSHOT.jar 파일을 실행시켜주자. Spring boot는 톰캣 서버가 내장 되어 있어서 jar만 실행 시켜주면 마침내 Spring boot 서버가 가동된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ java -jar Helloworld-0.0.1-SNAPSHOT.jar</code></pre></div>\n</li>\n</ul>\n<hr>\n<p>추가로 웹 브라우저 상에서 확인을 원한다면 EC2에서 public IP주소를 찾아 아래와 같이 실행하면 Helloworld!라고 나오는 것을 확인 가능하다.\n물론, Spring boot 소스코드에서 /test로 접근시 Restconroller에서 ‘Helloworld!’라는 String을 return하도록 구현이 되어있다면 ㅎㅎ</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#1-aws%EC%97%90%EC%84%9C-%ED%94%84%EB%A6%AC%ED%8B%B0%EC%96%B4%EB%A1%9C-ec2%EC%99%80-rds-%EB%B0%9C%EA%B8%89%ED%95%98%EA%B8%B0\">1. AWS에서 프리티어로 EC2와 RDS 발급하기</a></p>\n<ul>\n<li><a href=\"#1-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EB%B0%9C%EA%B8%89\">1) EC2 인스턴스 발급</a></li>\n<li><a href=\"#2-ec2-ssh-%EC%A0%91%EC%86%8D-%ED%85%8C%EC%8A%A4%ED%8A%B8\">2) EC2 ssh 접속 테스트</a></li>\n<li><a href=\"#3-rds-%EB%B0%9C%EA%B8%89\">3) RDS 발급</a></li>\n<li><a href=\"#4-dbeaver%EC%97%90%EC%84%9C-rds%EB%A1%9C-%EC%A0%91%EC%86%8D-%ED%85%8C%EC%8A%A4%ED%8A%B8\">4) DBeaver에서 RDS로 접속 테스트</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-spring-boot-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1-%EB%B0%8F-db-%EC%97%B0%EB%8F%99\">2. Spring boot 프로젝트 생성 및 DB 연동</a></p>\n<ul>\n<li><a href=\"#1-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%83%9D%EC%84%B1\">1) 프로젝트 생성​</a></li>\n<li><a href=\"#2-jpa-%EC%82%AC%EC%9A%A9%EC%9D%84-%EC%9C%84%ED%95%B4-gradle%EC%97%90-jpa-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%B6%94%EA%B0%80\">2) JPA 사용을 위해 gradle에 JPA 의존성 추가</a></li>\n<li><a href=\"#3-applicationproperties\">3) application.properties</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3spring-boot-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-ec2-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\">3.Spring boot 어플리케이션 EC2 배포하기</a></p>\n<ul>\n<li><a href=\"#1-ssh%EB%A1%9C-%EC%A0%91%EC%86%8D%ED%95%98%EC%97%AC-git-clone%ED%95%98%EA%B8%B0\">1) ssh로 접속하여 git clone하기</a></li>\n<li><a href=\"#2-%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C-%EB%B9%8C%EB%93%9C-%EB%B0%8F-%EB%B9%8C%EB%93%9C%EB%90%9C-jar-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0\">2) 소스코드 빌드 및 빌드된 jar 실행하기</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"February 04, 2022","title":"Spring boot 개발환경 설정 (gradle,JPA,MySQL,EC2,RDS)","categories":"AWS","author":"jjunyong","emoji":"🧢"},"fields":{"slug":"/spring-boot-aws-environment/"}},"prev":{"id":"385f5e04-75dc-546b-bf37-19032cb99613","html":"<blockquote>\n<p>AEM 을 소개함에 있어 해당 과정은 Udemy의 <a href=\"https://www.udemy.com/course/adobe-experience-manager-63\">https://www.udemy.com/course/adobe-experience-manager-63</a> 과정을\n영어가 어려운 사람들을 위해 한국어로 정리하는 데 목적이 있음을 밝힌다. AEM 관련해서 체계적으로 정리해둔 블로그를 찾지 못했기 때문이기도 하다.</p>\n</blockquote>\n<br>\n<h2 id=\"aem-소개\" style=\"position:relative;\"><a href=\"#aem-%EC%86%8C%EA%B0%9C\" aria-label=\"aem 소개 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AEM 소개</h2>\n<ul>\n<li>AEM은 ‘Adobe Experience Manager’ 의 약어이며, 어도비 사에서 만든 Java 기반의 CMS 솔루션이다.\nAEM은 상용 웹 사이트를 만드는 데 많이 사용되며 웹 사이트의 콘텐츠와 asset 들을 관리하기에 용이하며 배포까지 지원한다.</li>\n</ul>\n<br>\n<blockquote>\n<h3 id=\"웹사이트와-cms\" style=\"position:relative;\"><a href=\"#%EC%9B%B9%EC%82%AC%EC%9D%B4%ED%8A%B8%EC%99%80-cms\" aria-label=\"웹사이트와 cms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>웹사이트와 CMS</h3>\n<p>웹 사이트에는 3가지 종류가 있다.</p>\n<ol>\n<li>Static 웹 사이트\n: 정적 리소스로만 이루어진 웹 사이트이다.</li>\n<li>Dynamic 웹 사이트\n: 클라이언트/서버의 스크립트를 통해 동적으로 웹 사이트의 콘텐츠를 관리하는 웹 사이트이다.</li>\n<li>CMS</li>\n</ol>\n<ul>\n<li>template을 생성할 수 있다</li>\n<li>재사용 가능한 Component를 생성하고 publish할 수 있다.\nAEM은 CMS의 한 종류이며 아래와 같은 구조를 통해 페이지를 구성한다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACT0lEQVQoz22SS08TYRSGu/cGBS1VoEpbXJhojAoBKaALBDsirbTzzTedCuUSVIRw6Uyk1piQGLeEmOhClBDQICz8FwIuuIYoIPGXPGZGKCSweHOS93nPm7M4rkZhYEVqGIjWMxStYzhae6BICFNrxDSasZItpFvvOt7hjL1j76ajIWq1Llyp2AO+K2eZUS4wqZQwofj4tK9wCVP6TeaeNvCtT+Fz9LLj7XM7O6UU81U5z7ziIaIKXAHdpFSkKdZMFL0dQ8aRUuRkiFZqtG7CIomhxXK+JgVJGade76FIWPi0YewuV9Cw8OkmvmSWubYKduInWBOFbIgCZ+6KU7zujjPfUcUf9WSOrYpC/mqnedvZTL7M4k+YBBMWrmDC5KJM4zMyTLdVsy7PsSC8LKkeZ64LN5nOONOpEBvSw4JaxJLw8EP1sqkVMpp6iFu+xK+n9wstfNLEZ4wwkwrxq/8Wq5kway8aWR4JszVURSb1iC/dd/jdd+OAZRR2BisZ7ThSuHdhMsP040rWYmdYFF5+iiIWVQ8b8bz/F7ZXs36ILcQ9bAr3MRcaFqW6RWkyy2x7FVuam2XpZVV6WJFetmU+r7pUZjtusy3drMgih9mZXb2AN50t5MksZbpJwC4s14cJiAHKtEHqRIomVXJPTeTUpOpUaE+OsAaHSSq1HnxiyOko19O49FgLk+ES3itljIcDjCnBPZUzdt/PeOt1JnojfHweZTx61fEctpd7F/bzQbnk/KSi6riuyX7nw+1fs+exMp5Rl+yl9phM6NDuFX2AfzwwzD/XmbJ/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image2\"\n        title=\"image2\"\n        src=\"/static/5d1403cb60cf09bf19fc144ed762f88d/37523/image2.png\"\n        srcset=\"/static/5d1403cb60cf09bf19fc144ed762f88d/e9ff0/image2.png 180w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/f21e7/image2.png 360w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/37523/image2.png 720w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/302a4/image2.png 1080w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/07a9c/image2.png 1440w,\n/static/5d1403cb60cf09bf19fc144ed762f88d/ce0a7/image2.png 1590w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n</blockquote>\n<br>\n<h3 id=\"1-aem의-컨셉\" style=\"position:relative;\"><a href=\"#1-aem%EC%9D%98-%EC%BB%A8%EC%85%89\" aria-label=\"1 aem의 컨셉 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. AEM의 컨셉</h3>\n<ul>\n<li>파일 시스템과 유사한 JCR repository라는 곳에 모든 것을 저장하는데 이게 무엇인 지는 이후에 살펴보자.</li>\n<li>2가지 방식의 UI가 있고 주로 Touch UI 방식을 사용한다.\n<ul>\n<li>Touch UI\n<ul>\n<li>디폴트 UI이며 반응형 기능을 제공한다.</li>\n</ul>\n</li>\n<li>Classic UI\n<ul>\n<li>반응형이지 않고 Desktop 페이지만을 지원한다 .</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>OSGI, JCR, Apache Sling 을 기반으로 한다.</li>\n</ul>\n<h3 id=\"2-author와-publish\" style=\"position:relative;\"><a href=\"#2-author%EC%99%80-publish\" aria-label=\"2 author와 publish permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Author와 Publish</h3>\n<ul>\n<li>\n<p>Author</p>\n<ul>\n<li>콘텐츠와 페이지를 CRUD할 수 있으며 해당 작업이 Publish에 <strong>Activate</strong> 하기 전에는 웹 사이트에 연동되지 않는다.</li>\n</ul>\n</li>\n<li>\n<p>Publish</p>\n<ul>\n<li>Public에 공개된 was로 보면 되며, publish에 반영된 내용은 웹 사이트에서 바로 반영된다.</li>\n<li>Author의 내용은 activate을 통해 publish에 반영되고 deactivate을 통해 삭제된다.</li>\n</ul>\n</li>\n<li>\n<p>Replication</p>\n<ul>\n<li>Content를 Author -> Publisher 로 복사하는 것인데 개념 상 Activate을 통해서 replication을 구현 한다고 보면 될 것 같다.</li>\n<li>Publihser -> Author로 복사하는 것은 Reverse replication이라고 한다.</li>\n<li>Replication Agent\n<ul>\n<li>replication을 자동화 하기 위한 기능인 것 같다. Author에서 Activate을 하면 Replication queue에 쌓이고 publish는 queue에 있는 변경사항을 가져와서 반영한다.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-sling이란\" style=\"position:relative;\"><a href=\"#3-sling%EC%9D%B4%EB%9E%80\" aria-label=\"3 sling이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Sling이란?</h3>\n<p>AEM에서 콘텐츠의 저장소로 사용되는 JCR을 이해하기에 앞서 Apache Sling(줄여서 그냥 Sling)이 무엇인지 알아야 한다.\nSling의 목표는 콘텐츠 저장소의 콘텐츠를 HTTP 리소스로 나타내 RESTful한 애플리케이션을 개발하는 것이다.\nAEM에서 JCR은 Sling을 통해 Web에 노출된다고 이해할 수 있다.</p>\n<p>URL로 AEM에 요청이 들어오면, ( ex. req: /content/corporate/jobs/developer.html)</p>\n<ol>\n<li>가장 먼저 JCR의 node를 찾고,</li>\n<li>해당 node의 sling:resourceType 값을 통해 렌더링 시 사용할 스크립트를 찾는다.</li>\n<li>찾은 스크립트의 실행을 거쳐 콘텐츠를 화면에 렌더링한다.</li>\n</ol>\n<ul>\n<li>모든 Sling 스크립트는 /apps 또는 /libs 하위 폴더에 저장한다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAADAklEQVQoz12S3U9bBRiH+0945ZVeaLzwT/DCG5f4ETXGuGQXJmZmLm5zbtmiA2EXOpNZpFtjHC1DQbBA1A4LlBkwOGQdDVAKbra083BK6Wl7Sjk9p6c9n31Mi8bF9+q9evL83t/r8Q5FuOQd5lP/93xxY4JrN38kMBpheDLK5M8LTM3dYWFplTuxBLH4BllhF9elM61Wi/+PJydVSGVFcqUDippNQWlSUBoUlQYlRaes6FTUBlW1gVxVyTzcoVAsIysartvCcRy+Dt2myzfOyK1FPLRANy3MfBp5IURz41daqRhOZhV3ZxM3n6ZVEqBaALWCWpaoSbsc3I93DE3L4sjxz3nsufc5dsGPxzAtVN3AkPdID14m0/Uqsu8EtW+70X7wUo8G0X6bRF/7hWY6jiPncKW/MJKLnYimafLm2X6efuki7/UG8ZiWg6rV+ecs7MyFyP4URIx8gxAdo7A0jZFZx8ylsEoitiLjaAdY5d12OEzb4fXTfTx55DzHu28cArW6Tst1OkADKMRukxzp40F4COXeLGZqBUvYwpYe4ihlnJqMsZcFQ8fWVY6ev84zL1/k5OWOoY1S02g0Ddql1TWNvCiSXFsjuZ5AFARc28Y2LWzLxrZt/u1W35dZubfGmSvDvNM1QO/1cTyW7VCqHPB7QsA3Hsc7FiMQ+ZPgdJrB2W0CkRQ3ZzMMzWUIL+dY3a4gSDWKRRm9aSFK+7z1oY9nX/uYEz0BPO2mHLfVsVtPSVzyz3LKO0PP2AN6vtuiZ/Q+vaPt/Q/6b6WZjkssbeZZjG0eWjaavHHmS5544RzvfjLwKPAwSHavRp8vxGB/gAH/CBOjM0xNLROOrBCOJphZTDEfFxB28u3XRq03Oi0/9eKF/wzdR4DivkXU5+Vu1zHmPzvLRvAKyTE/29EJcnfnEdaWqcr72KaBbTtoeoNXTl7l8ec/4O2PvjoE2o6L47gdqFK32MrKbGVKbGZKJNJF1tNFNjJl0mIVUVJQdYt608IwbSzLotsX4ui5a1wNhvkbR9wyQdNn2OgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image4\"\n        title=\"image4\"\n        src=\"/static/1e12acb1d0569a4b5c10eaee0d3d8e95/37523/image4.png\"\n        srcset=\"/static/1e12acb1d0569a4b5c10eaee0d3d8e95/e9ff0/image4.png 180w,\n/static/1e12acb1d0569a4b5c10eaee0d3d8e95/f21e7/image4.png 360w,\n/static/1e12acb1d0569a4b5c10eaee0d3d8e95/37523/image4.png 720w,\n/static/1e12acb1d0569a4b5c10eaee0d3d8e95/302a4/image4.png 1080w,\n/static/1e12acb1d0569a4b5c10eaee0d3d8e95/105d8/image4.png 1170w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"4-jcr-java-content-repository-란\" style=\"position:relative;\"><a href=\"#4-jcr-java-content-repository-%EB%9E%80\" aria-label=\"4 jcr java content repository 란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. JCR (Java Content Repository) 란?</h3>\n<p>JCR은 Contents를 Repository로서 사용하기 위한 Java에서 제공하는 인터페이스라고 정의할 수 있으며,\nJCR은 아래와 같은 트리구조의 저장소로서 Node와 Property로 구성된다.\n/blog/jan/31/title/ 과 같이 url로서 리소스에 접근 가능하다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACbElEQVQ4y52S30sUURTH96/otf+h3oIQgiilMqKkl0DwB0S99eJDD5EUGAhlEFhawVIagRJh4VuQ/RDdfrimrkYluOvPnZ3d2dmZO/fHJ2Z229ZSIw+cOfeee+9nvufeE6NixpjIQ/MmBnFGOimO3qA42oUJStU9/7LYZqCOxs5QB9bNw1i9p8ndbkCX8rsFGqIjgUeQXyOX+QHCqYJ2BQxNLiZwPwyTG3+KmH6BUcH/AX+Va7SKkoWBi1jX9mHfPUP2+n60mysDtdqkdqsfxLZK6o1vrCdGyEy+xP8+8df6TkrLClWALtloZwPj2RQcl6IECViOh/YK6GIW7VqYwNtZYfgRqVdY3XU4j9rJdddRTAxVN4jsElbPUfLxFnI9R3BHuyrl6+2BweIkhXgrmYFL5ONtyK+vy4fC8t0szuPzOMMdFOJtlN7eryjcARiaXZLYRQ+rKKjdZjBb3KHeBKwFx7yxe9jvB3FdF7TC8zzsxDO8N/1oz6EqdRv789VjzvMrlMb6yvclRBRLE4NYw5dRuQV0sIH2V9D+6mYX6xgtwhcFIyOPgFu1QtiN6fUNgtkm5JfjyJmTyJkTNbEROVWH8lerBZhqH4bNGr5YDVRKyfpqBjF/AX+2GTHXgohiKyLVhki1R3OZ6UOtPUEt96OWH2CU91thrUqpFJn0EsFME3LuLHKhvaxq9hQydQ650Iqcby7Pw3zyEPLzQXRgbwOUZaA/VY94twfx8QD+dCN+sh4/2YCfPFYZ1yM+HUSM742i2g6otaGQt5HpXtTiVdTSLeRKHLnyMCpPVkpUy32o9B3UYidqqQetSvwEdYT0LNBCg9EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image3\"\n        title=\"image3\"\n        src=\"/static/d793f1e330910b0077d598dcca2aa1a3/37523/image3.png\"\n        srcset=\"/static/d793f1e330910b0077d598dcca2aa1a3/e9ff0/image3.png 180w,\n/static/d793f1e330910b0077d598dcca2aa1a3/f21e7/image3.png 360w,\n/static/d793f1e330910b0077d598dcca2aa1a3/37523/image3.png 720w,\n/static/d793f1e330910b0077d598dcca2aa1a3/302a4/image3.png 1080w,\n/static/d793f1e330910b0077d598dcca2aa1a3/07a9c/image3.png 1440w,\n/static/d793f1e330910b0077d598dcca2aa1a3/6568d/image3.png 1660w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>JCR의 Node와 Property는 다음과 같은 정보를 지닌다.</p>\n<ul>\n<li>node type\n<ul>\n<li>노드의 타입이 folder인지, file인지, unstructured 인지를 정의한다.</li>\n</ul>\n</li>\n<li>mixin type\n<ul>\n<li>versionable, lockable 과 같은 버전과 잠금 여부에 대한 정보</li>\n</ul>\n</li>\n<li>value property : 1개일 수도 있고 여러 개 일 수 있다.</li>\n<li>child nodes : 자식 노드에 대한 정보를 담고 있다.</li>\n</ul>\n<p>JCR은 RDBMS와 File system의 특징을 모두 가지고 있으며 다른 여러가지 기능을 지원한다.</p>\n<ul>\n<li>RDBMS의 특징인 Transaction, query, 정형 데이터 저장, 무결성</li>\n<li>File system의 특징인 계층구조, 리소스 잠금, 접근 제어</li>\n<li>뿐만 아니라 풀텍스트검색, 버져닝, 비정형데이터 저장 등을 지원한다.</li>\n</ul>\n<br>\n<h2 id=\"aem-설치\" style=\"position:relative;\"><a href=\"#aem-%EC%84%A4%EC%B9%98\" aria-label=\"aem 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AEM 설치</h2>\n<ul>\n<li>\n<p>AEM은 Author와 Publishe라는 것이 있는데, 이에 대해서는 나중에 다룰 것이다.\n지금은 Author와 Publishe는 둘다 AEM 인스턴스이지만, 역할을 나눈 것으로 이해하면 될 것 같다.</p>\n</li>\n<li>\n<p>서버에 Author, Publisher를 설치할 때\ncq-author-p4502.jar, cq-publish-p4503.jar 과 같은 /aem/author/ 또는 /aem/pubilhser 경로에 jar파일을 설치한다.\n이렇게 하면 localhost:4502 에는 Author가 실행되고, localhost:4503에는 publisher가 실행된다.</p>\n</li>\n<li>\n<p>각 인스턴스의 디렉토리에는 위의 jar파일과 함께 license.properties가 존재해야 하며, jar파일은 처음 실행될 때 crx-quickstart라는 디렉토리를 자동으로\n생성하게 된다.</p>\n</li>\n<li>\n<p>jar가 실행되고 crx-quickstart 디렉토리가 생성되었다면 localhost:4502에서 아래와 같이 확인할 수 있다.</p>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOklEQVQoz12RXUiTYRiG368/BZMw2ydGppVrTttmlGauQZSpuECw6CCiP4jwwAgMNcs0KMJ06jeXI39CTYlCSgzppIQOg8iMbGnT0gSx6KigwO294tuGRgc3DzwHF9dzP2L203u+z8/yY2GOr9MTfPH7mJny/TM/LOVzaPcxvNenf5z5GR/f5iaZ8o3inxhD4Ekg4I5n0ROP9KrgNYTTrkJHAnSqyC4V2W2APpVgn8qf3o1w30CwfzMj9TaqTmdy/sh2XOdUhLwloF6ASyA1gXQLZLNANglkiyDoEeAVBPtNLDxystBj4XdfCr96jfi7rbzocvK0PY+hO0Ye3jAi5G0F6VKQmoJsW4m8G4v0rkVqK5A6rEPhp0cwpmXxoKOW4cEBRu6VMlCRwuNqI711e2m77qCuzERrZbYOFMjGiFWzAs1hM9mqEOiMhh7Bs/IYnA4zRYUHKT5cQJHdSF5OBtmZ6VisZkxpyayLiyHOEIeQDRGgK3K2DtMU0AQBbzR0CYYvxnCsOI+Tx0s4WmjHecjBvvwCKq/WcaWmlvKqai5V11By4iwiBGuMdNa0DNS7DGgCOgVDZWvItiaxf3cqdssmtljNpGbl8vLVGG/fjfP6zSiT/mkamlqXDUN2umVL+Dm4BYtuETIcvBDFLvN6Dlg2kJGWQpLVRkL6TvaUlGNL28aOZAOWrYmYkhP/Ay4Z6h2GQ7tgpkXheU0UTyozyD9TSlFFLTm5Nk5lxXLNsZqbuYJ6h+CyfRV/AXlbvlnap3yRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./image1\"\n        title=\"./image1\"\n        src=\"/static/d83e5f5216b453d8688952b57433b655/37523/image1.png\"\n        srcset=\"/static/d83e5f5216b453d8688952b57433b655/e9ff0/image1.png 180w,\n/static/d83e5f5216b453d8688952b57433b655/f21e7/image1.png 360w,\n/static/d83e5f5216b453d8688952b57433b655/37523/image1.png 720w,\n/static/d83e5f5216b453d8688952b57433b655/302a4/image1.png 1080w,\n/static/d83e5f5216b453d8688952b57433b655/07a9c/image1.png 1440w,\n/static/d83e5f5216b453d8688952b57433b655/90eea/image1.png 2254w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<h2 id=\"aem-콘솔의-종류\" style=\"position:relative;\"><a href=\"#aem-%EC%BD%98%EC%86%94%EC%9D%98-%EC%A2%85%EB%A5%98\" aria-label=\"aem 콘솔의 종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AEM 콘솔의 종류</h2>\n<p>AEM 콘솔은 5가지 종류가 있으며 각 콘솔의 경로는 <a href=\"https://localhost:4502/\">https://localhost:4502/</a> 에 각 콘솔의 경로를 추가해주면 접속할 수 있다.</p>\n<ol>\n<li>Admin 콘솔\n: /siteadmin</li>\n<li>CRX 콘솔\n: /crx/explorer/index.jsp</li>\n<li>OSGI management 콘솔\n: /system/console</li>\n<li>CRXDE Lite 콘솔\n<ul>\n<li>경로: /crx/de</li>\n<li>template, component를 생성하는 등 개발자가 사용하는 AEM의 IDE 역할을 한다.</li>\n</ul>\n</li>\n<li>Package 매니저 콘솔\n<ul>\n<li>경로 : /crx/packmgr/index.jsp</li>\n<li>배포 관련하여 패키지를 관리하는 콘솔</li>\n<li>‘Upload package’를 통해 zip파일인 패키지를 업로드할 수 있고, 업로드 되고 나면 install 버튼을 눌러 설치가능하다.</li>\n</ul>\n</li>\n</ol>","frontmatter":{"date":"February 07, 2022","title":"[AEM] Adobe Experience Manager","categories":"WEB","author":"jjunyong","emoji":"🧢"},"fields":{"slug":"/aem1/"}},"site":{"siteMetadata":{"siteUrl":"https://steadyandslow.com","comments":{"utterances":{"repo":"jjunyong/jjunyong.github.io"}}}}},"pageContext":{"slug":"/rest-httpcode-exception/","nextSlug":"/spring-boot-aws-environment/","prevSlug":"/aem1/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}