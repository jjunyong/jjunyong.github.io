{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/error-json-serialize/",
    "result": {"data":{"cur":{"id":"cbd47f43-f6c1-584b-ba41-4fd008565526","html":"<p>Type definition error: [simple type, class stg.onyou.service.CursorResult]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class stg.onyou.service.CursorResult and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: stg.onyou.model.network.Header[â€œdataâ€])â€œ,</p>\n<p>RestControllerì—ì„œ return ì‹œ ê°ì²´ë¥¼ jsonìœ¼ë¡œ serializeí•˜ëŠ”ë°, ì´ ë•Œ ê°ì²´ì˜ ë©¤ë²„ ì¤‘ì— Getterê°€ ì—†ëŠ” ë©¤ë²„ ë³€ìˆ˜ê°€ ìˆì–´ì„œ ë°œìƒí•œ ì—ëŸ¬ì´ë‹¤.</p>\n<p>ê°„ë‹¨í•˜ê²Œ Getterë¥¼ ì§ì ‘ ì„¤ì •í•´ì£¼ê±°ë‚˜,</p>\n<p>ì•„ë‹ˆë©´ @Getter ì–´ë…¸í…Œì´ì…˜ë§Œ ì¶”ê°€í•´ì£¼ë©´ í•´ê²°ëœë‹¤.</p>","excerpt":"Type definition error: [simple type, class stg.onyou.service.CursorResult]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class stg.onyou.service.CursorResult and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: stg.onyou.model.network.Header[â€œdataâ€])â€œ, RestControllerì—ì„œ return ì‹œ ê°ì²´ë¥¼ jsonìœ¼ë¡œ serializeí•˜ëŠ”ë°, ì´ ë•Œ ê°ì²´ì˜ ë©¤ë²„ ì¤‘ì— Getterê°€ ì—†ëŠ” ë©¤ë²„ ë³€ìˆ˜ê°€ ìˆì–´ì„œâ€¦","frontmatter":{"date":"March 27, 2022","title":"[Error] Getterê°€ ì—†ì–´ì„œ ë°œìƒí•˜ëŠ” JSON Serialize ì—ëŸ¬","categories":"Error","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/error-json-serialize/"}},"next":{"id":"82e6428f-f8dc-5910-93fa-96947ef11565","html":"<h2 id=\"1-jpaì—ì„œ-í”„ë¡ì‹œë€-ë¬´ì—‡ì¸ê°€\" style=\"position:relative;\"><a href=\"#1-jpa%EC%97%90%EC%84%9C-%ED%94%84%EB%A1%9D%EC%8B%9C%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80\" aria-label=\"1 jpaì—ì„œ í”„ë¡ì‹œë€ ë¬´ì—‡ì¸ê°€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. JPAì—ì„œ í”„ë¡ì‹œë€ ë¬´ì—‡ì¸ê°€?</h2>\n<h3 id=\"1-emfind-vs-emgetreference\" style=\"position:relative;\"><a href=\"#1-emfind-vs-emgetreference\" aria-label=\"1 emfind vs emgetreference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) em.find vs em.getReference</h3>\n<p>em.findë¥¼ í•˜ê²Œ ë˜ë©´ JPAê°€ ì‹¤ì œ entity ê°ì²´ë¥¼ ë°˜í™˜í•˜ì§€ë§Œ,</p>\n<p>em.getReferenceë¥¼ í•˜ê²Œ ë˜ë©´ DBì¡°íšŒë¥¼ ë¯¸ë£¨ëŠ” â€˜í”„ë¡ì‹œâ€™ entity ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.</p>\n<p>í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ Entity íƒ€ê¹ƒ ê°ì²´ëŠ” ê°€ì§€ê³  ìˆì§€ ì•Šê³ , idê°’ë§Œ ê°€ì§€ê³  ìˆëŠ” ë¹„ì–´ìˆëŠ” ê°ì²´ì´ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVQoz5VS24qDUAz0/3+kfe+z4KLFCxYEi0URBPFFj1WrrXedJYHKsmy7u4EwnJwwkwyRxnHEuq6geOJv8b3v61u6XC4YhmErzPOMZVnQ9z3atgUJ0pt6KOu65roQAmEYIssydF2HsigZJcdx8Hg8WGWaJnieB9u2oSgKFOUDx+MRuq4zJkkC6nddF6ZpYr/b43Q64Xw+M3lRFJCyTPBkt+qGsixRVRV/ENI0hFS/3++IogiqquJwOEDTNBaP4xi0JYkxIRVosr8ErWQYBmRZhmVZ8H0feZ6z6EYYBAGaptnMfZUU5OX1eoUQOXuYpikj+UjENJhERlPjO8L/XID06hR+Oot3GzzzE4D5ZCURMAveAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image1\"\n        title=\"image1\"\n        src=\"/static/835023913ed13c3757f317293e052c76/37523/image1.png\"\n        srcset=\"/static/835023913ed13c3757f317293e052c76/e9ff0/image1.png 180w,\n/static/835023913ed13c3757f317293e052c76/f21e7/image1.png 360w,\n/static/835023913ed13c3757f317293e052c76/37523/image1.png 720w,\n/static/835023913ed13c3757f317293e052c76/612f7/image1.png 773w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ Entityë¥¼ ìƒì†í•´ì„œ ë§Œë“¤ì–´ì§€ë©°, Hibernateê°€ ë‚´ë¶€ì ìœ¼ë¡œ ë§Œë“ ë‹¤.</p>\n<p>ì‹¤ì œ í´ë˜ìŠ¤ì™€ ê²‰ ëª¨ì–‘ì´ ê°™ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œëŠ” ì§„ì§œ ê°ì²´ì¸ì§€ í”„ë¡ì‹œ ê°ì²´ì¸ì§€ êµ¬ë¶„í•˜ì§€ ì•Šê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 338px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 206.1111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAApCAYAAAA1bQl+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAElUlEQVRIx7WXZ09iURCG+a3+Dz/qFxMTTewKxGQt2HUFLNi7AtLE3ksEe6/M5hlzrndR3HWTnWRyuefMmTPtvjM4RESurq4kHA5LNBqTaDSqHIlEJR6PK6+ursrKyoo+l5eXdc3I2fn5+VkcKIzFYpJILMn9/b1cXFzKxcWFbg4MDIjH45FQKCT9/f3S1NQkyaWkHB0dyc3NjVxevsk+Pj7K2NiYpNPpd4UHBweSTePj49LQ0CDV1dVSV1cnxcXFUlJSInt7ex9kg8GgpFKpN4WLi4vS09MjkUhEpqamZGFhQa2amJhQy2ZnZ9WCyclJaW9v130UwPPz8+puc3Pzu4XEJJFI6AEOPj09qRu4nclk9Pn6+iovLy9qDfuGHx4edG1mZkaOj4/fFW6sb8jS0pJsbm5+cAeln/22v2O15TIx3Nra0iCfnJzI7u6uxpTgn5+ff6rIEJZDuG4pxDKUzs3NSWtrq8YTgc7OTi0VCHc5nM0mDJz9LSler9dKxOjoqMZyeHhYlZIo6tQkIhgMqSzMO8ZQXlZSSAhx5GBbW5v4/X7xen3i8/k0q8lkUq0hASQINkkheSYploUo5Eug7rgtlUrLzs6ObGxsqLLb21srZrj4WZIW5m1JwTqSwsLh4aEqwl2UnZ6eytramiaJPdxE9ssso9AUt9PplKGhIWXcJ4a4HgqGpLGxUdfxCEvtLk9PT7/XIe5VVFRIUVGRVFZWSm1trbicLn1WVVVJTU2N5Ofn6+dXVlYm1dU14na79XKXyyV1TqfU19draBzGZG4yNxJ8GLBgH4QJBIbUbd5Zt/Pd3Z0mClKFuYoWAlU6Ojpkbm5eS+srQo/D/MjFEMngO8cak+VcbLmcrcSeQVwicXa5D992xmZhLvON8PX1tUJbrovt5PhTTHIpzEX/V6FdONtlUPmvFdqVAAL257cV2pXlon+2kIN0tLOzM0Vt0y++baGBcYCgsLBQv+G8vDzp7e3VdVrDtyw0CkHpgoICRWyQpbu7W9dp5ibLuVqBibkju+rBPzuYQrjOxPA35DB9Fggjbny3/AZEQRdAE4BlLDF78Pb2trKRZc/69FaWV7SfIECXQwGCuA7e0QFpUnRHWgW8vr6uvLq6JtvbOzph0HJVIQEns9kEINBWAVZiWl5erihuYp4tayE28M8N9BAzmgHzpn329fVJS0uLdHV1KYKzRjN7G/siCsBcZLVRFmGySczY4EmCmCRYZ4Y0zBoy6fSJylGn9BqrSXETtwDj9AU7tIPYHKAWjULeDbNOUmnBlkJcoLHPzszq5ECXowZ//uwVt8utLZVLCU04vKjy/IZDobCGx+NpkVTq2Mw2Sc3syMiIBp8CHxsbVzeI7f7+/h/rj0t+G+cohbepIaVuUFtMX8TK9F6IQ8TUzI24CzGUvo8i8YQWNXXFjGJCQFyI7cTEpD6ZsDj42QxJUi0LY7G4AkNpaanO0Gako5nT5Ftb28Tb69VZ+8ePBi0j4mb+LXAZQ5VVNhS13+dXJSRgcHBQPzWaeyAQkMHBgL6zR0xR6Pf36ZTGk35tRmnHV1D0fcrILzMgyWew/71eAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image2\"\n        title=\"image2\"\n        src=\"/static/a7e3860d5829674a4505da8f3c996663/2b41d/image2.png\"\n        srcset=\"/static/a7e3860d5829674a4505da8f3c996663/e9ff0/image2.png 180w,\n/static/a7e3860d5829674a4505da8f3c996663/2b41d/image2.png 338w\"\n        sizes=\"(max-width: 338px) 100vw, 338px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ ê°ì²´ì˜ ì°¸ì¡°(target)ë¥¼ ë³´ê´€í•˜ê³ , í”„ë¡ì‹œ ê°ì²´ë¥¼ í˜¸ì¶œí•˜ë©´ í”„ë¡ì‹œ ê°ì²´ëŠ” ì‹¤ì œ ê°ì²´ì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•œë‹¤.</p>\n<br>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">\b<span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">getReference</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"id1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmembmer<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>ì´ë ‡ê²Œ í˜¸ì¶œì„ í•œë‹¤ê³  ìƒê°í•´ë³´ì.</p>\n<p>getName í˜¸ì¶œí•˜ê²Œ ë˜ë©´ MemberProxyê°ì²´ì— targetì´ ì—†ê¸° ë•Œë¬¸ì— JPAê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì§„ì§œ Memberê°ì²´ ê°€ì ¸ì˜¤ë¼ê³  ì´ˆê¸°í™” ìš”ì²­ì„ í•˜ê²Œ ë˜ê³ , ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” DBë¥¼ ì¡°íšŒí•´ì„œ ì‹¤ì œ Member ì—”í‹°í‹° ê°ì²´ë¥¼ ìƒì„±í•´ì¤€ë‹¤.</p>\n<p>ê·¸ë¦¬ê³  Proxyì™€ ì§„ì§œ ê°ì²´ë¥¼ ì—°ê²°í•´ì£¼ì–´ getName()ì„ í–ˆì„ ë•Œ target.getName()ì„ í†µí•´ì„œ ì§„ì§œ ì—”í‹°í‹° ê°ì²´ë¡œë¶€í„° ê°’ì„ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABF0lEQVQY031Ry4qDUAz1/z9kunDXZUGwGx0tdLS2UopvLdVW+1DEtj7OkAwOMosJhJtLTpKTE6Hve0xt/D+fT3ieh+PxiCzLcLlccD6fUdc1hmFA27Z4v994vV6/cdd1EMqyRBAEME0TaZrier3idrsxiBqSR1EEx3EY1zQNYyg+HA4QRRGapnGt7/sQFEXBcrnE7GOG+XyOMAzhui43HI0YTV8aYFkWHo8SRVEwgaqqkCQJBFmWIUkS9vs9NpsN8jxnVgQkJn+dirfbLVT1E7qusxQkD+XiOP5hqKoqg4Ig5OTpdMJ/RkMXiwVvRlLRVvf7nZkLu92OtaDXtm1el9iNK059PBixXK1WMAwD6/UXDMNk/eiA30ASvJtRl37AAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image3\"\n        title=\"image3\"\n        src=\"/static/d89fd057014a0a8083cf8726068048f8/37523/image3.png\"\n        srcset=\"/static/d89fd057014a0a8083cf8726068048f8/e9ff0/image3.png 180w,\n/static/d89fd057014a0a8083cf8726068048f8/f21e7/image3.png 360w,\n/static/d89fd057014a0a8083cf8726068048f8/37523/image3.png 720w,\n/static/d89fd057014a0a8083cf8726068048f8/612f7/image3.png 773w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"2-proxy-ê°ì²´ì˜-íŠ¹ì§•\" style=\"position:relative;\"><a href=\"#2-proxy-%EA%B0%9D%EC%B2%B4%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-label=\"2 proxy ê°ì²´ì˜ íŠ¹ì§• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Proxy ê°ì²´ì˜ íŠ¹ì§•</h2>\n<p>(1) í”„ë¡ì‹œ ê°ì²´ëŠ” ì²˜ìŒ ì‚¬ìš©í•  ë•Œ í•œ ë²ˆë§Œ ì´ˆê¸°í™” ëœë‹¤.</p>\n<p>(2) í”„ë¡ì‹œ ê°ì²´ê°€ ì‹¤ì œ entityë¡œ ë°”ë€ŒëŠ”ê²Œ ì•„ë‹ˆë¼ í”„ë¡ì‹œ ê°ì²´ë¥¼ í†µí•´ ì‹¤ì œ entityë¡œ ì ‘ê·¼í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.</p>\n<p>(3) í”„ë¡ì‹œ ê°ì²´ëŠ” ì›ë³¸ ì—”í‹°í‹°ë¥¼ ìƒì†ë°›ì€ ê°ì²´ê¸° ë•Œë¬¸ì— íƒ€ì… ë¹„êµ ì‹œì— â€™==â€™ ëŒ€ì‹  â€˜instance ofâ€™ë¥¼ ì‚¬ìš©í•œë‹¤.</p>\n<ul>\n<li>JPAì—ì„œ íƒ€ì… ë¹„êµì‹œ instance of ì‚¬ìš©ì„ ê¶Œì¥í•˜ëŠ” ì´ìœ ì„</li>\n</ul>\n<p>(4) ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì°¾ëŠ” ì—”í‹°í‹°ê°€ ì´ë¯¸ ì¡´ì¬í•œë‹¤ë©´, em.getReference í˜¸ì¶œ ì‹œì—ë„ ì‹¤ì œ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•œë‹¤.</p>\n<ul>\n<li>\n<p>ë°˜ëŒ€ë¡œ, ì´ë¯¸ getReferenceë¡œ ë°˜í™˜í–ˆë‹¤ë©´ ë™ì¼í•œ idë¡œ findë¥¼ í•´ë„ proxyê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.</p>\n</li>\n<li>\n<p>JPAì—ì„œëŠ” ë™ì¼í•œ ë°ì´í„°ì— ëŒ€í•´ì„œ â€™==â€™ ë¹„êµë¥¼ trueë¡œ í•´ì£¼ëŠ” ê²ƒì´ ë³´ì¥ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>\n</li>\n</ul>\n<p>(5) ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë„ì›€ì„ ë°›ì„ ìˆ˜ ì—†ëŠ” ì¤€ì˜ì† ìƒíƒœì¼ ë•Œ í”„ë¡ì‹œë¥¼ ì´ˆê¸°í™” ì‹œì— ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.(ì¢…ì¢… ë°œìƒ!)</p>\n<ul>\n<li>org.hibernate.LazyInitializationException</li>\n</ul>\n<p>â€‹</p>\n<h2 id=\"3-í”„ë¡ì‹œ-í™•ì¸\" style=\"position:relative;\"><a href=\"#3-%ED%94%84%EB%A1%9D%EC%8B%9C-%ED%99%95%EC%9D%B8\" aria-label=\"3 í”„ë¡ì‹œ í™•ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. í”„ë¡ì‹œ í™•ì¸</h2>\n<p>(1) í”„ë¡ì‹œ ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ì—¬ë¶€ í™•ì¸</p>\n<ul>\n<li>PersistenceUnitUtil.isLoaded(entity)</li>\n</ul>\n<p>(2) í”„ë¡ì‹œ í´ë˜ìŠ¤ í™•ì¸ ë°©ë²•</p>\n<ul>\n<li>entity.getClass()í•´ì„œ ì°ì–´ë´ì•¼ í•¨</li>\n</ul>\n<p>(3) í”„ë¡ì‹œ ê°•ì œì´ˆê¸°í™”</p>\n<ul>\n<li>\n<p>Hibernate.initialize(entity) // JPA í‘œì¤€ì—ëŠ” ì—†ìŒ</p>\n</li>\n<li>\n<p>entity.getUserName() ì´ëŸ°ì‹ìœ¼ë¡œ ì‹¤ì œ entityì˜ ë©¤ë²„ê°’ì„ í˜¸ì¶œí•˜ë©´ ê°•ì œ ì´ˆê¸°í™” ë¨.</p>\n</li>\n</ul>\n<hr>\n<p>ê·¸ë¦¬ê³  ì´ë ‡ê²Œ JPAì˜ Proxyì— ëŒ€í•´  ì„¤ëª…í•œ ê²ƒì€ ì¦‰ì‹œë¡œë”©ê³¼ ì§€ì—°ë¡œë”©ì— ëŒ€í•´ì„œ ì´í•´í•˜ê¸° ìœ„í•¨ì´ë‹¤.</p>\n<h2 id=\"4-ì§€ì—°-ë¡œë”©lazy-loading\" style=\"position:relative;\"><a href=\"#4-%EC%A7%80%EC%97%B0-%EB%A1%9C%EB%94%A9lazy-loading\" aria-label=\"4 ì§€ì—° ë¡œë”©lazy loading permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. ì§€ì—° ë¡œë”©(Lazy loading)</h2>\n<p>ì§€ì—°ë¡œë”©ì„ ì‚¬ìš©í•´ì„œ Team ì—”í‹°í‹°ì— ëŒ€í•´ì„œ ManyToOne ë§¤í•‘ì„ í•œë‹¤ê³  í•˜ë©´, ì•„ë˜ì™€ ê°™ì´ FetchTypeì„ Lazyë¡œ ì„¤ì •í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToOne</span><span class=\"token punctuation\">(</span>fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>LAZY<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> team_id<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Team</span> team<span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê·¸ëŸ¬ë©´ JPAì—ì„œ memberë¥¼ findí–ˆì„ ë•Œ member í…Œì´ë¸”ë§Œ select í•´ ì˜¨ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Member</span> m <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> member<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// member í…Œì´ë¸”ë§Œ select</span></code></pre></div>\n<p>ì•„ë˜ë¥¼ ì‹¤í–‰í•˜ë©´ Team í”„ë¡ì‹œ ê°ì²´ë¥¼ ë°˜í™˜í•¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"m=\"</span><span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">.</span><span class=\"token function\">getTeam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì•„ë˜ì™€ ê°™ì´ Team ì—”í‹°í‹°ì˜ ì‹¤ì œ ê°’ì„ ì¡°íšŒì˜¤ê³ ì í•  ë•Œ ê·¸ ì‹œì ì— JPAì—ì„œ Team í…Œì´ë¸”ì— ëŒ€í•œ select ì¿¼ë¦¬ë¥¼ ë‚ ë ¤ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•´ì˜¨ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">m<span class=\"token punctuation\">.</span><span class=\"token function\">getTeam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ì´ ì‹œì ì— select ì¿¼ë¦¬ ë‚ ë¦¼ </span></code></pre></div>\n<p>ì •ë¦¬í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABa0lEQVQ4y42TW4+CMBCF+/9/kMojL75qIg8uoHEBo1y9goDi2ZxJuul2zbqTDCV05sw306JutxvKsoRtj8cD5/MZp9NJVsY9n88fMff7XXKjKMJut8PlcoHiY71eS3Ce59hsPpFlGVarFRzHgTNxMBqNsFwukaYpttst4jgWAd/3EQQBPM9DGIayr7quQ1VV6PteaOh1XWM+n2M8HstKcVIURSEUOoYg0+lUCjCfIIrtsKptbGWxWCAIQiRJImJ2y2VZwXVdzGYzod3vUyjOQc/HdNr1epUxJHGC4/Eo3/T+MAxCyn2SEUAIzYqmmE6isyi74GhYvGkaIaZI27ZSmN+5KpvKfqcxmImHw0GI6JxZ09RS0DRlz+6VMIn0geV5Ia1x9izA62XG/xJ8JU4KJrNNTUfnDbG7+VPQDGTLpPI//O8DsmPeCtrV2TIvL68RCV/FvBU0E0jGtjlDW/BfhLYo/w7OkKL6dG3BLxE/7cvtiDCAAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image4\"\n        title=\"image4\"\n        src=\"/static/1845d59f1268873ac620a122fd487dab/37523/image4.png\"\n        srcset=\"/static/1845d59f1268873ac620a122fd487dab/e9ff0/image4.png 180w,\n/static/1845d59f1268873ac620a122fd487dab/f21e7/image4.png 360w,\n/static/1845d59f1268873ac620a122fd487dab/37523/image4.png 720w,\n/static/1845d59f1268873ac620a122fd487dab/612f7/image4.png 773w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ë§Œì•½ì— Memberì™€ Teamì„ í•­ìƒ ê°™ì´ ì¡°íšŒì‹œí‚¨ë‹¤ë©´ ì§€ì—°ë¡œë”©ì´ ì•„ë‹Œ ì¦‰ì‹œ ë¡œë”©ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë‚«ë‹¤.</p>\n<h2 id=\"5-ì¦‰ì‹œ-ë¡œë”©-eager-loading\" style=\"position:relative;\"><a href=\"#5-%EC%A6%89%EC%8B%9C-%EB%A1%9C%EB%94%A9-eager-loading\" aria-label=\"5 ì¦‰ì‹œ ë¡œë”© eager loading permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. ì¦‰ì‹œ ë¡œë”© (Eager loading)</h2>\n<p>ì¦‰ì‹œ ë¡œë”©ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ManyToOneì˜ fetchtypeì„ EAGERë¡œ ì„¤ì •ë§Œ í•´ì£¼ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@ManyToOne</span><span class=\"token punctuation\">(</span>fetch <span class=\"token operator\">=</span> <span class=\"token class-name\">FetchType</span><span class=\"token punctuation\">.</span>EAGER<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> team_id<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Team</span> team<span class=\"token punctuation\">;</span> \n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë ‡ê²Œ í•˜ë©´ em.find(member) í•˜ë©´ Memberì™€ Teamì— ëŒ€í•œ ë°ì´í„°ë¥¼ ì¡°ì¸í•´ì„œ í•œ ë²ˆì— ë‹¤ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤. ê·¸ë˜ì„œ proxyê°ì²´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ ëœë‹¤.</p>\n<h2 id=\"6-ì‹¤ë¬´ì—ì„œ-ì§€ì—°ë¡œë”©ë§Œ-ì“°ëŠ”-ì´ìœ \" style=\"position:relative;\"><a href=\"#6-%EC%8B%A4%EB%AC%B4%EC%97%90%EC%84%9C-%EC%A7%80%EC%97%B0%EB%A1%9C%EB%94%A9%EB%A7%8C-%EC%93%B0%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"6 ì‹¤ë¬´ì—ì„œ ì§€ì—°ë¡œë”©ë§Œ ì“°ëŠ” ì´ìœ  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. ì‹¤ë¬´ì—ì„œ ì§€ì—°ë¡œë”©ë§Œ ì“°ëŠ” ì´ìœ </h2>\n<h3 id=\"1-ì¦‰ì‹œ-ë¡œë”©ì„-ì‚¬ìš©í•˜ë©´-ì „í˜€-ì˜ˆìƒí• -ìˆ˜-ì—†ëŠ”-sqlì´-ë°œìƒí•œë‹¤\" style=\"position:relative;\"><a href=\"#1-%EC%A6%89%EC%8B%9C-%EB%A1%9C%EB%94%A9%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B4-%EC%A0%84%ED%98%80-%EC%98%88%EC%83%81%ED%95%A0-%EC%88%98-%EC%97%86%EB%8A%94-sql%EC%9D%B4-%EB%B0%9C%EC%83%9D%ED%95%9C%EB%8B%A4\" aria-label=\"1 ì¦‰ì‹œ ë¡œë”©ì„ ì‚¬ìš©í•˜ë©´ ì „í˜€ ì˜ˆìƒí•  ìˆ˜ ì—†ëŠ” sqlì´ ë°œìƒí•œë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) ì¦‰ì‹œ ë¡œë”©ì„ ì‚¬ìš©í•˜ë©´ ì „í˜€ ì˜ˆìƒí•  ìˆ˜ ì—†ëŠ” SQLì´ ë°œìƒí•œë‹¤.</h3>\n<p>1,2ê°œ ì¡°ì¸í•œë‹¤ê³  í•´ì„œ ë¬¸ì œê°€ ì—†ì§€ë§Œ, ëª¨ë‘ EAGERë¡œ ë˜ì–´ ìˆê³  5ê°œ í…Œì´ë¸”ì´ ì—°ê²°ë˜ì–´ ìˆë‹¤ê³  ìƒê°í•˜ë©´ findì‹œ ì¡°ì¸ì´ 5ê°œ~10ê°œ í…Œì´ë¸”ì´ í•œêº¼ë²ˆì— ë¶ˆëŸ¬ì˜¤ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</p>\n<h3 id=\"2-ì¦‰ì‹œ-ë¡œë”©ì€-jpqlì—ì„œ-n1-ë¬¸ì œë¥¼-ì¼ìœ¼í‚¨ë‹¤\" style=\"position:relative;\"><a href=\"#2-%EC%A6%89%EC%8B%9C-%EB%A1%9C%EB%94%A9%EC%9D%80-jpql%EC%97%90%EC%84%9C-n1-%EB%AC%B8%EC%A0%9C%EB%A5%BC-%EC%9D%BC%EC%9C%BC%ED%82%A8%EB%8B%A4\" aria-label=\"2 ì¦‰ì‹œ ë¡œë”©ì€ jpqlì—ì„œ n1 ë¬¸ì œë¥¼ ì¼ìœ¼í‚¨ë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) ì¦‰ì‹œ ë¡œë”©ì€ JPQLì—ì„œ N+1 ë¬¸ì œë¥¼ ì¼ìœ¼í‚¨ë‹¤.</h3>\n<p>N+1 ë¬¸ì œëŠ” ì¿¼ë¦¬ë¥¼ 1ê°œ ë‚ ë ¸ëŠ”ë° ê·¸ì— ë”°ë¥¸ ë”°ë¥¸ ì¿¼ë¦¬ë¥¼ ì²˜ìŒ ë‚ ë¦° ì¿¼ë¦¬ì˜ ë°ì´í„° ê°œìˆ˜ì¸ Nê°œ ë§Œí¼ ë” ì‹¤í–‰ì‹œì¼œì•¼ í•˜ëŠ” ë¬¸ì œì´ë‹¤. ì˜ˆì»¨ëŒ€ EAGERë¡œ Teamì„ ì„¤ì • í›„, JPQLì„ í†µí•´ memberë¥¼ ì¡°íšŒí•´ì˜¨ë‹¤ê³  í•´ë³´ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Members</span><span class=\"token punctuation\">></span></span> members <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m from Member m\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ê·¸ëŸ¬ë©´ select * from member ì¿¼ë¦¬ê°€ ì²˜ìŒì— 1ë²ˆ í˜¸ì¶œë˜ê²Œ ë  ê²ƒì´ê³ ,</p>\n<p>ë¶ˆëŸ¬ì™€ë†“ê³  ë³´ë‹ˆ teamì´ EAGERë¡œ ì„¤ì •ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, member ê°ê°ì— ëŒ€í•´ì„œ team ë°ì´í„°ë¥¼ ë‹¤ ê°€ì§€ê³  ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ memberê°ê°ì— ì„¤ì •ëœ team ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ SQLë¬¸ì´ Në²ˆ í˜¸ì¶œë˜ê²Œ ëœë‹¤ëŠ” ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">from</span> team <span class=\"token keyword\">where</span> team_id <span class=\"token operator\">=</span> ?</code></pre></div>\n<p>ê·¸ë˜ì„œ Memberì™€ Teamì„ í•­ìƒ ê°™ì´ ì¡°íšŒí•´ì˜¨ë‹¤ê³  í•˜ë”ë¼ë„ ê·¸ëƒ¥ fetchTypeì€ LAZYë¡œ í•´ë‘ê³ , JPQLì—ì„œ fetch join ê°™ì€ ê±¸ ì•„ë˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Members</span><span class=\"token punctuation\">></span></span> members <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m from Member m join fetch m.team\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>ë”°ë¼ì„œ ManyToOne, OneToOne ì€ ê¸°ë³¸ì´ EAGERì´ë¯€ë¡œ í•­ìƒ LAZYë¡œ ì„¤ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.</p>\n<hr>\n<h3 id=\"ì°¸ê³ ìë£Œ\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"ì°¸ê³ ìë£Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³ ìë£Œ</h3>\n<ul>\n<li><a href=\"https://www.inflearn.com/course/ORM-JPA-Basic\">https://www.inflearn.com/course/ORM-JPA-Basic</a></li>\n</ul>","frontmatter":{"date":"March 24, 2022","title":"[JPA] 8. JPAí”„ë¡ì‹œì™€ ì§€ì—°ë¡œë”©(Lazy Loading)ê³¼ ì¦‰ì‹œë¡œë”©(Eager Loading)","categories":"Spring","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/jpa8/"}},"prev":{"id":"9d8e16d7-8f70-50bd-95f5-e78ca41b648f","html":"<p>ìš´ì˜í•˜ëŠ” ì‚¬ì´íŠ¸ì—ì„œ ë©”ì¼ì—”ì§„ ì†”ë£¨ì…˜ì„ ì‚¬ìš© ì¤‘ì¸ë° ë©”ì¼ì—”ì§„ì´ mail_queueë¼ëŠ” í…Œì´ë¸”ì—ì„œ ë°ì´í„°ë¥¼ ê¸ì–´ê°€ì„œ\në©”ì¼ì„ ì¼ê´„ ë°œì†¡í•˜ëŠ” ë°©ì‹ì´ë‹¤.</p>\n<p>ê·¸ëŸ°ë° ê°‘ìê¸° ì‚¬ì´íŠ¸ì— ì¥ì• ê°€ ë°œìƒí•´ì„œ mail_queue í…Œì´ë¸”ì— ë°ì´í„°ê°€ insertë˜ì§€ ì•ŠëŠ” ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.\nì—ëŸ¬ì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ì•˜ë‹¤.\n<br></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">JDBC-5074: Given String does not represent a number in proper format. </code></pre></div>\n<br>\n<p>ì´ ë¬¸ì œë¥¼ êµ¬ê¸€ë§ í•´ë³´ë‹ˆ tiberoì—ì„œ ìë™ í˜•ë³€í™˜ì„ ì§€ì›í•˜ì§€ ì•Šì•„ì„œ NUMBERì¸ ì»¬ëŸ¼ì— stringì„ insert ì‹œë„í•˜ëŠ” ê²ƒì´ ë¬¸ì œë¼ê³  í•˜ëŠ”ë°,\në­”ê°€ ë‚´ ê²½ìš°ë‘ ë§ì§€ ì•ŠëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì˜€ë‹¤.</p>\n<p>ê·¸ë¦¬ê³  ë¡œì»¬ì—ì„œ, ê°œë°œì„œë²„ì—ì„œë„ í•´ë‹¹ ì—ëŸ¬ê°€ ì¬í˜„ë˜ì§€ ì•Šê³  ë””ë²„ê¹…ì„ ì°ì–´ë³´ì•„ë„ insertë˜ëŠ” ë°ì´í„°ëŠ” ì •ìƒì´ì—ˆë‹¤.</p>\n<p>ë¬¸ì œëŠ” ë°”ë¡œ INSERTë¥¼ ìˆ˜í–‰í•˜ê¸° ì „ key ê°’ì„ sqlë¡œ ì±„ë²ˆí•˜ëŠ” ê²ƒì´ì—ˆë‹¤.\nmail_queue í…Œì´ë¸”ì˜ PKì¸ ë©”ì¼ id( mail_id )ê°’ì„ ê¸°ì¡´ì˜ í…Œì´ë¸”ì˜ midê°’ ì¤‘ maxê°’ì„ ë¶ˆëŸ¬ì™€ ì—¬ê¸°ì— 1ì„ ë”í•œ ë’¤ì— insertí•˜ëŠ” ë°,\nDBì˜ midê°’ì— íŠ¹ìˆ˜ê¸°í˜¸ê°€ ë“¤ì–´ìˆë˜ ê²ƒì´ ë¬¸ì œì˜€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token operator\">&lt;</span>selectKey resultType<span class=\"token operator\">=</span><span class=\"token string\">\"String\"</span> keyProperty<span class=\"token operator\">=</span><span class=\"token string\">\"mail_id\"</span> <span class=\"token keyword\">order</span><span class=\"token operator\">=</span><span class=\"token string\">\"BEFORE\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token punctuation\">[</span>CDATA<span class=\"token punctuation\">[</span>\n<span class=\"token keyword\">SELECT</span> DECODE<span class=\"token punctuation\">(</span>\n<span class=\"token function\">MAX</span><span class=\"token punctuation\">(</span>mail_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span>\nTO_CHAR<span class=\"token punctuation\">(</span>SYSDATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYYMMDD'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">'00001'</span><span class=\"token punctuation\">,</span>\nTO_CHAR<span class=\"token punctuation\">(</span>TO_CHAR<span class=\"token punctuation\">(</span>SYSDATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYYMMDD'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> LPAD<span class=\"token punctuation\">(</span>TO_NUMBER<span class=\"token punctuation\">(</span>SUBSTR<span class=\"token punctuation\">(</span><span class=\"token function\">MAX</span><span class=\"token punctuation\">(</span>mail_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span>  mail_id\n<span class=\"token keyword\">FROM</span> mail_queue\n<span class=\"token keyword\">WHERE</span> TO_CHAR<span class=\"token punctuation\">(</span>sdate<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYYMMDD'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> TO_CHAR<span class=\"token punctuation\">(</span>SYSDATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYYMMDD'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>selectKey<span class=\"token operator\">></span></code></pre></div>\n<p>ìˆ˜ë™ìœ¼ë¡œ DBì— ë©”ì¼ ë°ì´í„°ë¥¼ ìƒì„±í•´ ë„£ì—ˆë˜ ê²ƒì´ ë¬¸ì œì˜€ë˜ ê²ƒì´ë‹¤.</p>\n<p>ë‹¨ìˆœí•œ ì—ëŸ¬ì´ì§€ë§Œ ë¡œì»¬/ê°œë°œì„œë²„ì—ì„œ ì¬í˜„ë˜ì§€ ì•Šì•˜ë˜ ê²ƒì´ ë‹¹í™©ìŠ¤ëŸ¬ì› ëŠ”ë°,,</p>\n<ul>\n<li>INSERT í•˜ê¸° ì „ì— ì±„ë²ˆì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ì ,</li>\n<li>ë¡œì§ì´ ì•„ë‹Œ dataê°€ ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤ëŠ” ì </li>\n</ul>\n<p>ì„ ê¸°ì–µí•´ì•¼ ê² ë‹¤. ë.</p>","frontmatter":{"date":"March 28, 2022","title":"[Error] insertì‹œ select key í›„ inesrtë¡œ ì¸í•œ ì—ëŸ¬ ë°œìƒ ì¡°ì¹˜ (JDBC-5074: Given String does not represent a number in proper format)","categories":"Error","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/error-insert/"}},"site":{"siteMetadata":{"siteUrl":"https://jjunyong.github.io","comments":{"utterances":{"repo":"jjunyong/jjunyong.github.io"}}}}},"pageContext":{"slug":"/error-json-serialize/","nextSlug":"/jpa8/","prevSlug":"/error-insert/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}