{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/on-premise7/",
    "result": {"data":{"cur":{"id":"126123b5-2406-51f1-a2ed-b243f2987459","html":"<h2 id=\"redis-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#redis-%EC%84%A4%EC%B9%98\" aria-label=\"redis ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redis ì„¤ì¹˜</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> epel-release <span class=\"token comment\"># EPEL ì €ì¥ì†Œ ì„¤ì¹˜ </span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> https://rpms.remirepo.net/enterprise/remi-release-7.rpm <span class=\"token comment\">#Remi ì €ì¥ì†Œ ì„¤ì¹˜</span>\n<span class=\"token function\">sudo</span> yum update \n<span class=\"token function\">sudo</span> yum --enablerepo<span class=\"token operator\">=</span>remi <span class=\"token function\">install</span> redis  <span class=\"token comment\"># Redis íŒ¨í‚¤ì§€ ì„¤ì¹˜ </span></code></pre></div>\n<p>remmi repoë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ê·¸ëƒ¥ yum installí•˜ê²Œ ë˜ë©´ redis3ë²„ì „ì´ latestì´ë¯€ë¡œ ë°˜ë“œì‹œ remi repoë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</p>\n<h2 id=\"redis-ì‹¤í–‰\" style=\"position:relative;\"><a href=\"#redis-%EC%8B%A4%ED%96%89\" aria-label=\"redis ì‹¤í–‰ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redis ì‹¤í–‰</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> systemctl start redis <span class=\"token comment\"># Redis ì‹¤í–‰</span>\n<span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> redis <span class=\"token comment\"># ë¶€íŒ… ì‹œ ì‹œì‘ë˜ë„ë¡ ì„¤ì • </span></code></pre></div>\n<h2 id=\"redis-êµ¬ì¶•\" style=\"position:relative;\"><a href=\"#redis-%EA%B5%AC%EC%B6%95\" aria-label=\"redis êµ¬ì¶• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redis êµ¬ì¶•</h2>\n<h2 id=\"ê°œë°œê³„-redis-ì„¤ì •\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%B0%9C%EA%B3%84-redis-%EC%84%A4%EC%A0%95\" aria-label=\"ê°œë°œê³„ redis ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°œë°œê³„ Redis ì„¤ì •</h2>\n<p>redisë¥¼ ì„¤ì¹˜í•œ í˜„ ìƒíƒœì—ì„œëŠ” systemctl ëª…ë ¹ì–´ë¡œ ë‹¨ì¼ â€˜redisâ€™ ì„œë¹„ìŠ¤ë§Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ë‚˜ëŠ” ê°œë°œê³„ìš© redisdev serviceë¶€í„° ìš´ì˜ìš© redis1, redis2, redis3 serviceë¥¼ ê´€ë¦¬í•˜ê³  ì‹¶ì€ ìƒí™©ì´ë‹¤.\në”°ë¼ì„œ ìµœì´ˆì— ì‹¤í–‰ í•œ redisë¥¼ redisdevë¼ëŠ” ì„œë¹„ìŠ¤ë¡œ ë„ìš°ê³ , ê´€ë ¨ëœ ì„¤ì •ë„ ìˆ˜ì •í•˜ê³ ì í•œë‹¤.</p>\n<ul>\n<li>ê¸°ì¡´ì— ì‹¤í–‰ë˜ê³  ìˆëŠ” redis serviceë¥¼ ë‚´ë¦°ë‹¤. <code class=\"language-text\">systemctl stop redis</code></li>\n<li>/usr/lib/systemd/system/redis.service -> redisdev.serviceë¡œ ëª…ì¹­ ë³€ê²½</li>\n<li>/etc/redis.confì˜ ì´ë¦„ì„ redisdev.confë¡œ ë³€ê²½í•˜ê³ , í•´ë‹¹ íŒŒì¼ ë‚´ì— redis ê´€ë ¨ëœ pathë¥¼ ë³€ê²½í•œë‹¤. ë³€ê²½ í•œ ê²½ë¡œì˜ ë””ë ‰í† ë¦¬ëŠ” ë°˜ë“œì‹œ ìƒì„±í•´ì£¼ì–´ì•¼ í•  ë¿ë§Œ ì•„ë‹ˆë¼ ê¶Œí•œ ë˜í•œ redis ê³„ì •ì´ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ <strong>chownì„ ì´ìš©í•˜ì—¬ ë°˜ë“œì‹œ redis ê³„ì •ì˜ ê¶Œí•œìœ¼ë¡œ ë³€ê²½í•´ì£¼ì–´ì•¼ í•œë‹¤.</strong>\n<ul>\n<li>log íŒŒì¼ ì €ì¥ dir ë³€ê²½ : /var/log/redis/redis.log -> /var/log/redis/dev/redis.log</li>\n<li>redis data dir ë³€ê²½ : /var/lib/redis -> /var/lib/redis/dev</li>\n</ul>\n</li>\n<li>redisdev.service ë¥¼ í¸ì§‘í•˜ì—¬ /etc/redis.confê°€ ì•„ë‹Œ /etc/redisdev.confë¥¼ ì°¸ì¡°í•˜ì—¬ redisë¥¼ ì‹¤í–‰ í•˜ë„ë¡ ì„¤ì •í•œë‹¤.</li>\n<li><code class=\"language-text\">systemctl daemon-reload</code> í•˜ì—¬ ë³€ê²½ì‚¬í•­ì´ ì ìš©ë˜ë„ë¡ í•˜ê³ , <code class=\"language-text\">systemctl start redisdev</code> ë¥¼ ì‹¤í–‰í•˜ì—¬ ë³€ê²½ëœ ì„¤ì •ìœ¼ë¡œ ê°œë°œìš© redisê°€ ì •ìƒ ê¸°ë™ í•˜ëŠ” ì§€ë¥¼ í™•ì¸í•œë‹¤.\n<ul>\n<li>logì™€ dump.rdbíŒŒì¼ ìƒì„± í™•ì¸ : dump.rdbíŒŒì¼ ìƒì„± í™•ì¸í•˜ë ¤ë©´ ë‹¤ì‹œ ì¬ê¸°ë™ í•´ë³´ë©´ ëœë‹¤.</li>\n</ul>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAqklEQVQY04WP0Q7DIAhFTVq1faiigjrb7v//8i6ypa97OIEEOIAhTjjPE9IERRhcGa039N7RWsNrDOScEYmwbRtWa2GtxbquyrIsT26MgaGccF83eAh4MORd0a8OZlERUUKMhJRmjDiOQ3HOwXn3jc7Be/8VWuuw77s2l1JUMmVTFELUxnnFvEoH/jFFIQQwMwozRAS1VkitICLN5+siVWtzoVKK1p5Xf3wALZBbq8rcCXQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image.png\"\n        title=\"image.png\"\n        src=\"/static/e708adec869090a07032a691d04eeb00/37523/image.png\"\n        srcset=\"/static/e708adec869090a07032a691d04eeb00/e9ff0/image.png 180w,\n/static/e708adec869090a07032a691d04eeb00/f21e7/image.png 360w,\n/static/e708adec869090a07032a691d04eeb00/37523/image.png 720w,\n/static/e708adec869090a07032a691d04eeb00/302a4/image.png 1080w,\n/static/e708adec869090a07032a691d04eeb00/07a9c/image.png 1440w,\n/static/e708adec869090a07032a691d04eeb00/7575b/image.png 1608w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></li>\n</ul>\n<h3 id=\"ê°œë°œê³„-redis-ë°ì´í„°-ì´ê´€\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%B0%9C%EA%B3%84-redis-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%9D%B4%EA%B4%80\" aria-label=\"ê°œë°œê³„ redis ë°ì´í„° ì´ê´€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê°œë°œê³„ Redis ë°ì´í„° ì´ê´€</h3>\n<ul>\n<li>ê¸°ì¡´ redis ì„œë²„ì— redis-clië¡œ ì ‘ì†í•˜ì—¬ â€˜SAVEâ€™ë¼ëŠ” ëª…ë ¹ì„ ì…ë ¥í•˜ë©´ redisì˜ ë°ì´í„° ë””ë ‰í† ë¦¬ì— dump.rdbë¼ëŠ” íŒŒì¼ì´ ì €ì¥ëœë‹¤.\n<ul>\n<li>redisì˜ ë°ì´í„° ë””ë ‰í† ë¦¬ëŠ” redis.confì—ì„œ â€˜dir /pathâ€™ í˜•íƒœë¡œ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.</li>\n</ul>\n</li>\n<li>ë¤í”„ ëœ¬ dump.rdbíŒŒì¼ì„ ì´ê´€ ëŒ€ìƒì˜ redis ì„œë²„ì˜ ë°ì´í„° ë””ë ‰í† ë¦¬(ë‚˜ì˜ ê²½ìš° ìœ„ì—ì„œ /var/lib/redis/devë¡œ ì„¤ì •)ì— ì˜®ê²¨ ë‘ê³  redisë¥¼ ì¬ê¸°ë™í•˜ë©´ ë°ì´í„°ê°€ redisì— ì˜¬ë¼ê°”ìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</li>\n<li>redis ë²„ì „ í˜¸í™˜ì´ ì•ˆë˜ë©´ ì´ê´€ì´ ì˜ ì•ˆëœë‹¤. ë‚˜ë„ ì´ê´€ ëŒ€ìƒ ì„œë²„ì— ì•„ë¬´ ìƒê°ì—†ì´ yumìœ¼ë¡œ ìµœì‹  ë²„ì „ redisë¥¼ ì„¤ì¹˜í–ˆëŠ”ë° yumì—ì„œ íŒ¨í‚¤ì§€ê´€ë¦¬ë¥¼ ì•ˆí•´ì£¼ê³  ìˆì—ˆê³  ê·¸ê²Œ redis3 ë²„ì „ì´ì—ˆì–´ì„œ ê¸°ì¡´ì˜ redis7ì—ì„œ ì¶”ì¶œí•œ dump.rdbë¥¼ data directoryì— ìœ„ì¹˜ì‹œí‚¤ê³  ê¸°ë™ í–ˆì„ ë•Œ redisê°€ ì •ìƒì ìœ¼ë¡ ê¸°ë™ì´ ì•ˆëì—ˆë‹¤. ë°˜ë“œì‹œ ìµœì´ˆ ì„¤ì¹˜ ë•Œ ì´ê´€ ë  ì„œë²„ëŠ” ê¸°ì¡´ ì„œë²„ ëŒ€ë¹„ ë™ì¼í•œ ë²„ì „ í˜¹ì€ ìƒìœ„ ë²„ì „ì˜ redisê°€ ì„¤ì¹˜ë˜ë„ë¡ í•˜ì.</li>\n</ul>\n<hr>\n<h2 id=\"redis-ì„¤ì •\" style=\"position:relative;\"><a href=\"#redis-%EC%84%A4%EC%A0%95\" aria-label=\"redis ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redis ì„¤ì •</h2>\n<p>kubernetes í´ëŸ¬ìŠ¤í„° ë‚´ì— ë„ì›Œì ¸ ìˆëŠ” ëª¨ë“  application podì—ì„œ dbì„œë²„ì— ì„¤ì¹˜ ëœ redisê°€ ì ‘ì†ê°€ëŠ¥í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ, redisë¥¼ podë¡œ ë„ìš°ì§„ ì•Šì•˜ì§€ë§Œ redis ì „ìš© serviceë¥¼ ìƒì„±í•˜ì—¬ redisì„œë²„ë¡œ ë¡œë“œë°¸ëŸ°ì‹± ë˜ë„ë¡ í•œë‹¤.</p>\n<ul>\n<li>/etc/redis.conf ì„¤ì • ìˆ˜ì •\n<ul>\n<li>bind 192.168.212.0/24 ì„¤ì • ì¶”ê°€ : k8s ëª¨ë“  ë…¸ë“œ ëŒ€ì—­ìœ¼ë¡œë¶€í„°ì˜ accessë¥¼ í—ˆìš©</li>\n<li>â€˜protected-mode yesâ€™ -> â€˜protected-mode noâ€™ë¡œ ìˆ˜ì •</li>\n<li>sudo systemctl restart redis ì¬ê¸°ë™</li>\n</ul>\n</li>\n<li>ExternalName íƒ€ì…ì˜ redis-service ìƒì„±\n<ul>\n<li>ì•„ë˜ ì˜ˆì‹œì™€ ê°™ì´ redis</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">apiVersion</span><span class=\"token punctuation\">:</span> v1\n<span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> Service\n<span class=\"token key atrule\">metadata</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> redis<span class=\"token punctuation\">-</span>service\n<span class=\"token key atrule\">spec</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> ExternalName\n  <span class=\"token key atrule\">externalName</span><span class=\"token punctuation\">:</span> &lt;redis server ip<span class=\"token punctuation\">></span>\n  <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">6379</span></code></pre></div>\n<ul>\n<li>spring application.yamlì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ redis-serviceë¥¼ hostë¡œ ì§€ì •ë§Œ í•´ì£¼ë©´ ë¨</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n<span class=\"token key atrule\">redis</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">host</span><span class=\"token punctuation\">:</span> redis<span class=\"token punctuation\">-</span>service</code></pre></div>\n</li>\n</ul>\n<p>ì—¬ê¸°ê¹Œì§€ í•˜ë©´ redis ì„¤ì¹˜/ì‹¤í–‰ ë° k8s í´ëŸ¬ìŠ¤í„° application podì—ì„œì˜ redis ì ‘ì† í™˜ê²½ê¹Œì§€ ì„¤ì •ë˜ì—ˆë‹¤.</p>","excerpt":"Redis ì„¤ì¹˜ remmi repoë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ê·¸ëƒ¥ yum installí•˜ê²Œ ë˜ë©´ redis3ë²„ì „ì´ latestì´ë¯€ë¡œ ë°˜ë“œì‹œ remi repoë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. Redis ì‹¤í–‰ Redis êµ¬ì¶• ê°œë°œê³„ Redis ì„¤ì • redisë¥¼ ì„¤ì¹˜í•œ í˜„ ìƒíƒœì—ì„œëŠ” systemctl ëª…ë ¹ì–´ë¡œ ë‹¨ì¼ â€˜redisâ€™ ì„œë¹„ìŠ¤ë§Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ë‚˜ëŠ” ê°œë°œê³„ìš© redisdev serviceë¶€í„° ìš´ì˜ìš© redis1, redis2, redis3 serviceë¥¼ ê´€ë¦¬í•˜ê³  ì‹¶ì€ ìƒí™©ì´ë‹¤.\në”°ë¼ì„œ ìµœì´ˆì— ì‹¤í–‰ í•œ redisë¥¼ redisdevë¼ëŠ” ì„œë¹„ìŠ¤ë¡œ ë„ìš°ê³ , ê´€ë ¨ëœ ì„¤ì •ë„ ìˆ˜ì •í•˜ê³ ì í•œë‹¤. ê¸°ì¡´ì— ì‹¤í–‰ë˜ê³  ìˆëŠ” redis serviceë¥¼ ë‚´ë¦°ë‹¤.  /usr/lib/systemd/system/redis.service -> redisdev.serviceë¡œ ëª…ì¹­ ë³€ê²½ /etc/redis.confì˜ ì´ë¦„ì„ redisdev.confë¡œ ë³€ê²½í•˜ê³ , í•´ë‹¹ íŒŒì¼ ë‚´ì— redis ê´€ë ¨ëœ pathë¥¼ ë³€ê²½í•œë‹¤. ë³€ê²½ í•œ ê²½ë¡œì˜â€¦","frontmatter":{"date":"July 11, 2023","title":"On-premise ì„œë²„ êµ¬ì¶•í•˜ê¸° 7. Redis êµ¬ì¶•í•˜ê¸°","categories":"DevOps","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/on-premise7/"}},"next":{"id":"bc4fa07b-cdf1-5248-be3c-52af000a21a4","html":"<h1 id=\"mysql-80-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#mysql-80-%EC%84%A4%EC%B9%98\" aria-label=\"mysql 80 ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL 8.0 ì„¤ì¹˜</h1>\n<h3 id=\"1-ì„¤ì¹˜ê°€ëŠ¥í•œ-mysql-repository-í™•ì¸\" style=\"position:relative;\"><a href=\"#1-%EC%84%A4%EC%B9%98%EA%B0%80%EB%8A%A5%ED%95%9C-mysql-repository-%ED%99%95%EC%9D%B8\" aria-label=\"1 ì„¤ì¹˜ê°€ëŠ¥í•œ mysql repository í™•ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ì„¤ì¹˜ê°€ëŠ¥í•œ MySQL repository í™•ì¸</h3>\n<p><a href=\"http://www.mysql.com/products/community/\">www.mysql.com/products/community/</a></p>\n<h3 id=\"2-mysql-repository-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#2-mysql-repository-%EC%84%A4%EC%B9%98\" aria-label=\"2 mysql repository ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. MySQL Repository ì„¤ì¹˜</h3>\n<p>1ì—ì„œ í™•ì¸í•œ yum, CentOS 7ë²„ì „ì— í•´ë‹¹í•˜ëŠ” repositoryë¥¼ ì°¾ì•„ì„œ ì„¤ì¹˜í•œë‹¤. ì§ì ‘ ì°¾ì•„ì„œ ì„¤ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ outdate ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë°˜ë“œì‹œ mysqlí™ˆí˜ì´ì§€ì—ì„œ ì§ì ‘ repostioryì°¾ì•„ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> -y https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm</code></pre></div>\n<h3 id=\"3-mysql-ì„¤ì¹˜\" style=\"position:relative;\"><a href=\"#3-mysql-%EC%84%A4%EC%B9%98\" aria-label=\"3 mysql ì„¤ì¹˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. MySQL ì„¤ì¹˜</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">yum <span class=\"token function\">install</span> -y mysql-server\n\n<span class=\"token comment\"># mysql version í™•ì¸</span>\nmysqld -V</code></pre></div>\n<h3 id=\"4-mysql-ì„œë²„-ì‹œì‘-ë°-ì…‹íŒ…\" style=\"position:relative;\"><a href=\"#4-mysql-%EC%84%9C%EB%B2%84-%EC%8B%9C%EC%9E%91-%EB%B0%8F-%EC%85%8B%ED%8C%85\" aria-label=\"4 mysql ì„œë²„ ì‹œì‘ ë° ì…‹íŒ… permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. MySQL ì„œë²„ ì‹œì‘ ë° ì…‹íŒ…</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">systemctl <span class=\"token builtin class-name\">enable</span> mysqld <span class=\"token operator\">&amp;&amp;</span> systemctl start mysqld <span class=\"token operator\">&amp;&amp;</span> systemctl status mysqld</code></pre></div>\n<ul>\n<li>ì•„ë˜ ëª…ë ¹ì„ í†µí•´ ì„¤ì¹˜ëœ mysqlì„œë²„ì˜ root ê³„ì • ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•Œì•„ ë‚¼ ìˆ˜ ìˆìŒ\n<ul>\n<li><code class=\"language-text\">grep 'temporary password' /var/log/mysqld.log</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"mysql-secure-installation--mysql-ë³´ì•ˆ-ê°•í™”í•˜ê¸°\" style=\"position:relative;\"><a href=\"#mysql-secure-installation--mysql-%EB%B3%B4%EC%95%88-%EA%B0%95%ED%99%94%ED%95%98%EA%B8%B0\" aria-label=\"mysql secure installation  mysql ë³´ì•ˆ ê°•í™”í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL Secure installation : MySQL ë³´ì•ˆ ê°•í™”í•˜ê¸°</h3>\n<p><code class=\"language-text\">mysql_secure_installation</code> ëª…ë ¹ì„ í†µí•´ mysqlì´ ê¶Œì¥í•˜ëŠ” ë³´ì•ˆ ê´€ë ¨ëœ ê¸°ë³¸ ì„¤ì •ì„ ì…‹íŒ…í•œë‹¤.\nì´ ê³¼ì •ì—ì„œ mysqlì—ì„œëŠ” rootë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì„ ìš”ì²­í•˜ë‹ˆê¹Œ ìœ„ì—ì„œ ì•Œì•„ë‚¸ passwordë¥¼ ì…ë ¥í•˜ê³  ë³€ê²½í•˜ë©´ ëœë‹¤.</p>\n<ul>\n<li>\n<p>ë‚˜ì¤‘ì— ì§ì ‘ rootê³„ì • ë¹„ë²ˆë§Œ ë³€ê²½í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ í•˜ë©´ ë¨</p>\n<ul>\n<li>rootê³„ì • ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •\n<ul>\n<li><code class=\"language-text\">ALTER USER 'root'@'localhost' IDENTIFIED BY '{root ë¹„ë²ˆ}';</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>ì•„ë˜ ëª…ë ¹ì„ í†µí•´ mysqlì— rootë¡œ ì ‘ì†</p>\n<ul>\n<li><code class=\"language-text\">mysql -u root -p</code></li>\n</ul>\n</li>\n<li>\n<p>SSL/TLS ì„¤ì •ì„ í™•ì¸í•œë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">SHOW VARIABLES LIKE '%ssl%';</code></li>\n<li>í™•ì¸í•´ë³´ë©´ have_openssl, have_sslì´ ë‹¤ìŒê³¼ ê°™ì´ DISABLEë˜ì–´ ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAwElEQVQoz52Qyw6DIBBF8QVIBJS39bGw/f9fvI0k7UbqoouTC2RyZgYSY8I4jnDOwRibU2kNpRSklNBag9IOlDEwxtC27S1kGAZIqSDPVApVVV2o6xq9EFnedV2+N01ThDjnsSwrYow4z0KIYuE53Z3oKwwx4fl64TE/sG07rDUghFzI6xTeL/gQcRxHnjDECDONec2/hdY6LOuKeZ6ztOe8KKSUgnOe81Y4TQY+BATv0fP+Z+H5t9u+I6VUbPjhDQ+alvN1+qcDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image2.png\"\n        title=\"image2.png\"\n        src=\"/static/e28ffcdbb65376aa92afd5a62c9da2de/37523/image2.png\"\n        srcset=\"/static/e28ffcdbb65376aa92afd5a62c9da2de/e9ff0/image2.png 180w,\n/static/e28ffcdbb65376aa92afd5a62c9da2de/f21e7/image2.png 360w,\n/static/e28ffcdbb65376aa92afd5a62c9da2de/37523/image2.png 720w,\n/static/e28ffcdbb65376aa92afd5a62c9da2de/302a4/image2.png 1080w,\n/static/e28ffcdbb65376aa92afd5a62c9da2de/187fa/image2.png 1194w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></li>\n<li>â€˜/sâ€™ ëª…ë ¹ì„ í†µí•´ì„œë„ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mysql> \\s\n--------------\nmysql  Ver 8.0.33 for Linux on x86_64 (MySQL Community Server - GPL)\n\nConnection id:          19\nCurrent database:\nCurrent user:           root@localhost\nSSL:                    Not in use\nCurrent pager:          stdout\nUsing outfile:          ''\nUsing delimiter:        ;\nServer version:         8.0.33 MySQL Community Server - GPL\nProtocol version:       10\nConnection:             Localhost via UNIX socket\nServer characterset:    utf8mb4\nDb     characterset:    utf8mb4\nClient characterset:    utf8mb4\nConn.  characterset:    utf8mb4\nUNIX socket:            /var/lib/mysql/mysql.sock\nBinary data as:         Hexadecimal\nUptime:                 13 min 49 sec\n\nThreads: 2  Questions: 21  Slow queries: 0  Opens: 150  Flush tables: 3  Open tables: 69  Queries per second avg: 0.025\n--------------</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>ê¸°ë³¸ì ìœ¼ë¡œ /var/lib/mysql ë””ë ‰í† ë¦¬ì— ë³´ë©´ SSL/TLS ì¸ì¦ì„œì™€ keyíŒŒì¼ì´ mysqlì„¤ì¹˜ì™€ í•¨ê»˜ ìƒì„±ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ ì—†ëŠ” ê²½ìš°ë¼ë©´ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ìƒì„±ëœë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">mysql_ssl_rsa_setup --uid=mysql</code></li>\n</ul>\n</li>\n</ul>\n<p>ì´ë ‡ê²Œ í•˜ê³  ë‚˜ì„œ mysqlì„ ì¬ê¸°ë™í•˜ë©´ SSLì´ ì ìš©ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë§Œì•½ì— MySQLì´ ì •ìƒì ìœ¼ë¡œ ì ìš©ë˜ì—ˆë‹¤ë©´ ìœ„ì˜ í™•ì¸ ê³¼ì •ì—ì„œ have_ssl, have_opensslì´ â€˜YESâ€™ìƒíƒœë¡œ ë³€ê²½ë˜ì–´ì•¼ í•˜ë©° ë‹¤ìŒ ëª…ë ¹ì„ í†µí•´ mysql ì ‘ì†ì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mysql -u root -p --ssl-mode=required</code></pre></div>\n<h3 id=\"ì—…ë¬´-database-ë°-ê³„ì •-ìƒì„±\" style=\"position:relative;\"><a href=\"#%EC%97%85%EB%AC%B4-database-%EB%B0%8F-%EA%B3%84%EC%A0%95-%EC%83%9D%EC%84%B1\" aria-label=\"ì—…ë¬´ database ë° ê³„ì • ìƒì„± permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì—…ë¬´ Database ë° ê³„ì • ìƒì„±</h3>\n<ul>\n<li><code class=\"language-text\">CREATE DATABASE '{DBëª…}';</code></li>\n<li>ê³„ì • ìƒì„±\n<ul>\n<li><code class=\"language-text\">CREATE USER '{ê³„ì •ëª…}'@'%' IDENTIFIED BY '{password}</code>;\n<ul>\n<li>â€™%â€˜ë¡œ í•´ì¤¬ê¸° ë•Œë¬¸ì— ì™¸ë¶€ ì–´ë””ì„œë“  í•´ë‹¹ ê³„ì •ì„ í†µí•´ DB ì ‘ì†ê°€ëŠ¥</li>\n</ul>\n</li>\n<li>ê³„ì •ì— ëŒ€í•œ ê¶Œí•œ ë¶€ì—¬\n<ul>\n<li><code class=\"language-text\">GRANT ALL PRIVILEGES ON {ê³„ì •ëª…}.* to '{ê³„ì •ëª…}'@'%' WITH GRANT OPTION;</code></li>\n<li><code class=\"language-text\">GRANT ALL PRIVILEGES ON '{DBëª…}'.* TO '{ê³„ì •ëª…}'@'%';</code></li>\n<li><code class=\"language-text\">flush privileges;</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"mysql-ì ‘ì†í•˜ê¸°\" style=\"position:relative;\"><a href=\"#mysql-%EC%A0%91%EC%86%8D%ED%95%98%EA%B8%B0\" aria-label=\"mysql ì ‘ì†í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL ì ‘ì†í•˜ê¸°</h3>\n<p>MySQL ì„œë²„ë¥¼ ì ‘ì†í•˜ë ¤ëŠ” dbeaver í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” SSL íƒ­ì—ì„œ â€˜Verify server certificateâ€™ë¥¼ í•´ì œí•˜ê³  â€˜Require SSLâ€™ì„ ì„ íƒí•œë‹¤.</p>\n<ul>\n<li>mysqlì„œë²„ì—ì„œ ìì²´ ì¸ì¦í•œ ì¸ì¦ì„œì´ê³  CAì—ì„œ ë°œê¸‰ë°›ì€ê²Œ ì•„ë‹ˆê¸° ë•Œë¬¸ì— Verify server certificateë¥¼ í•´ì œ í•´ì£¼ëŠ” ê²ƒì´ë‹¤.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACOUlEQVQ4y5VTiarbMBD0/39bobyW5uVyEp+SLFuSJR+yc0xZpQ6hL6R0YQhZrNndmd0ozQtwxlGWDMYY2NaiEhXGcQTF7XZ7C4p5nuGvgFIKUZqcUBY5jocYzjn8b+jRo7UKNY8hifDIFA5FjX0uUTABo3Ug1kqFilobWGvhnEXf9/DeB4ze4zxPOMgG+zTGVK7AWYloeyzx7WONzalEP3rkWQbOOaqqCmiaBm3boiwLVJUM/4UQAVwIqFqikTUqOyDJCkRKSqx/rRBvt/eumgacC3RdFzrpuw6TnzAMA5x10FoHkN7024Q3NdrBIys5ov0+hhAVrtdbENdoE0zJ0hRFUeB0PAXTLMmgDbTScNbCWhc6b+oafr4EPTljiOI4fjhMHXXOIc9yaGMeLp/PZ0zT9BrzjKlrcJk9GOOIsjQDYyw8pA/IAKpERajjJUcSfIVD1w/oip/wnQLjAhFVP58vj32iPSyLEkWeByLK0Wjk/FdYuG6Ayz4wtPWd8Hmn6DF9SE6SOaQlkZEUZMprjBh6B+/HMGm06ERB3dIexvs4EC05Gu9yueA+zWtcr9fXhORicro7K6UMZpk/Bv0rvhDSyNSNalQgrus6XAuNTEFdvLpnyr8kJEepy79jefQOD8LnNSDd7ver38IYDduagEUS2og0TRGFm+Q8gEZcTuodmagVUiaRMAkuG1SVCHceCHe7HT5Xn9isN4F0IVwqP4PybWuQ8gY/tim+b1KcCoF4v0McH5AkCX4D/gkW9t1cz38AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image3.png\"\n        title=\"image3.png\"\n        src=\"/static/d7b73e5b69f19ec26eaa98161dc85225/37523/image3.png\"\n        srcset=\"/static/d7b73e5b69f19ec26eaa98161dc85225/e9ff0/image3.png 180w,\n/static/d7b73e5b69f19ec26eaa98161dc85225/f21e7/image3.png 360w,\n/static/d7b73e5b69f19ec26eaa98161dc85225/37523/image3.png 720w,\n/static/d7b73e5b69f19ec26eaa98161dc85225/302a4/image3.png 1080w,\n/static/d7b73e5b69f19ec26eaa98161dc85225/1dbe8/image3.png 1374w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>í˜¸ìŠ¤íŠ¸ ì„œë²„ì—ì„œ DBì„œë²„ ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ DBì„œë²„ì—ì„œ ë°©í™”ë²½ì„ í•´ì œí•˜ëŠ” ì •ì±…ì„ ì„¤ì •í•œë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> firewall-cmd --zone<span class=\"token operator\">=</span>public --add-rich-rule<span class=\"token operator\">=</span><span class=\"token string\">'rule family=\"ipv4\" source address=\"&lt;NAT switch IP>\" port port=\"3306\" protocol=\"tcp\" accept'</span> \n<span class=\"token function\">sudo</span> firewall-cmd --runtime-to-permanent <span class=\"token comment\"># ì˜êµ¬ì ìœ¼ë¡œ í•´ë‹¹ ë£° ì ìš©</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"5-dbêµ¬ì„±-ë°-ë°ì´í„°-ë§ˆì´ê·¸ë ˆì´ì…˜\" style=\"position:relative;\"><a href=\"#5-db%EA%B5%AC%EC%84%B1-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98\" aria-label=\"5 dbêµ¬ì„± ë° ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. DBêµ¬ì„± ë° ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜</h3>\n<ul>\n<li>Source DBì— dbeaverë¡œ ì ‘ì†í•˜ì—¬ [ë°ì´í„°ë² ì´ìŠ¤] - [ë„êµ¬] - [ìƒˆë¡œìš´ task] - [MySQL dump] ë¥¼ í™œìš©í•˜ì—¬ í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ì˜ dumpë¥¼ ë– ì„œ ì €ì¥í•œë‹¤.</li>\n<li>Destination DBì˜ localì—ì„œ rootê³„ì •ìœ¼ë¡œ ì ‘ê·¼í•˜ì—¬ migrationì„ ìœ„í•œ ì„ì‹œê³„ì •ì„ ìƒì„±í•˜ì—¬ superê¶Œí•œì„ ë¶€ì—¬í•œ í›„, ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ê³ ì í•˜ëŠ” DBì— ëŒ€í•œ ê¶Œí•œë„ ì¶”ê°€í•œë‹¤.\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">GRANT ALL PRIVILEGES ON `{DBëª…}`.* TO 'migrationuser'@'%';</code></pre></div>\n</li>\n<li>ìƒì„±í•œ DBì—ì„œ [ìš°í´ë¦­] - [ë„êµ¬] - [Execute Script]ì—ì„œ Source DBì—ì„œ dump ë– ë‘” .sqlíŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¨ë‹¤.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAACOUlEQVQ4y5VTiarbMBD0/39bobyW5uVyEp+SLFuSJR+yc0xZpQ6hL6R0YQhZrNndmd0ozQtwxlGWDMYY2NaiEhXGcQTF7XZ7C4p5nuGvgFIKUZqcUBY5jocYzjn8b+jRo7UKNY8hifDIFA5FjX0uUTABo3Ug1kqFilobWGvhnEXf9/DeB4ze4zxPOMgG+zTGVK7AWYloeyzx7WONzalEP3rkWQbOOaqqCmiaBm3boiwLVJUM/4UQAVwIqFqikTUqOyDJCkRKSqx/rRBvt/eumgacC3RdFzrpuw6TnzAMA5x10FoHkN7024Q3NdrBIys5ov0+hhAVrtdbENdoE0zJ0hRFUeB0PAXTLMmgDbTScNbCWhc6b+oafr4EPTljiOI4fjhMHXXOIc9yaGMeLp/PZ0zT9BrzjKlrcJk9GOOIsjQDYyw8pA/IAKpERajjJUcSfIVD1w/oip/wnQLjAhFVP58vj32iPSyLEkWeByLK0Wjk/FdYuG6Ayz4wtPWd8Hmn6DF9SE6SOaQlkZEUZMprjBh6B+/HMGm06ERB3dIexvs4EC05Gu9yueA+zWtcr9fXhORicro7K6UMZpk/Bv0rvhDSyNSNalQgrus6XAuNTEFdvLpnyr8kJEepy79jefQOD8LnNSDd7ver38IYDduagEUS2og0TRGFm+Q8gEZcTuodmagVUiaRMAkuG1SVCHceCHe7HT5Xn9isN4F0IVwqP4PybWuQ8gY/tim+b1KcCoF4v0McH5AkCX4D/gkW9t1cz38AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image3.png\"\n        title=\"image3.png\"\n        src=\"/static/d7b73e5b69f19ec26eaa98161dc85225/37523/image3.png\"\n        srcset=\"/static/d7b73e5b69f19ec26eaa98161dc85225/e9ff0/image3.png 180w,\n/static/d7b73e5b69f19ec26eaa98161dc85225/f21e7/image3.png 360w,\n/static/d7b73e5b69f19ec26eaa98161dc85225/37523/image3.png 720w,\n/static/d7b73e5b69f19ec26eaa98161dc85225/302a4/image3.png 1080w,\n/static/d7b73e5b69f19ec26eaa98161dc85225/1dbe8/image3.png 1374w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>ì„±ê³µì ìœ¼ë¡œ resotre ëë‹¤ëŠ” ë©”ì‹œì§€ê°€ ëœ¨ë©´ ëì´ë‹¤.</p>\n<p>ì˜¤ëŠ˜ì˜ ê²°ë¡  : AWS ìµœê³ </p>\n<hr>\n<h2 id=\"ì°¸ê³ ìë£Œ\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"ì°¸ê³ ìë£Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì°¸ê³ ìë£Œ</h2>\n<ul>\n<li><a href=\"https://arctype.com/blog/mysql-ssl/\">https://arctype.com/blog/mysql-ssl/</a></li>\n</ul>","frontmatter":{"date":"July 10, 2023","title":"On-premise ì„œë²„ êµ¬ì¶•í•˜ê¸° 6. DB ì„œë²„ êµ¬ì¶•í•˜ê¸°","categories":"DevOps","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/on-premise6/"}},"prev":{"id":"840bfffc-342f-5f6a-8093-3eca088a6c11","html":"<h2 id=\"ì»´í“¨í„°-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#%EC%BB%B4%ED%93%A8%ED%84%B0-%EA%B5%AC%EC%A1%B0\" aria-label=\"ì»´í“¨í„° êµ¬ì¡° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì»´í“¨í„° êµ¬ì¡°</h2>\n<p>storageë¡œë¶€í„° í”„ë¡œê·¸ë¨ì„ ì½ì–´ì„œ í”„ë¡œì„¸ìŠ¤ë¡œì„œ ë©”ëª¨ë¦¬ì— ì ì¬ì‹œí‚¤ë©° ì´ë¥¼ processorì¸ CPUê°€ ì‹¤í–‰ì‹œí‚¨ë‹¤.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.88888888888889%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACRklEQVQoz3VTS2saURSef1coFOyidNNNd12UbAvdtIX+gtY+dg20CY3g0ETHR4yaGtHOTOIz+Bzje6LjKyrxrV85RwxJaA8Mc7nn3u+c7/vOFUqlEs6T59D1S1zqOrKZLG7HarW6+SiWy+Wd3P2/kM1mIf+R4T3yQlVVXve6PXQ6HRiGwQertTpcLjeoOMVoNMJkMsF8Psd4PGag6XS6BqRNAnM6nEin06AColVEuVxGLBrjIjabhHdv3uLs7JTB9n/tQ5IcCAaDiMfi8Pv88Hl9DC4sFgumsfmoChWhoJwsy/jy2Yzdne9QZJkLFotFVKtVLtpoNJBIJKCqp8xKIBBCppYJgKhQtNttVCoVXjeNFmxOO0swm83u6Hg/BDpks9lxfPwboVAIkUgEuVyOk/l8Hoqi4PX7VzA9fYR8Lsegkl1iilaryPlkMokNU4E6yec16LrOFGq1Gq+J+ng0gl2SsL3zDXuWXXz8YObO6/U6CloBhUIBmqYhGo0yQ+7wf623Wi0MBgNE4io+fTXD8tOCk0AQ3W6X8yTN7XGiIO2ZMolK7jWbTYTDYRQvihgOh9ByGp6/eIaHTx6gZXSg6w3WVVVUeDxHLBM57Xa54ZAca5cJUJEV1oZcSqVS7CIlZ7M5trZewvTYhL0f2zjxStwJ0UwkkixRJpPBwYENoiiyXAJd/FeQm+shvuZL5dIFJuNr3uv3+2wGjdDhoQd+vx+BQICbEq56V2i32jfPauMWaXN/PFb8vNZnjKbBOpNBJBcZRIX+Ahv2ZmUWsTarAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image1.png\"\n        title=\"image1.png\"\n        src=\"/static/7f4261be6045496a2d74e794e7947895/37523/image1.png\"\n        srcset=\"/static/7f4261be6045496a2d74e794e7947895/e9ff0/image1.png 180w,\n/static/7f4261be6045496a2d74e794e7947895/f21e7/image1.png 360w,\n/static/7f4261be6045496a2d74e794e7947895/37523/image1.png 720w,\n/static/7f4261be6045496a2d74e794e7947895/302a4/image1.png 1080w,\n/static/7f4261be6045496a2d74e794e7947895/07a9c/image1.png 1440w,\n/static/7f4261be6045496a2d74e794e7947895/d3deb/image1.png 1758w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"í”„ë¡œì„¸ìŠ¤-ëª¨ë‹ˆí„°ë§\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81\" aria-label=\"í”„ë¡œì„¸ìŠ¤ ëª¨ë‹ˆí„°ë§ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í”„ë¡œì„¸ìŠ¤ ëª¨ë‹ˆí„°ë§</h2>\n<ul>\n<li>ps ì‚¬ìš©ë²•</li>\n<li>htop ì‚¬ìš©ë²•\n<ul>\n<li>Load average</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"í”„ë¡œì„¸ìŠ¤ì˜-ì‹¤í–‰\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%9D%98-%EC%8B%A4%ED%96%89\" aria-label=\"í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í”„ë¡œì„¸ìŠ¤ì˜ ì‹¤í–‰</h2>\n<h3 id=\"ë°±ê·¸ë¼ìš´ë“œ\" style=\"position:relative;\"><a href=\"#%EB%B0%B1%EA%B7%B8%EB%9D%BC%EC%9A%B4%EB%93%9C\" aria-label=\"ë°±ê·¸ë¼ìš´ë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë°±ê·¸ë¼ìš´ë“œ</h3>\n<ul>\n<li>Ctrl+Z : í”„ë¡œì„¸ìŠ¤ë¥¼ ë°±ê·¸ë¼ìš´ë“œë¡œ ì „í™˜</li>\n<li>jobs : ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì…‹ í™•ì¸ ê°€ëŠ¥</li>\n<li>fg : ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ë¥¼ í¬ê·¸ë¼ìš´ë“œë¡œ ì „í™˜\n<ul>\n<li><code class=\"language-text\">fg %4</code> : 4ë²ˆ jobì„ ì „í™˜</li>\n<li>ê·¸ëƒ¥ <code class=\"language-text\">fg</code>ë§Œ í•˜ê²Œ ë˜ë©´ + í‘œì‹œ ë˜ì–´ìˆëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì „í™˜ë¨</li>\n</ul>\n</li>\n<li>&#x26; : ë°±ê·¸ë¼ìš´ë“œë¡œ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰</li>\n<li>bg : Stopped ëœ ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¤ì‹œ ì‹¤í–‰ ì‹œí‚´</li>\n</ul>\n<h3 id=\"í•­ìƒ-ì‹¤í–‰-ë°ëª¬\" style=\"position:relative;\"><a href=\"#%ED%95%AD%EC%83%81-%EC%8B%A4%ED%96%89-%EB%8D%B0%EB%AA%AC\" aria-label=\"í•­ìƒ ì‹¤í–‰ ë°ëª¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•­ìƒ ì‹¤í–‰ (ë°ëª¬)</h3>\n<ul>\n<li>systemctlì„ ì´ìš©í•œ ì„œë¹„ìŠ¤ ì œì–´ : CentOS7ë¶€í„°ëŠ” â€˜serviceâ€™ê°€ ì•„ë‹Œ â€˜systemctlâ€™ ì‚¬ìš©</li>\n<li>/etc/init.d ë””ë ‰í† ë¦¬ì—ëŠ” ë°ëª¬ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ë“¤ì´ ëª¨ì—¬ìˆë‹¤.</li>\n<li>/etc/rc3.d ë””ë ‰í† ë¦¬ì—ëŠ” ë°ëª¬ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•œ ì‹¬ë³¼ë§ ë§í¬ê°€ ëª¨ì—¬ìˆë‹¤.\n<ul>\n<li>shellë¡œ ë¶€íŒ…ë˜ë©´ rc3. GUIë¡œ ë¶€íŒ…ë˜ë©´ rc5.dë¥¼ ì°¸ì¡°í•´ì•¼ í•œë‹¤.</li>\n<li>Kë¡œ ì‹œì‘í•˜ëŠ” ì‹¬ë³¼ë§ ë§í¬ëŠ” ë¶€íŒ… ì‹œ ê¸°ë™ë˜ì§€ ìŠ¤í¬ë¦½íŠ¸</li>\n<li>Së¡œ ì‹œì‘í•˜ëŠ” ì‹¬ë³¼ë§ ë§í¬ëŠ” ë¶€íŒ… ì‹œ ê¸°ë™ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸</li>\n<li>K or S ë’¤ì— ìˆ«ìëŠ” ì‹¤í–‰ì˜ ìš°ì„ ìˆœìœ„ì´ë‹¤.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ì •ê¸°ì -ì‹¤í–‰-cron\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EA%B8%B0%EC%A0%81-%EC%8B%A4%ED%96%89-cron\" aria-label=\"ì •ê¸°ì  ì‹¤í–‰ cron permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì •ê¸°ì  ì‹¤í–‰ (cron)</h3>\n<ul>\n<li>crontabì€ Linuxì—ì„œ ê³„ì •ë³„ë¡œ ê´€ë¦¬ëœë‹¤.</li>\n<li>ê°„ë‹¨í•œ crontab ì˜ˆì‹œ\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">  <span class=\"token comment\"># ë§¤ë¶„ë§ˆë‹¤ ì‹¤í–‰í•˜ëŠ” ì˜ˆì œ</span>\n  * * * * * <span class=\"token builtin class-name\">command</span>\n\n  <span class=\"token comment\"># ë§¤ì‹œ ì •ê°ì— ì‹¤í–‰í•˜ëŠ” ì˜ˆì œ</span>\n  <span class=\"token number\">0</span> * * * * <span class=\"token builtin class-name\">command</span>\n\n  <span class=\"token comment\"># ë§¤ì¼ ì˜¤ì „ 9ì‹œì— ì‹¤í–‰í•˜ëŠ” ì˜ˆì œ</span>\n  <span class=\"token number\">0</span> <span class=\"token number\">9</span> * * * <span class=\"token builtin class-name\">command</span>\n\n  <span class=\"token comment\"># ë§¤ì£¼ ì¼ìš”ì¼ ì˜¤ì „ 10ì‹œ 30ë¶„ì— ì‹¤í–‰í•˜ëŠ” ì˜ˆì œ</span>\n  <span class=\"token number\">30</span> <span class=\"token number\">10</span> * * <span class=\"token number\">0</span> <span class=\"token builtin class-name\">command</span>\n\n  <span class=\"token comment\"># ë§¤ì›” 1ì¼ ì˜¤ì „ 5ì‹œì— ì‹¤í–‰í•˜ëŠ” ì˜ˆì œ</span>\n  <span class=\"token number\">0</span> <span class=\"token number\">5</span> <span class=\"token number\">1</span> * * <span class=\"token builtin class-name\">command</span>\n\n  <span class=\"token comment\"># ë§¤ë…„ 1ì›” 1ì¼ ì˜¤ì „ 12ì‹œì— ì‹¤í–‰í•˜ëŠ” ì˜ˆì œ</span>\n  <span class=\"token number\">0</span> <span class=\"token number\">0</span> <span class=\"token number\">1</span> <span class=\"token number\">1</span> * <span class=\"token builtin class-name\">command</span>\n</code></pre></div>\n</li>\n<li>ë§¤ ë¶„ ë§ˆë‹¤ ì¼ì‹œë¥¼ date.logì— í–‰ì„ ì¶”ê°€í•˜ì—¬ ì €ì¥í•˜ë˜, stderrë„ stdoutí˜•íƒœë¡œ ì¶œë ¥í•˜ë„ë¡ í•˜ëŠ” crontab ì˜ˆì‹œ\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">* * * * * <span class=\"token function\">date</span> <span class=\"token operator\">>></span> date.log <span class=\"token operator\">></span> <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span><span class=\"token file-descriptor important\">&amp;1</span></code></pre></div>\n</li>\n</ul>\n<h2 id=\"start-up-script\" style=\"position:relative;\"><a href=\"#start-up-script\" aria-label=\"start up script permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Start up script</h2>\n<p>.bash_rcì™€ .bash_profileì´ ìˆëŠ”ë° 2ê°œì˜ ì°¨ì´ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>\n<ul>\n<li>.bash_rc : shellì„ ì—´ ë•Œ ë§ˆë‹¤ ì‹¤í–‰ëœë‹¤.</li>\n<li>.bash_profile : ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í•  ë•Œ ë§ˆë‹¤ ì‹¤í–‰ëœë‹¤</li>\n</ul>\n<h3 id=\"alias\" style=\"position:relative;\"><a href=\"#alias\" aria-label=\"alias permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>alias</h3>\n<p>.bash_rc ë˜ëŠ” .bash_profileì— ë‚´ê°€ ì›í•˜ëŠ” ëŒ€ë¡œ aliasë¥¼ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.</p>\n<ul>\n<li>k = kubectl</li>\n<li>c = clear</li>\n<li>.. = cd ..</li>\n<li>rm = rm -i</li>\n</ul>\n<hr>\n<h1 id=\"ìŠ¤í„°ë””-ë¬¸ì œ\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%84%B0%EB%94%94-%EB%AC%B8%EC%A0%9C\" aria-label=\"ìŠ¤í„°ë”” ë¬¸ì œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìŠ¤í„°ë”” ë¬¸ì œ</h1>\n<p>ê°ìì˜ /home/{ì‚¬ë²ˆ}/week3ì—ì„œ ë¬¸ì œë¥¼ í’€ê³  answer.txt íŒŒì¼ì— ë‹µì•ˆ(1~4ë²ˆ ë¬¸ì œ)ì„  ì‘ì„±í•´ì£¼ì„¸ìš”\nì²˜ìŒ ë””ë ‰í† ë¦¬ëŠ” /home/{ì‚¬ë²ˆ}/ì¸ ê²ƒìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.</p>\n<ol start=\"0\">\n<li>mkdir week3; cd week3;ë¥¼ í•˜ê³  ì‹œì‘í•´ì£¼ì„¸ìš”.</li>\n<li>í”„ë¡œê·¸ë¨ê³¼ í”„ë¡œì„¸ìŠ¤ì˜ ì°¨ì´ì ì— ëŒ€í•´ì„œ ì„œìˆ í•˜ì„¸ìš”.</li>\n<li>ì„œë²„ ë‚´ ëª¨ë“  ê²½ë¡œì— ëŒ€í•œ ls ê²°ê³¼ë¥¼ output.txtì— ì €ì¥í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰ì‹œí‚¤ëŠ” ëª…ë ¹ì„ ì‘ì„±í•˜ì„¸ìš”. í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ë¥¼ stopì‹œí‚¤ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ëŠ” ì§€ ì‘ì„±í•˜ì„¸ìš”. (root í•„ìš”)</li>\n<li>ë°ëª¬ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” commandëŠ” ì–´ë–¤ ê²ƒì´ ìˆìœ¼ë©° CentOS7, Ubuntu16 ì´í›„ë¡œ ì‚¬ìš©ë˜ëŠ” commandëŠ” ê·¸ ì¤‘ì— ë¬´ì—‡ì¸ê°€?</li>\n<li>í•´ë‹¹ ì„œë²„ê°€ ë¶€íŒ… ì‹œ ì‹¤í–‰ë˜ëŠ” ë°ëª¬ ìŠ¤í¬ë¦½íŠ¸ 3ê°œì™€ ë¶€íŒ… ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ë°ëª¬ ìŠ¤í¬ë¦½íŠ¸ 3ê°œê°€ ë¬´ì—‡ì¸ì§€ ì‘ì„±í•˜ì„¸ìš” ( rootí•„ìš”, ìŠ¤í¬ë¦½íŠ¸ ê²½ë¡œ í¬í•¨í•  ê²ƒ )</li>\n<li>ë‹¤ì‹œ ë³¸ì¸ì˜ ê³„ì •ìœ¼ë¡œ logoutí•˜ì„¸ìš”</li>\n</ol>\n<ul>\n<li>5-1) echo â€œCPU USAGE: $(top -bn1 | awk â€˜/Cpu/ {print $2}â€™) DATE: $(date)â€ ëª…ë ¹ì€ í˜„ì¬ì˜ cpu usageì™€ dateê°’ì„ ì¡°íšŒí•´ì£¼ëŠ” ëª…ë ¹ì–´ì´ë‹¤. ì´ë¥¼ í™œìš©í•˜ì—¬ ë§¤ ë¶„ ë§ˆë‹¤ í•´ë‹¹ ëª…ë ¹ì„ ì‹¤í–‰ì‹œì¼œì„œ week3ë””ë ‰í† ë¦¬ ë°‘ì˜ cpu-monitoring-minute.logíŒŒì¼ì— ì €ì¥í•˜ëŠ” crontabì„ ì‘ì„±í•˜ì„¸ìš”.</li>\n<li>5-2 ) crontabì´ ì •ìƒì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆëŠ” ì§€ í™•ì¸í•˜ëŠ” ëª…ë ¹ì„ ì‘ì„±í•˜ì„¸ìš”</li>\n<li>5-3) cpu-monitor.log íŒŒì¼ì— ë§¤ ë¶„ë§ˆë‹¤ ì‹¤ì œë¡œ ë¡œê·¸ê°€ ì¶”ê°€ë˜ëŠ” ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ì‹¤í–‰í•˜ëŠ” ëª…ë ¹ì„ ì‘ì„±í•˜ì„¸ìš”</li>\n</ul>\n<ol start=\"6\">\n<li></li>\n</ol>\n<ul>\n<li>6-1) touch ëª…ë ¹ì–´ë¥¼ í™œìš©í•˜ì—¬ access1.log ~ access5.log 5ê°œ íŒŒì¼ì„ week3ë°‘ì— ìƒì„±í•˜ì„¸ìš”.</li>\n<li>6-2) ë§¤ì¼ ì˜¤í›„ 8ì‹œ 30ë¶„ì— /home/{ë³¸ì¸ì‚¬ë²ˆ}/week3 í•˜ìœ„ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  .log íŒŒì¼ì„ ì‚­ì œí•˜ëŠ” crontabì„ ì‘ì„±í•˜ì„¸ìš”.</li>\n</ul>\n<ol start=\"7\">\n<li>rm ëª…ë ¹ ì‹œ ë°”ë¡œ ì‚­ì œë¥¼ ì‹¤í–‰ì‹œí‚¤ì§€ ì•Šê³  ì‚¬ìš©ìì—ê²Œ í™•ì¸ìš”ì²­ í›„ ì»¨íŒí•˜ì—¬ ì‚­ì œí•  ìˆ˜ ìˆë„ë¡ rm ëª…ë ¹ì— ëŒ€í•œ aliasë¥¼ ë“±ë¡í•˜ì„¸ìš”.</li>\n</ol>","frontmatter":{"date":"July 12, 2023","title":"[ë¦¬ëˆ…ìŠ¤ ìŠ¤í„°ë””] 3. í”„ë¡œì„¸ìŠ¤","categories":"Linux","author":"jjunyong","emoji":"ğŸ§¢"},"fields":{"slug":"/linux-w3/"}},"site":{"siteMetadata":{"siteUrl":"https://jjunyong.github.io","comments":{"utterances":{"repo":"jjunyong/jjunyong.github.io"}}}}},"pageContext":{"slug":"/on-premise7/","nextSlug":"/on-premise6/","prevSlug":"/linux-w3/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}