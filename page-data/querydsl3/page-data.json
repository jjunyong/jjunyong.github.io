{"componentChunkName":"component---src-templates-blog-template-js","path":"/querydsl3/","result":{"data":{"cur":{"id":"e5a5c625-904e-51f6-a720-067c29631382","html":"<p>querydsl의 기본문법 중 조인, 서브쿼리, case문 등에 대해서 알아보자.</p>\n<h2 id=\"1-조인\" style=\"position:relative;\"><a href=\"#1-%EC%A1%B0%EC%9D%B8\" aria-label=\"1 조인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 조인</h2>\n<p>기본적으로 jpql의 조인과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">\n<span class=\"token comment\">/* 팀 A에 소속된 모든 회원 */</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> queryFactory\n            <span class=\"token punctuation\">.</span><span class=\"token function\">selectFrom</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token namespace\">member<span class=\"token punctuation\">.</span></span>Team</span><span class=\"token punctuation\">,</span> team<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"teamA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">//left, right join 도 가능</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> queryFactory\n            <span class=\"token punctuation\">.</span><span class=\"token function\">selectFrom</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token namespace\">member<span class=\"token punctuation\">.</span></span>Team</span><span class=\"token punctuation\">,</span> team<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"teamA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>연관관계가 없어도 querydsl에서 join을 할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">/* 회원의 이름이 팀 이름과 같은 회원 조회*/</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">theta_join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  \n  queryFactory\n        <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span>team<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h3 id=\"join-on-절\" style=\"position:relative;\"><a href=\"#join-on-%EC%A0%88\" aria-label=\"join on 절 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Join on 절</h3>\n<p>on절을 사용하면 조인할 대상을 줄여준다.</p>\n<ol>\n<li>조인 대상 필터링</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">/* 회원과 팀을 조인하면서, 팀 이름이 teamA인 팀만 조인, 회원은 모두 조회 */</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">join_on_filtering</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  \n  <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tuple</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> queryFactory\n        <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> team<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>team<span class=\"token punctuation\">,</span> team<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"teamA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// SQL 문법 상에서는 on 절 뒤에 and(t1.name='teamA') 가 추가되는 형태 </span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>inner join일 경우는 on을 쓰는 것과 where에 조건을 더하는 것과 동일한 결과를 반환한다.\nleft join일 경우에는 없는 것도 left 부분은 가져오기 때문에 위와 같은 방법을 써주어야 한다.\n따라서 outer join이 필요한 경우에만 on필터링을 사용하자.</p>\n<ol start=\"2\">\n<li>연관관계가 없는 엔티티 outer join</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">join_on_no_relation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  \n  <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tuple</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> queryFactory\n        <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">,</span> team<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoin</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// id 대신 member.username = team.name 으로 on</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>일반 조인 : leftJoin(member.Team, team)</li>\n<li>on 조인 : from(member).leftJoin(team).on(…)</li>\n</ul>\n<h2 id=\"2-fetch-조인\" style=\"position:relative;\"><a href=\"#2-fetch-%EC%A1%B0%EC%9D%B8\" aria-label=\"2 fetch 조인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Fetch 조인</h2>\n<p>페치조인은 SQL에서 제공하는 기능이 아니고 SQL 조인을 활용해서 연관된 엔티티를 SQL 한번에 조회하는 기능이다.\n성능 최적화를 위해 사용된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">\n<span class=\"token annotation punctuation\">@PersistenceUnit</span>\n<span class=\"token class-name\">EntityManagerFactory</span> emf<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">fetchJoinNo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> queryFactory\n            <span class=\"token punctuation\">.</span><span class=\"token function\">selectFrom</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token class-name\"><span class=\"token namespace\">member<span class=\"token punctuation\">.</span></span>Team</span><span class=\"token punctuation\">,</span> team<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">fetchJoin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"teamA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    emf<span class=\"token punctuation\">.</span><span class=\"token function\">getPersistenceUnitUtil</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isLoaded</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getTeam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"3-서브-쿼리\" style=\"position:relative;\"><a href=\"#3-%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC\" aria-label=\"3 서브 쿼리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 서브 쿼리</h2>\n<ul>\n<li>select, where 절에서 서브쿼리 사용 가능하며, alias명을 직접 지정해주어야 한다.</li>\n<li>static import 사용해서 JPAExpressions 표현 생략 가능하다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">/* 나이가 가장 많은 회원 조회 */</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">selectSubquery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">QMember</span> memberSub <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QMember</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberSub\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tuple</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> queryFactory\n            <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span> \n              <span class=\"token class-name\">JPAExpressions</span><span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>memberSub<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// static import 해서 JPAExpressions. 표현 생략 가능 </span>\n            <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    emf<span class=\"token punctuation\">.</span><span class=\"token function\">getPersistenceUnitUtil</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">isLoaded</span><span class=\"token punctuation\">(</span>findMember<span class=\"token punctuation\">.</span><span class=\"token function\">getTeam</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// true</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>From 절에서 서브쿼리 사용 불가</p>\n<ul>\n<li>JPQL에서는 from 절의 서브쿼리, 즉 인라인 뷰는 지원하지 않는다.\nselect, where절에서만 사용 가능하다.</li>\n</ul>\n</li>\n<li>\n<p>대체방안</p>\n<ul>\n<li>서브쿼리를 join으로 변경</li>\n<li>app에서 쿼리를 2번 분리해서 실행</li>\n<li>native SQL을 써야 한다.</li>\n</ul>\n</li>\n</ul>\n<p>그러나 From절에 서브쿼리를 쓰는 이유가 많은데 그 중에 안 좋은 이유는 화면에 쿼리를 그대로 맞추기 위한 용도로 쓴다는 것이다.\n쿼리는 DB에서 데이터를 가져오는 것에 집중하고 애플리케이션과 프레젠테이션 단에서 가져온 데이터를 조작하여 쓰는 것이 더 나은 방식이다.</p>\n<h2 id=\"4-case-문\" style=\"position:relative;\"><a href=\"#4-case-%EB%AC%B8\" aria-label=\"4 case 문 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Case 문</h2>\n<p>사실 case문을 쓰는 것은 대부분의 경우 좋지 않고, 위와 같은 이유로 앱 단에서 해결하는 것이 더 좋은 방법이긴 하다.\n하지만 어쨋든 아래와 같은 방법으로 querydsl에서도 case문을 지원한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">basicCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> queryFactory\n            <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>age\n                  <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"열살\"</span><span class=\"token punctuation\">)</span>\n                  <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"스무살\"</span><span class=\"token punctuation\">)</span>\n                  <span class=\"token punctuation\">.</span><span class=\"token function\">otherwise</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"기타\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">complexCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n    queryFactory\n            <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">CaseBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                  <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">between</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"0~20\"</span><span class=\"token punctuation\">)</span>\n                  <span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">between</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"20~30\"</span><span class=\"token punctuation\">)</span>\n                  <span class=\"token punctuation\">.</span><span class=\"token function\">otherwise</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"기타\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"5-상수-문자-더하기-사용\" style=\"position:relative;\"><a href=\"#5-%EC%83%81%EC%88%98-%EB%AC%B8%EC%9E%90-%EB%8D%94%ED%95%98%EA%B8%B0-%EC%82%AC%EC%9A%A9\" aria-label=\"5 상수 문자 더하기 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 상수, 문자 더하기 사용</h2>\n<ul>\n<li>상수\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">constant</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n  <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tuple</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span>\n    queryFactory\n            <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Expressions</span><span class=\"token punctuation\">.</span><span class=\"token function\">constant</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<br>\n<ul>\n<li>\n<p>문자 더하기</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n  <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span>\n    queryFactory\n            <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"_\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">stringValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \n            <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>문자가 아닌 타입들은 .stringValue()로 문자로 변환가능하며, 특히 Enum처리할 때 많이 사용한다.</li>\n</ul>\n</li>\n</ul>","excerpt":"querydsl의 기본문법 중 조인, 서브쿼리, case문 등에 대해서 알아보자. 1. 조인 기본적으로 jpql의 조인과 같다. 연관관계가 없어도 querydsl에서 join을 할 수 있다. Join on 절 on절을 사용하면 조인할 대상을 줄여준다. 조인 대상 필터링 inner join일 경우는 on을 쓰는 것과 where에 조건을 더하는 것과 동일한 결과를 반환한다.\nleft join일 경우에는 없는 것도 left 부분은 가져오기 때문에 위와 같은 방법을 써주어야 한다.\n따라서 outer join이 필요한 경우에만 on필터링을 사용하자. 연관관계가 없는 엔티티 outer join 일반 조인 : leftJoin(member.Team, team) on 조인 : from(member).leftJoin(team).on(…) 2. Fetch 조인 페치조인은 SQL에서 제공하는 기능이 아니고 SQL 조인을 활용해서 연관된 엔티티를 SQL 한번에 조회하는 기능이다.\n성능 최적화를 위해 사용…","frontmatter":{"date":"June 10, 2022","title":"[QueryDSL] 3. QueryDSL 기본문법 (2)","categories":"Spring","author":"jjunyong","emoji":"🧢"},"fields":{"slug":"/querydsl3/"}},"next":{"id":"b51639ee-d028-5ac6-875c-b4157e861f8d","html":"<p>QueryDSL이 무엇인지와 환경설정하는 방법에 대해 배웠으니 이제 본격적으로 문법을 배워보자.</p>\n<h2 id=\"1-기본-q-type-활용\" style=\"position:relative;\"><a href=\"#1-%EA%B8%B0%EB%B3%B8-q-type-%ED%99%9C%EC%9A%A9\" aria-label=\"1 기본 q type 활용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 기본 Q-Type 활용</h2>\n<p>querydsl 라이브러리가 생성한 Q 클래스를 살펴보면 아래와 같이 static 변수로 클래스에 대한\nQ객체를 생성해 둔 것을 확인할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">QMember</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">QMember</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>따라서 우리가 querydsl을 사용할 때는 static import로 해당 객체를 불러와서 객체의 멤버 변수인 ‘member’를 사용하면\n아래와 같이 간결하게 코드를 짤 수 있다.</p>\n<p>그리고 Spring에서 주입해주는 em 은 멀티쓰레드 환경에서 안전하도록 구성되어 있기 때문에 JPAQueryFactory는 동시성 문제를 고려하지 않고 따로 클래스의 필드로 빼서 사용하면 된다.\n멀티쓰레드 환경에서 현재 나의 transaction이 어디에 걸려있느냐에 따라 transaction에 바인딩 되도록 em을 분배해주기 때문이다.\n<br></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> <span class=\"token keyword\">static</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>entity<span class=\"token punctuation\">.</span>QMember<span class=\"token punctuation\">.</span>*<span class=\"token punctuation\">;</span>  <span class=\"token comment\">// static import </span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token class-name\">JPAQueryFactory</span> queryFactory <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">JPAQueryFactory</span><span class=\"token punctuation\">(</span>em<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// JPAQueryFactory의 생성자에 EntityManager를 넣어주고, queryFactory는 멤버로 뺀다. </span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">startQuerydsl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> queryFactory\n          <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span> <span class=\"token comment\">// static import </span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">fetchOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"2-검색-조건-쿼리\" style=\"position:relative;\"><a href=\"#2-%EA%B2%80%EC%83%89-%EC%A1%B0%EA%B1%B4-%EC%BF%BC%EB%A6%AC\" aria-label=\"2 검색 조건 쿼리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 검색 조건 쿼리</h2>\n<p>querydsl은 JPQL이 제공하는 모든 검색조건에 대한 메소드를 제공한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// =</span>\nmember<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">ne</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// !=</span>\nmember<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">isNotNull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmember<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">in</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmember<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">notin</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmember<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">between</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmember<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">goe</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// greator or equal to  ( >= )</span>\nmember<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">gt</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// greater than</span>\nmember<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">loe</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//lessor or equal to </span>\nmember<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">lt</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// less than </span>\n\nmember<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">like</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member%\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//like 검색</span>\nmember<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// like %member%</span>\nmember<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">startsWith</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// like member%</span>\n</code></pre></div>\n<p>where 문에 and 조건을 여러개를 주는 경우는 .and로 체이닝 해줘도 되지만 where 메소드 안에서 쉼표로 구분해주면 된다.\n그리고 이 방법을 사용하면 경우에 따라 null값이 들어갈 수 있는 동적쿼리를 짤 때 코드를 깔끔하게 만들어 준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">search</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token class-name\">Member</span> findMember <span class=\"token operator\">=</span> queryFactory\n      <span class=\"token punctuation\">.</span><span class=\"token function\">selectFrom</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span>\n        member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">fetchOne</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"3-결과-조회--정렬\" style=\"position:relative;\"><a href=\"#3-%EA%B2%B0%EA%B3%BC-%EC%A1%B0%ED%9A%8C--%EC%A0%95%EB%A0%AC\" aria-label=\"3 결과 조회  정렬 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 결과 조회 / 정렬</h2>\n<p>querydsl에서 쿼리에 대한 결과를 가져올 때 fetchOne 뿐만이 아니라 아래와 같은 다양한 메소드를 통해서 가져올 수 있다.</p>\n<ul>\n<li>fetch()\n<ul>\n<li>쿼리결과 전체 반환</li>\n</ul>\n</li>\n<li>fetchOne()\n<ul>\n<li>fetch결과가 2개 이상이거나 없으면 에러</li>\n</ul>\n</li>\n<li>fetchFirst()\n<ul>\n<li>limit(1).fetchOne() 과 같은 의미</li>\n</ul>\n</li>\n<li>fetchResults()\n<ul>\n<li>totalCount를 가져오기 때문에 count용 쿼리와 contents용 쿼리 2번을 실행한다.</li>\n<li>페이지네이션을 위해 사용되며 QueryResults<T> 타입을 반환한다.\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">QueryResult</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> results <span class=\"token operator\">=</span> queryFactory\n                <span class=\"token punctuation\">.</span><span class=\"token function\">selectFrom</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">fetchResults</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>fetchCount()</li>\n</ul>\n<br>\n<p>데이터를 정렬하는 것은 아래와 같이 하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> list <span class=\"token operator\">=</span> queryFactory\n        <span class=\"token punctuation\">.</span><span class=\"token function\">selectFrom</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">where</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">eq</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">desc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">asc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">nullsLast</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// username이 없는 row는 마지막으로 정렬( nullsFirst도 가능 )</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"4-페이징과-집합\" style=\"position:relative;\"><a href=\"#4-%ED%8E%98%EC%9D%B4%EC%A7%95%EA%B3%BC-%EC%A7%91%ED%95%A9\" aria-label=\"4 페이징과 집합 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 페이징과 집합</h2>\n<p>페이징은 아래와 같이 offset, limit을 사용하여 처리한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> queryFactory\n          <span class=\"token punctuation\">.</span><span class=\"token function\">selectFrom</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">.</span><span class=\"token function\">desc</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">offset</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">limit</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<br>\n<p>group by, having, 집계함수 같은 집합 관련된 쿼리에 대해서도 아래 코드를 통해 알아보자.</p>\n<ul>\n<li>집계 함수</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tuple</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> \n    queryFactory\n          <span class=\"token punctuation\">.</span><span class=\"token function\">selectFrom</span><span class=\"token punctuation\">(</span>\n            member<span class=\"token punctuation\">.</span><span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n            member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            mebmer<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">min</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Tuple</span> tuple <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span>tuple<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span><span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// member수 반환</span></code></pre></div>\n<p>원하는 집계함수를 통해 select하게 되면 querydsl에서 제공하는 ‘Tuple’이라는 형태로 결과를 리턴받는다.\n이를 DTO로 뽑아서 사용하는 방식으로 많이 쓴다.</p>\n<ul>\n<li>group by</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">  <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Tuple</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> queryFactory\n          <span class=\"token punctuation\">.</span><span class=\"token function\">selectFrom</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> member<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">.</span><span class=\"token function\">avg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">.</span>team<span class=\"token punctuation\">,</span> team<span class=\"token punctuation\">)</span> <span class=\"token comment\">//inner join member.team as team</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">groupBy</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>  <span class=\"token comment\">// team의 name으로 grouping</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Team</span> teamA <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Team</span> teamB <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>having</li>\n</ul>\n<p>아래와 같은 형식으로 having도 group by 와 함께 쓸 수 있다.\n<br></p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>생략\n<span class=\"token punctuation\">.</span><span class=\"token function\">groupBy</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">having</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">.</span><span class=\"token function\">gt</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>여기까지 끊고 다음 글에서 querydsl의 기본 문법들(조인, 서브쿼리, case 문 등)에 대해서 더 알아보도록 하겠다.</p>","frontmatter":{"date":"June 09, 2022","title":"[QueryDSL] 2. QueryDSL 기본문법 (1)","categories":"Spring","author":"jjunyong","emoji":"🧢"},"fields":{"slug":"/querydsl2/"}},"prev":{"id":"820c1cdc-b7af-52ad-8061-4e997e351a6f","html":"<p>기존에 MySQL 환경에서 1개 database로만 운영하던 서비스에 dev용 database를 추가하기 위해 DBeaver에서 dump하여 복사한 방법을 알아보자.</p>\n<p>먼저 복사하려는 대상 db에서 우클릭하여 ‘dump database’를 선택한다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAADM0lEQVQ4y32UyW7kVBRA6xOQ2KIGukklZb/B8zyVXbYrTk1JdwYhGiEGqRHNAhDiH5DYoGYBK9jzjwfZSRoiRSyO3pNsn3vve/d6tv/+L8Iv/uTd4TfeWb/hSfqKtP2U5e5rrPxjPlBbnlp7PtQ7ntkHjOgFthejpEBrjVIKrf9l9tMnOW3bEvo2yjzGlD5xsceN1ny0SCaOjIy5yDkWBcptcBz3TvSI8IdzQdOfUZbF9FAon3J9Rd9tyfOWuh4I/IKTExvT9HDsBMf9H+F3+wV1u6bvO8IwwBA2Xn7GenWKY4UEbowSDou5RBo2rh0+mqG6F/54fkK73pDnGVIIpLTxo5o4Kgj8dGLcW9pHmDauEz7I8AFKMRtOO6qqoigKsiwlCBOq7Q2b1ZL9acfl7oyuzLAWx4ijpzhK4TgOQpgIITDN2/U+wKzqBuIoxA8itDhmkV6jvvqb6OUfzA9vMF78zpP1L7zX/cz7w6/Mq2/RTkQUZSRRSpGV06qkhRCS2bJpiaMIPwjR0mDh1Bir17j9N8jVa57Fn3OUfjkxL14houcIf0m/3rLfHDjsLrh8fk0a5xgLk1nbrWnqGsuyptSFKXD9hDqNaYvbUtX8CHV8hD6ZY5mCvOwYhh19d0rXrgm8EMfyMA3BbFk3lGVJmqZ4novWHl62pi5XCMNCmvYdznTDSrq4SUfbnbGqu0naLFtc28dcCGZxHJMkySTN85wkzrm4+ozD9sCyaDBPxnbRE4720NLBCnOKcsWybCiyim7VE/rxbcmjaBQ2TUNZVcSOx9Z26fsNvhMgFmrCXCiUaWFJBzcuqaqWqqjJ0oK6WhF40W3JQRDgui5RFBEGAVq7WH5BW7es6h5pWpNsZNxPGXoZRb6cSi7ziqpYTme4ODGYjf3zFikxTY3tFVR5TZnXD4TjmY5CN8pQ2pq+kUJOk+P7Ib4fMHvY7WrqJSE1tmVPCHMMIu6QKCFZ7q5YDRvatsEPfNIsY7zcpmlH4X9n8VY6RZZyYsr8/h0lsW2bOCsxUxuRCGSiEZnCSCVxnjIb5+8h+pEZ1W9/BLbtMAwDSbliOL+mP9zgd5cUmxsubl7yD5EOMnWeRvNTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image1.png\"\n        title=\"image1.png\"\n        src=\"/static/275297e40a847c0eaff4085f45921ce7/37523/image1.png\"\n        srcset=\"/static/275297e40a847c0eaff4085f45921ce7/e9ff0/image1.png 180w,\n/static/275297e40a847c0eaff4085f45921ce7/f21e7/image1.png 360w,\n/static/275297e40a847c0eaff4085f45921ce7/37523/image1.png 720w,\n/static/275297e40a847c0eaff4085f45921ce7/00d43/image1.png 1000w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>그 후 정확한 DB와 모든 table들을 선택한 후 다음\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABp0lEQVQoz23RS2+bQBSGYf5MFdfBOFVb1dzM3dwMBozBBmzjJJuqrdRVu+uuv/utIKliRVk8+s7MGc2MdATfUklTn5Xr4Tk2tmVjmC6m9cQwHVw3wPWCsTaH3muWh+vFmJaPoEd7jj//0n77Q9L/Ju2+057PFPuG8tCyazp27fHJUF973q/aI03/wDovEd5/NFCCli9Oyc3nkE9WzubQE4Yhlm2j6Us0XX+TqmkoqoqiaixkmaVpIojTG+biBEmcMJu+Q9c1wu2BlR+wNExkRWEhv0VmaRjjo0PajoNpOwi3osjd3YfRbDZDM2ySuieIYizXw1n5rwRj2t6KKElJ82LMbFuyCkKE6XQ6XjS4nU6QdRt3/wPXsZjP5+O+JElI0v98MfREURxzuGehqAim45DvKtKiZJ0VxJuC+nRP3XTj+lqc5axHw7mMqmnp+gt103J5fCDJMoQg2dDdP7I/9uO0hsmWh6sJX6m7E9WVujtzOJ0puwvb81fiokLQlgbN8Uyab3H8AC+Mn0W4QYgbvOTwuyjdECWbMZO8YFdXmGmHsv/Fwiv4B/lbSnDJCBpHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image2.png\"\n        title=\"image2.png\"\n        src=\"/static/38901761dc1801644fa90322297295df/37523/image2.png\"\n        srcset=\"/static/38901761dc1801644fa90322297295df/e9ff0/image2.png 180w,\n/static/38901761dc1801644fa90322297295df/f21e7/image2.png 360w,\n/static/38901761dc1801644fa90322297295df/37523/image2.png 720w,\n/static/38901761dc1801644fa90322297295df/302a4/image2.png 1080w,\n/static/38901761dc1801644fa90322297295df/07a9c/image2.png 1440w,\n/static/38901761dc1801644fa90322297295df/e9fa0/image2.png 2292w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>output 폴더를 지정해주고 local client를 설정해준 이후 ‘Start’ 버튼을 눌러 dump하면 끝이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB4ElEQVQoz4WSW2/aQBBG+S95aFowdh8rRQnBhtAEBxvfF99tbGLIvf//VCxpqNREfTiaT7uz38zObs++MTAtk6lxxfhyzOVI52JkMHrj4kJH12dMp9dSj/7aOzJBN34ynVn0rqyQtH0mqrYsxJq5u8IJI5ZBhO2H2G/R8oN3vZTrR/a5Tihwo4Tet3OPs+UTP8yOk/OSs5uMp9cXusdniqalWDfk6/ZdF82GsOywvOBfXJ/esH+Kppwy7H9B+XqCbug0uyeqpiWtNyT1HeW6IS4bkrojr9f4cY7tBx+a9gbKEFXVULXvDAYKI2NG1T2y2e4QWUlWtzTdjlVRUbad1CIrPu5wb6goCqqqSgaDAfpkQr3pCOKUVVaQVTVhkhHECW4kJEL4h7n+17DfZ2xMqDYdaVkTpRlxXhKluezKDQVOEOEL8bmhqmkMh0M0TZMdGtMrHl5+0Wx3rLutpL7riIuKpKgI4xTrEzNpaFo2aVnJyubSZeG43N0/0m7vpdn98ytluyEpK4nIcnnw1vFYuD4L90/0D698u3TlV9jPzIlWLEPxnrDwgkPivrof4q+SN2I5V08c4x43WtGb3cyJ84K98fR6zmxuMpvffoCJL2ICEWN7AWGcyNscoie1aTv8BiHLsPo9hRwvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image3.png\"\n        title=\"image3.png\"\n        src=\"/static/ddd15130a86fd95cdd99766db6c3762c/37523/image3.png\"\n        srcset=\"/static/ddd15130a86fd95cdd99766db6c3762c/e9ff0/image3.png 180w,\n/static/ddd15130a86fd95cdd99766db6c3762c/f21e7/image3.png 360w,\n/static/ddd15130a86fd95cdd99766db6c3762c/37523/image3.png 720w,\n/static/ddd15130a86fd95cdd99766db6c3762c/302a4/image3.png 1080w,\n/static/ddd15130a86fd95cdd99766db6c3762c/07a9c/image3.png 1440w,\n/static/ddd15130a86fd95cdd99766db6c3762c/1d94f/image3.png 2264w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>그 후 dev용 database (나의 경우 onyou-dev) 를 생성한 다음 우클릭하여 Restore database를 선택한다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 88.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAADTElEQVQ4y22Uy27kRBSG8xKwn0lmuu1ylW/l+7Xtdnc73bl0oklmGM2ABBs0CLFnyRJWSPAMLBGI5/uQq3NBJItfRz62vvrPpXyUJSG+OCHavqXvO5oyoWlqqrqh63tCrZFK4boeynUf5MkZSRTgeh7KvD/o6GT8kc9XP3Pyxe9EH39DXP/CvP2ak+iS4/ia19kbjuMrXug9L6M9x9GV0Wf9T8z6b/GVjVIurusegKK+oR9vuLr9kuT0G7z2BpXtqIZb6vU7mvU7rHDDS2fBK9UzD9bMvMHAvXKLp5wD8M7lURhFfFi+5vub3JQ4tDlBmFDUa9rFiBcUzO0Q24mwhDZSXoq0XhHHGlcnKCUfHSZFzSaLuBiXlHVLURQkccaw3JAmFdZcMZ9LhO3hCN/I92N0qKlXp0T9DuWIR2BRVmRtxWY8Jc9z8jxDpzX1es962NB1A6vViO9prLmDsKfyAqTjMIxbxss3CGHfAV2O8qIkWTfsznbUdU2WJgRxSdqsGfoVrgoJ/AjbkndAheeGzGczluOOq6vbA9DzDg7TLEf5LmEY4vu+SUo3JM4XlMV0QEmelSY6wjXAya1tCxbLFcN4hm1ZZpWMwyTNcBzH7NKUlMLCTRoWV19xvj3j/HzP5cU1aVIYh5MmsGNbhHFC1q2oqwKtAyKtOUqyDCmdhx5IxyZMG4b9R7bjlrJoaZuePKso8pqqbCnzCjuoKZaXrM/fMp7fMGyvkbq4AzqPQCUljgqJsgVd21MWDUr6pm8HBQR+zIuLX8k+/UP33Z9Un/5i+OFvnA9/PANUEkt4uLqkqVoinZoy/zuUqeS02rDbv+ds/57d5XvyeoMXd88AHYHjJ2TLc+NQCNfA7jW5lFMPg5ym29AtVgzDKYvFijBMnwJtIciilP3pBbvdBWEQM5+JB4dS+ijHQ3ghZbuk60eadkW/HNE6ewqc/iyeJah8zXqzfVLyFCeHwk+omsG4a9tDDIL4+aFYkwtd0rVLM9UJMvXuvn+TbMclTnPKuqNaDOR5hVLe80OZPvZ1TlO3ZFmJbTnYtjRR2BLpuGZ3tQ7xdUyz3pmbIoT4H/B+uaU018myLGzbNs8TYNrXKR4ugksUx8bl6uyaIAxN/l/Vs1E9c8HwSwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image4.png\"\n        title=\"image4.png\"\n        src=\"/static/9997f3ed2055612100248c15c67c3ba2/37523/image4.png\"\n        srcset=\"/static/9997f3ed2055612100248c15c67c3ba2/e9ff0/image4.png 180w,\n/static/9997f3ed2055612100248c15c67c3ba2/f21e7/image4.png 360w,\n/static/9997f3ed2055612100248c15c67c3ba2/37523/image4.png 720w,\n/static/9997f3ed2055612100248c15c67c3ba2/eb3fa/image4.png 1026w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>기존 db에서 dump로 생성했던 sq을 선택하고 ‘Start’ 눌러주면 끝이다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABi0lEQVQoz3WR2U7CQBSG52kMrcVoTIzRahcqFlBpKcy0nS6UVigYlxgxeuWdr/2bGZYYgxdfzpl/zpxtSNfW4fk9tJ02WqYJy7RgGA5M04GxxnVv0O3ewbKuYBitlW5saMlYx+mg7Xog550QbP4FOv2Emy5xzWYYsBA+XTFgEbwRkwh/J2GEIOIIogxEOTZxbA9xYgdonPZxYvvIywosyRCmOShP1n6GIIy3RUTRFZHUaBQizzmIpjZwoCmSproHXT9DWS/AkhR5dY/ZwyPK2RxVvcBkVqOY1pj8QWgihlcLEE3TcHh0JGk2D3B+cYmynsvHIiHPC1Ceym6jTDD+l1EyBlEUBaqqQtvfh6I0cKbrshuRTJAUE6RFCRoncuTNiJu9/sanDMSwbIQxx63no93twe3dYvH8gqfXN8wfn/H6/iGtGE0UyibVzoT+iEpLOnd9JEUpFz+Mk20HK9j6zH59RrS922iyAOPwaAziXHfk4vm4QD8Y7RxlF/0hlU3c1zX8dAqz/MZVusQPEgVjfSedckAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image5.png\"\n        title=\"image5.png\"\n        src=\"/static/d7f0b314cab11b4ab1e0ddb7dc5fe656/37523/image5.png\"\n        srcset=\"/static/d7f0b314cab11b4ab1e0ddb7dc5fe656/e9ff0/image5.png 180w,\n/static/d7f0b314cab11b4ab1e0ddb7dc5fe656/f21e7/image5.png 360w,\n/static/d7f0b314cab11b4ab1e0ddb7dc5fe656/37523/image5.png 720w,\n/static/d7f0b314cab11b4ab1e0ddb7dc5fe656/302a4/image5.png 1080w,\n/static/d7f0b314cab11b4ab1e0ddb7dc5fe656/07a9c/image5.png 1440w,\n/static/d7f0b314cab11b4ab1e0ddb7dc5fe656/fe83d/image5.png 2262w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>","frontmatter":{"date":"July 01, 2022","title":"DBeaver에서 MySQL DB dump하여 복사하기","categories":"Data DevOps","author":"jjunyong","emoji":"🧢"},"fields":{"slug":"/mysql-dbeaver-dump/"}},"site":{"siteMetadata":{"siteUrl":"https://jjunyong.github.io","comments":{"utterances":{"repo":"jjunyong/jjunyong.github.io"}}}}},"pageContext":{"slug":"/querydsl3/","nextSlug":"/querydsl2/","prevSlug":"/mysql-dbeaver-dump/"}},"staticQueryHashes":["1073350324","1956554647","2938748437"]}